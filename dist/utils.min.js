!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.turfUtils={})}(this,function(t){"use strict";var n,r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k=function t(e){return e instanceof t?e:this instanceof t?void(this._wrapped=e):new t(e)};function o(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function m(t,e){return t===e||t!=t&&e!=e}function s(t,e){for(var n=t.length;n--;)if(m(t[n][0],e))return n;return-1}n=function(t,e){return t.substring(0,e.length)===e},r=function(t,e){return t.substring(t.length-e.length)===e},k.delimiter=" ",k.isArray=function(t){return!(!t||t.constructor!==Array)},k.trim=function(t,e){for(e=e||" ";n(t,e);)t=t.substring(1);for(;r(t,e);)t=t.substring(0,t.length-1);return t},(k.Wkt=function(t){this.delimiter=k.delimiter||" ",this.wrapVertices=!0,this.regExes={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,spaces:/\s+|\+/,numeric:/-*\d+(\.*\d+)?/,comma:/\s*,\s*/,parenComma:/\)\s*,\s*\(/,coord:/-*\d+\.*\d+ -*\d+\.*\d+/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/,ogcTypes:/^(multi)?(point|line|polygon|box)?(string)?$/i,crudeJson:/^{.*"(type|coordinates|geometries|features)":.*}$/},this.components=void 0,t&&"string"==typeof t?this.read(t):t&&void 0!==(void 0===t?"undefined":i(t))&&this.fromObject(t)}).prototype.isCollection=function(){switch(this.type.slice(0,5)){case"multi":case"polyg":return!0;default:return!1}},k.Wkt.prototype.sameCoords=function(t,e){return t.x===e.x&&t.y===e.y},k.Wkt.prototype.fromObject=function(t){var e;return e=t.hasOwnProperty("type")&&t.hasOwnProperty("coordinates")?this.fromJson(t):this.deconstruct.call(this,t),this.components=e.components,this.isRectangle=e.isRectangle||!1,this.type=e.type,this},k.Wkt.prototype.toObject=function(t){var e=this.construct[this.type].call(this,t);return"object"!==(void 0===e?"undefined":i(e))||k.isArray(e)||(e.properties=this.properties),e},k.Wkt.prototype.toString=function(t){return this.write()},k.Wkt.prototype.fromJson=function(t){var e,n,r,o,i,s;if(this.type=t.type.toLowerCase(),this.components=[],t.hasOwnProperty("geometry"))return this.fromJson(t.geometry),this.properties=t.properties,this;if(o=t.coordinates,k.isArray(o[0])){for(e in o)if(o.hasOwnProperty(e))if(k.isArray(o[e][0])){for(n in s=[],o[e])if(o[e].hasOwnProperty(n))if(k.isArray(o[e][n][0])){for(r in i=[],o[e][n])o[e][n].hasOwnProperty(r)&&i.push({x:o[e][n][r][0],y:o[e][n][r][1]});s.push(i)}else s.push({x:o[e][n][0],y:o[e][n][1]});this.components.push(s)}else"multipoint"===this.type?this.components.push([{x:o[e][0],y:o[e][1]}]):this.components.push({x:o[e][0],y:o[e][1]})}else this.components.push({x:o[0],y:o[1]});return this},k.Wkt.prototype.toJson=function(){var t,e,n,r,o,i,s;if(t=this.components,e={coordinates:[],type:function(){var t,e,n;for(t in n=[],e=this.regExes.ogcTypes.exec(this.type).slice(1))e.hasOwnProperty(t)&&void 0!==e[t]&&n.push(e[t].toLowerCase().slice(0,1).toUpperCase()+e[t].toLowerCase().slice(1));return n}.call(this).join("")},"box"===this.type.toLowerCase()){for(n in e.type="Polygon",e.bbox=[],t)t.hasOwnProperty(n)&&(e.bbox=e.bbox.concat([t[n].x,t[n].y]));return e.coordinates=[[[t[0].x,t[0].y],[t[0].x,t[1].y],[t[1].x,t[1].y],[t[1].x,t[0].y],[t[0].x,t[0].y]]],e}for(n in t)if(t.hasOwnProperty(n))if(k.isArray(t[n])){for(r in s=[],t[n])if(t[n].hasOwnProperty(r))if(k.isArray(t[n][r])){for(o in i=[],t[n][r])t[n][r].hasOwnProperty(o)&&i.push([t[n][r][o].x,t[n][r][o].y]);s.push(i)}else 1<t[n].length?s.push([t[n][r].x,t[n][r].y]):s=s.concat([t[n][r].x,t[n][r].y]);e.coordinates.push(s)}else 1<t.length?e.coordinates.push([t[n].x,t[n].y]):e.coordinates=e.coordinates.concat([t[n].x,t[n].y]);return e},k.Wkt.prototype.merge=function(t){var e=this.type.slice(0,5);if(this.type!==t.type&&this.type.slice(5,this.type.length)!==t.type)throw TypeError("The input geometry types must agree or the calling Wkt.Wkt instance must be a multigeometry of the other");switch(e){case"point":this.components=[this.components.concat(t.components)];break;case"multi":this.components=this.components.concat("multi"===t.type.slice(0,5)?t.components:[t.components]);break;default:this.components=[this.components,t.components]}return"multi"!==e&&(this.type="multi"+this.type),this},k.Wkt.prototype.read=function(t){var e;if(e=this.regExes.typeStr.exec(t))this.type=e[1].toLowerCase(),this.base=e[2],this.ingest[this.type]&&(this.components=this.ingest[this.type].apply(this,[this.base]));else{if(!this.regExes.crudeJson.test(t))throw console.log("Invalid WKT string provided to read() ",t),{name:"WKTError",message:"Invalid WKT string provided to read()"};if("object"!==("undefined"==typeof JSON?"undefined":i(JSON))||"function"!=typeof JSON.parse)throw console.log("JSON.parse() is not available; cannot parse GeoJSON strings"),{name:"JSONError",message:"JSON.parse() is not available; cannot parse GeoJSON strings"};this.fromJson(JSON.parse(t))}return this},k.Wkt.prototype.write=function(t){var e,n,r;for(t=t||this.components,(n=[]).push(this.type.toUpperCase()+"("),e=0;e<t.length;e+=1){if(this.isCollection()&&0<e&&n.push(","),!this.extract[this.type])return null;r=this.extract[this.type].apply(this,[t[e]]),this.isCollection()&&"multipoint"!==this.type?n.push("("+r+")"):(n.push(r),e!==t.length-1&&"multipoint"!==this.type&&n.push(","))}return n.push(")"),n.join("")},k.Wkt.prototype.extract={point:function(t){return String(t.x)+this.delimiter+String(t.y)},multipoint:function(t){var e,n,r=[];for(e=0;e<t.length;e+=1)n=this.extract.point.apply(this,[t[e]]),this.wrapVertices&&(n="("+n+")"),r.push(n);return r.join(",")},linestring:function(t){return this.extract.point.apply(this,[t])},multilinestring:function(t){var e,n=[];if(t.length)for(e=0;e<t.length;e+=1)n.push(this.extract.linestring.apply(this,[t[e]]));else n.push(this.extract.point.apply(this,[t]));return n.join(",")},polygon:function(t){return this.extract.multilinestring.apply(this,[t])},multipolygon:function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push("("+this.extract.polygon.apply(this,[t[e]])+")");return n.join(",")},box:function(t){return this.extract.linestring.apply(this,[t])},geometrycollection:function(t){console.log("The geometrycollection WKT type is not yet supported.")}},k.Wkt.prototype.ingest={point:function(t){var e=k.trim(t).split(this.regExes.spaces);return[{x:parseFloat(this.regExes.numeric.exec(e[0])[0]),y:parseFloat(this.regExes.numeric.exec(e[1])[0])}]},multipoint:function(t){var e,n,r;for(n=[],r=k.trim(t).split(this.regExes.comma),e=0;e<r.length;e+=1)n.push(this.ingest.point.apply(this,[r[e]]));return n},linestring:function(t){var e,n,r;for(n=this.ingest.multipoint.apply(this,[t]),r=[],e=0;e<n.length;e+=1)r=r.concat(n[e]);return r},multilinestring:function(t){var e,n,r,o;for(n=[],1===(o=k.trim(t).split(this.regExes.doubleParenComma)).length&&(o=k.trim(t).split(this.regExes.parenComma)),e=0;e<o.length;e+=1)r=o[e].replace(this.regExes.trimParens,"$1"),n.push(this.ingest.linestring.apply(this,[r]));return n},polygon:function(t){var e,n,r,o,i,s;for(s=k.trim(t).split(this.regExes.parenComma),r=[],e=0;e<s.length;e+=1){for(i=s[e].replace(this.regExes.trimParens,"$1").split(this.regExes.comma),o=[],n=0;n<i.length;n+=1){var a=i[n].split(this.regExes.spaces);if(2<a.length&&(a=a.filter(function(t){return""!=t})),2===a.length){var u=a[0],c=a[1];o.push({x:parseFloat(u),y:parseFloat(c)})}}r.push(o)}return r},box:function(t){var e,n,r;for(n=this.ingest.multipoint.apply(this,[t]),r=[],e=0;e<n.length;e+=1)r=r.concat(n[e]);return r},multipolygon:function(t){var e,n,r,o;for(n=[],o=k.trim(t).split(this.regExes.doubleParenComma),e=0;e<o.length;e+=1)r=o[e].replace(this.regExes.trimParens,"$1"),n.push(this.ingest.polygon.apply(this,[r]));return n},geometrycollection:function(t){console.log("The geometrycollection WKT type is not yet supported.")}},k.Wkt.prototype.isRectangle=!1,k.Wkt.prototype.construct={point:function(t,e){var n=e||this.components;return(t=t||{optimized:!0}).position=new google.maps.LatLng(n[0].y,n[0].x),new google.maps.Marker(t)},multipoint:function(t){var e,n,r;for(n=this.components,t=t||{},r=[],e=0;e<n.length;e+=1)r.push(this.construct.point(t,n[e]));return r},linestring:function(t,e){var n,r;for(r=e||this.components,(t=t||{editable:!1}).path=[],n=0;n<r.length;n+=1)t.path.push(new google.maps.LatLng(r[n].y,r[n].x));return new google.maps.Polyline(t)},multilinestring:function(t){var e,n,r;for(n=this.components,(t=t||{editable:!1}).path=[],r=[],e=0;e<n.length;e+=1)r.push(this.construct.linestring(t,n[e]));return r},box:function(t,e){var n=e||this.components;return(t=t||{}).bounds=new google.maps.LatLngBounds(new google.maps.LatLng(n[0].y,n[0].x),new google.maps.LatLng(n[1].y,n[1].x)),new google.maps.Rectangle(t)},polygon:function(t,e){var n,r,o,i,s;for(o=e||this.components,(t=t||{editable:!1}).paths=[],i=[],n=0;n<o.length;n+=1){for(s=[],r=0;r<o[n].length-1;r+=1)s.push(new google.maps.LatLng(o[n][r].y,o[n][r].x));0!==n&&(null===t.reverseInnerPolygons||t.reverseInnerPolygons)&&s.reverse(),i.push(s)}return t.paths=t.paths.concat(i),this.isRectangle?function(){var t,e;for(e in t=new google.maps.LatLngBounds,i[0])i[0].hasOwnProperty(e)&&t.extend(i[0][e]);return new google.maps.Rectangle({bounds:t})}():new google.maps.Polygon(t)},multipolygon:function(t){var e,n,r;for(n=this.components,(t=t||{editable:!1}).path=[],r=[],e=0;e<n.length;e+=1)r.push(this.construct.polygon(t,n[e]));return r}},k.Wkt.prototype.deconstruct=function(n,t){var r,e,o,i,s,a,u,c,l,p,g,h,f,y,d,m,v,b,_;if(google.maps.geometry&&(a=google.maps.geometry.spherical.computeSignedArea),n.constructor===google.maps.LatLng)return c={type:"point",components:[{x:n.lng(),y:n.lat()}]};if(n.constructor===google.maps.Point)return c={type:"point",components:[{x:n.x,y:n.y}]};if(n.constructor===google.maps.Marker)return c={type:"point",components:[{x:n.getPosition().lng(),y:n.getPosition().lat()}]};if(n.constructor===google.maps.Polyline){for(i=[],e=0;e<n.getPath().length;e+=1)u=n.getPath().getAt(e),i.push({x:u.lng(),y:u.lat()});return c={type:"linestring",components:i}}if(n.constructor===google.maps.Polygon){for(s=[],void 0===t&&(t=!((_=n.getPaths().length)<=1||(2===_?a(n.getPaths().getAt(0))*a(n.getPaths().getAt(1))<0:(b=n.getPaths().getArray().map(function(t){return a(t)/Math.abs(a(t))})).indexOf(b[0])===b.lastIndexOf(b[0])||!(t=!0)))),e=0;e<n.getPaths().length;e+=1){for(u=n.getPaths().getAt(e),i=[],o=0;o<n.getPaths().getAt(e).length;o+=1)i.push({x:u.getAt(o).lng(),y:u.getAt(o).lat()});u.getAt(u.length-1).equals(u.getAt(0))||(e%2!=0?i.unshift({x:u.getAt(u.length-1).lng(),y:u.getAt(u.length-1).lat()}):i.push({x:u.getAt(0).lng(),y:u.getAt(0).lat()})),1<n.getPaths().length&&0<e&&(0<a(n.getPaths().getAt(e))&&0<a(n.getPaths().getAt(e-1))||a(n.getPaths().getAt(e))<0&&a(n.getPaths().getAt(e-1))<0&&!t)&&(i=[i]),e%2!=0&&i.reverse(),s.push(i)}return c={type:t?"multipolygon":"polygon",components:s}}if(n.constructor===google.maps.Circle){var w=n.getCenter(),j=n.getRadius();i=[];for(var x=Math.PI/180,P=(j/=1609)/3963*(180/Math.PI),A=P/Math.cos(w.lat()*x),O=0;O<=32;O++){var S=Math.PI*(O/16);p=w.lng()+A*Math.cos(S),l=w.lat()+P*Math.sin(S),i.push({x:p,y:l})}return c={type:"polygon",components:[i]}}if(n.constructor===google.maps.LatLngBounds)return(i=[]).push({x:(u=n).getSouthWest().lng(),y:u.getNorthEast().lat()}),i.push({x:u.getNorthEast().lng(),y:u.getNorthEast().lat()}),i.push({x:u.getNorthEast().lng(),y:u.getSouthWest().lat()}),i.push({x:u.getSouthWest().lng(),y:u.getSouthWest().lat()}),i.push({x:u.getSouthWest().lng(),y:u.getNorthEast().lat()}),c={type:"polygon",isRectangle:!0,components:[i]};if(n.constructor===google.maps.Rectangle)return u=n.getBounds(),(i=[]).push({x:u.getSouthWest().lng(),y:u.getNorthEast().lat()}),i.push({x:u.getNorthEast().lng(),y:u.getNorthEast().lat()}),i.push({x:u.getNorthEast().lng(),y:u.getSouthWest().lat()}),i.push({x:u.getSouthWest().lng(),y:u.getSouthWest().lat()}),i.push({x:u.getSouthWest().lng(),y:u.getNorthEast().lat()}),c={type:"polygon",isRectangle:!0,components:[i]};if(n.constructor===google.maps.Data.Feature)return this.deconstruct.call(this,n.getGeometry());if(n.constructor===google.maps.Data.Point)return c={type:"point",components:[{x:n.get().lng(),y:n.get().lat()}]};if(n.constructor===google.maps.Data.LineString){for(i=[],e=0;e<n.getLength();e+=1)g=n.getAt(e),i.push({x:g.lng(),y:g.lat()});return c={type:"linestring",components:i}}if(n.constructor===google.maps.Data.Polygon){for(s=[],e=0;e<n.getLength();e+=1){for(h=n.getAt(e),i=[],o=0;o<h.getLength();o+=1)g=h.getAt(o),i.push({x:g.lng(),y:g.lat()});i.push({x:h.getAt(0).lng(),y:h.getAt(0).lat()}),s.push(i)}return c={type:"polygon",components:s}}if(n.constructor===google.maps.Data.MultiPoint){for(i=[],e=0;e<n.getLength();e+=1)g=n.getAt(e),i.push([{x:g.lng(),y:g.lat()}]);return c={type:"multipoint",components:i}}if(n.constructor===google.maps.Data.MultiLineString){for(v=[],e=0;e<n.getLength();e+=1){for(i=[],m=n.getAt(e),o=0;o<m.getLength();o+=1)g=m.getAt(o),i.push({x:g.lng(),y:g.lat()});v.push(i)}return c={type:"multilinestring",components:v}}if(n.constructor===google.maps.Data.MultiPolygon){for(f=[],d=0;d<n.getLength();d+=1){for(y=n.getAt(d),s=[],e=0;e<y.getLength();e+=1){for(h=y.getAt(e),i=[],o=0;o<h.getLength();o+=1)g=h.getAt(o),i.push({x:g.lng(),y:g.lat()});i.push({x:h.getAt(0).lng(),y:h.getAt(0).lat()}),s.push(i)}f.push(s)}return c={type:"multipolygon",components:f}}if(n.constructor===google.maps.Data.GeometryCollection){var E=[];for(d=0;d<n.getLength();d+=1){var L=n.getAt(d);E.push(this.deconstruct.call(this,L))}return c={type:"geometrycollection",components:E}}if(k.isArray(n)){for(r=[],e=0;e<n.length;e+=1)r.push(this.deconstruct.call(this,n[e],!0));return(c={type:function(){var t,e=n[0].constructor;for(t=0;t<n.length;t+=1)if(n[t].constructor!==e)return"geometrycollection";switch(e){case google.maps.Marker:return"multipoint";case google.maps.Polyline:return"multilinestring";case google.maps.Polygon:return"multipolygon";default:return"geometrycollection"}}(),components:function(){var t,e;for(e=[],t=0;t<r.length;t+=1)r[t].components&&e.push(r[t].components);return{comps:e}}()}).components=c.components.comps,c}console.warn("The passed object does not have any recognizable properties.")};var a=Array.prototype.splice;function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=function(){this.__data__=[],this.size=0},u.prototype.delete=function(t){var e=this.__data__,n=s(e,t);return!(n<0||(n==e.length-1?e.pop():a.call(e,n,1),--this.size,0))},u.prototype.get=function(t){var e=this.__data__,n=s(e,t);return n<0?void 0:e[n][1]},u.prototype.has=function(t){return-1<s(this.__data__,t)},u.prototype.set=function(t,e){var n=this.__data__,r=s(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var e="object"==("undefined"==typeof global?"undefined":i(global))&&global&&global.Object===Object&&global,c="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,l=e||c||Function("return this")(),p=l.Symbol,g=Object.prototype,h=g.hasOwnProperty,f=g.toString,y=p?p.toStringTag:void 0;var d=Object.prototype.toString;var v="[object Null]",b="[object Undefined]",_=p?p.toStringTag:void 0;function w(t){return null==t?void 0===t?b:v:_&&_ in Object(t)?function(t){var e=h.call(t,y),n=t[y];try{t[y]=void 0}catch(t){}var r=f.call(t);return e?t[y]=n:delete t[y],r}(t):(e=t,d.call(e));var e}function j(t){var e=void 0===t?"undefined":i(t);return null!=t&&("object"==e||"function"==e)}var x="[object AsyncFunction]",P="[object Function]",A="[object GeneratorFunction]",O="[object Proxy]";function S(t){if(!j(t))return!1;var e=w(t);return e==P||e==A||e==x||e==O}var E,L=l["__core-js_shared__"],C=(E=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"";var W=Function.prototype.toString;function F(t){if(null!=t){try{return W.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var M=/^\[object .+?Constructor\]$/,T=Function.prototype,z=Object.prototype,N=T.toString,$=z.hasOwnProperty,J=RegExp("^"+N.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function I(t){return!(!j(t)||(e=t,C&&C in e))&&(S(t)?J:M).test(F(t));var e}function D(t,e){var n,r,o=(r=e,null==(n=t)?void 0:n[r]);return I(o)?o:void 0}var R=D(l,"Map"),B=D(Object,"create");var U=Object.prototype.hasOwnProperty;var G=Object.prototype.hasOwnProperty;function V(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function K(t,e){var n,r,o=t.__data__;return("string"==(r=void 0===(n=e)?"undefined":i(n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function q(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}V.prototype.clear=function(){this.__data__=B?B(null):{},this.size=0},V.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},V.prototype.get=function(t){var e=this.__data__;if(B){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return U.call(e,t)?e[t]:void 0},V.prototype.has=function(t){var e=this.__data__;return B?void 0!==e[t]:G.call(e,t)},V.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=B&&void 0===e?"__lodash_hash_undefined__":e,this},q.prototype.clear=function(){this.size=0,this.__data__={hash:new V,map:new(R||u),string:new V}},q.prototype.delete=function(t){var e=K(this,t).delete(t);return this.size-=e?1:0,e},q.prototype.get=function(t){return K(this,t).get(t)},q.prototype.has=function(t){return K(this,t).has(t)},q.prototype.set=function(t,e){var n=K(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function H(t){var e=this.__data__=new u(t);this.size=e.size}H.prototype.clear=function(){this.__data__=new u,this.size=0},H.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},H.prototype.get=function(t){return this.__data__.get(t)},H.prototype.has=function(t){return this.__data__.has(t)},H.prototype.set=function(t,e){var n=this.__data__;if(n instanceof u){var r=n.__data__;if(!R||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new q(r)}return n.set(t,e),this.size=n.size,this};function Q(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new q;++e<n;)this.add(t[e])}function X(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}Q.prototype.add=Q.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Q.prototype.has=function(t){return this.__data__.has(t)};var Y=1,Z=2;function tt(t,e,r,o,i,s){var n=r&Y,a=t.length,u=e.length;if(a!=u&&!(n&&a<u))return!1;var c=s.get(t);if(c&&s.get(e))return c==e;var l=-1,p=!0,g=r&Z?new Q:void 0;for(s.set(t,e),s.set(e,t);++l<a;){var h=t[l],f=e[l];if(o)var y=n?o(f,h,l,e,t,s):o(h,f,l,t,e,s);if(void 0!==y){if(y)continue;p=!1;break}if(g){if(!X(e,function(t,e){if(n=e,!g.has(n)&&(h===t||i(h,t,r,o,s)))return g.push(e);var n})){p=!1;break}}else if(h!==f&&!i(h,f,r,o,s)){p=!1;break}}return s.delete(t),s.delete(e),p}var et=l.Uint8Array;function nt(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function rt(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var ot=1,it=2,st="[object Boolean]",at="[object Date]",ut="[object Error]",ct="[object Map]",lt="[object Number]",pt="[object RegExp]",gt="[object Set]",ht="[object String]",ft="[object Symbol]",yt="[object ArrayBuffer]",dt="[object DataView]",mt=p?p.prototype:void 0,vt=mt?mt.valueOf:void 0;var bt=Array.isArray;var _t=Object.prototype.propertyIsEnumerable,wt=Object.getOwnPropertySymbols,jt=wt?function(e){return null==e?[]:(e=Object(e),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i}(wt(e),function(t){return _t.call(e,t)}))}:function(){return[]};function xt(t){return null!=t&&"object"==(void 0===t?"undefined":i(t))}function Pt(t){return xt(t)&&"[object Arguments]"==w(t)}var At=Object.prototype,Ot=At.hasOwnProperty,St=At.propertyIsEnumerable,Et=Pt(function(){return arguments}())?Pt:function(t){return xt(t)&&Ot.call(t,"callee")&&!St.call(t,"callee")};var Lt="object"==(void 0===t?"undefined":i(t))&&t&&!t.nodeType&&t,kt=Lt&&"object"==("undefined"==typeof module?"undefined":i(module))&&module&&!module.nodeType&&module,Ct=kt&&kt.exports===Lt?l.Buffer:void 0,Wt=(Ct?Ct.isBuffer:void 0)||function(){return!1},Ft=9007199254740991,Mt=/^(?:0|[1-9]\d*)$/;function Tt(t,e){return!!(e=null==e?Ft:e)&&("number"==typeof t||Mt.test(t))&&-1<t&&t%1==0&&t<e}var zt=9007199254740991;function Nt(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=zt}var $t={};$t["[object Float32Array]"]=$t["[object Float64Array]"]=$t["[object Int8Array]"]=$t["[object Int16Array]"]=$t["[object Int32Array]"]=$t["[object Uint8Array]"]=$t["[object Uint8ClampedArray]"]=$t["[object Uint16Array]"]=$t["[object Uint32Array]"]=!0,$t["[object Arguments]"]=$t["[object Array]"]=$t["[object ArrayBuffer]"]=$t["[object Boolean]"]=$t["[object DataView]"]=$t["[object Date]"]=$t["[object Error]"]=$t["[object Function]"]=$t["[object Map]"]=$t["[object Number]"]=$t["[object Object]"]=$t["[object RegExp]"]=$t["[object Set]"]=$t["[object String]"]=$t["[object WeakMap]"]=!1;var Jt,It="object"==(void 0===t?"undefined":i(t))&&t&&!t.nodeType&&t,Dt=It&&"object"==("undefined"==typeof module?"undefined":i(module))&&module&&!module.nodeType&&module,Rt=Dt&&Dt.exports===It&&e.process,Bt=function(){try{return Rt&&Rt.binding&&Rt.binding("util")}catch(t){}}(),Ut=Bt&&Bt.isTypedArray,Gt=Ut?(Jt=Ut,function(t){return Jt(t)}):function(t){return xt(t)&&Nt(t.length)&&!!$t[w(t)]},Vt=Object.prototype.hasOwnProperty;function Kt(t,e){var n=bt(t),r=!n&&Et(t),o=!n&&!r&&Wt(t),i=!n&&!r&&!o&&Gt(t),s=n||r||o||i,a=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=a.length;for(var c in t)!e&&!Vt.call(t,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Tt(c,u))||a.push(c);return a}var qt=Object.prototype;var Ht,Qt,Xt=(Ht=Object.keys,Qt=Object,function(t){return Ht(Qt(t))}),Yt=Object.prototype.hasOwnProperty;function Zt(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||qt))return Xt(t);var e,n,r=[];for(var o in Object(t))Yt.call(t,o)&&"constructor"!=o&&r.push(o);return r}function te(t){return null!=t&&Nt(t.length)&&!S(t)}function ee(t){return te(t)?Kt(t):Zt(t)}function ne(t){return n=jt,r=ee(e=t),bt(e)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(e));var e,n,r}var re=1,oe=Object.prototype.hasOwnProperty;var ie=D(l,"DataView"),se=D(l,"Promise"),ae=D(l,"Set"),ue=D(l,"WeakMap"),ce="[object Map]",le="[object Promise]",pe="[object Set]",ge="[object WeakMap]",he="[object DataView]",fe=F(ie),ye=F(R),de=F(se),me=F(ae),ve=F(ue),be=w;(ie&&be(new ie(new ArrayBuffer(1)))!=he||R&&be(new R)!=ce||se&&be(se.resolve())!=le||ae&&be(new ae)!=pe||ue&&be(new ue)!=ge)&&(be=function(t){var e=w(t),n="[object Object]"==e?t.constructor:void 0,r=n?F(n):"";if(r)switch(r){case fe:return he;case ye:return ce;case de:return le;case me:return pe;case ve:return ge}return e});var _e=be,we=1,je="[object Arguments]",xe="[object Array]",Pe="[object Object]",Ae=Object.prototype.hasOwnProperty;function Oe(t,e,n,r,o,i){var s=bt(t),a=bt(e),u=s?xe:_e(t),c=a?xe:_e(e),l=(u=u==je?Pe:u)==Pe,p=(c=c==je?Pe:c)==Pe,g=u==c;if(g&&Wt(t)){if(!Wt(e))return!1;l=!(s=!0)}if(g&&!l)return i||(i=new H),s||Gt(t)?tt(t,e,n,r,o,i):function(t,e,n,r,o,i,s){switch(n){case dt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case yt:return!(t.byteLength!=e.byteLength||!i(new et(t),new et(e)));case st:case at:case lt:return m(+t,+e);case ut:return t.name==e.name&&t.message==e.message;case pt:case ht:return t==e+"";case ct:var a=nt;case gt:var u=r&ot;if(a||(a=rt),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;r|=it,s.set(t,e);var l=tt(a(t),a(e),r,o,i,s);return s.delete(t),l;case ft:if(vt)return vt.call(t)==vt.call(e)}return!1}(t,e,u,n,r,o,i);if(!(n&we)){var h=l&&Ae.call(t,"__wrapped__"),f=p&&Ae.call(e,"__wrapped__");if(h||f){var y=h?t.value():t,d=f?e.value():e;return i||(i=new H),o(y,d,n,r,i)}}return!!g&&(i||(i=new H),function(t,e,n,r,o,i){var s=n&re,a=ne(t),u=a.length;if(u!=ne(e).length&&!s)return!1;for(var c=u;c--;){var l=a[c];if(!(s?l in e:oe.call(e,l)))return!1}var p=i.get(t);if(p&&i.get(e))return p==e;var g=!0;i.set(t,e),i.set(e,t);for(var h=s;++c<u;){var f=t[l=a[c]],y=e[l];if(r)var d=s?r(y,f,l,e,t,i):r(f,y,l,t,e,i);if(!(void 0===d?f===y||o(f,y,n,r,i):d)){g=!1;break}h||(h="constructor"==l)}if(g&&!h){var m=t.constructor,v=e.constructor;m!=v&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof v&&v instanceof v)&&(g=!1)}return i.delete(t),i.delete(e),g}(t,e,n,r,o,i))}function Se(t,e,n,r,o){return t===e||(null==t||null==e||!xt(t)&&!xt(e)?t!=t&&e!=e:Oe(t,e,n,r,Se,o))}var Ee=1,Le=2;function ke(t){return t==t&&!j(t)}function Ce(e,n){return function(t){return null!=t&&(t[e]===n&&(void 0!==n||e in Object(t)))}}function We(e){var n=function(t){for(var e=ee(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,ke(o)]}return e}(e);return 1==n.length&&n[0][2]?Ce(n[0][0],n[0][1]):function(t){return t===e||function(t,e,n,r){var o=n.length,i=o,s=!r;if(null==t)return!i;for(t=Object(t);o--;){var a=n[o];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var u=(a=n[o])[0],c=t[u],l=a[1];if(s&&a[2]){if(void 0===c&&!(u in t))return!1}else{var p=new H;if(r)var g=r(c,l,u,t,e,p);if(!(void 0===g?Se(l,c,Ee|Le,r,p):g))return!1}}return!0}(t,e,n)}}var Fe="[object Symbol]";function Me(t){return"symbol"==(void 0===t?"undefined":i(t))||xt(t)&&w(t)==Fe}var Te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ze=/^\w*$/;function Ne(t,e){if(bt(t))return!1;var n=void 0===t?"undefined":i(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Me(t))||(ze.test(t)||!Te.test(t)||null!=e&&t in Object(e))}var $e="Expected a function";function Je(i,s){if("function"!=typeof i||null!=s&&"function"!=typeof s)throw new TypeError($e);var t=function t(){var e=arguments,n=s?s.apply(this,e):e[0],r=t.cache;if(r.has(n))return r.get(n);var o=i.apply(this,e);return t.cache=r.set(n,o)||r,o};return t.cache=new(Je.Cache||q),t}Je.Cache=q;var Ie,De,Re=/^\./,Be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ue=/\\(\\)?/g,Ge=(De=(Ie=Je(function(t){var o=[];return Re.test(t)&&o.push(""),t.replace(Be,function(t,e,n,r){o.push(n?r.replace(Ue,"$1"):e||t)}),o},function(t){return 500===De.size&&De.clear(),t})).cache,Ie),Ve=1/0,Ke=p?p.prototype:void 0,qe=Ke?Ke.toString:void 0;function He(t){if("string"==typeof t)return t;if(bt(t))return o(t,He)+"";if(Me(t))return qe?qe.call(t):"";var e=t+"";return"0"==e&&1/t==-Ve?"-0":e}function Qe(t,e){return bt(t)?t:Ne(t,e)?[t]:Ge(null==(n=t)?"":He(n));var n}var Xe=1/0;function Ye(t){if("string"==typeof t||Me(t))return t;var e=t+"";return"0"==e&&1/t==-Xe?"-0":e}function Ze(t,e){for(var n=0,r=(e=Qe(e,t)).length;null!=t&&n<r;)t=t[Ye(e[n++])];return n&&n==r?t:void 0}function tn(t,e){return null!=t&&e in Object(t)}function en(t,e){return null!=t&&function(t,e,n){for(var r=-1,o=(e=Qe(e,t)).length,i=!1;++r<o;){var s=Ye(e[r]);if(!(i=null!=t&&n(t,s)))break;t=t[s]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&Nt(o)&&Tt(s,o)&&(bt(t)||Et(t))}(t,e,tn)}var nn=1,rn=2;function on(s,a){return Ne(s)&&ke(a)?Ce(Ye(s),a):function(t){var e,n,r,o,i=(n=s,void 0===(o=null==(e=t)?void 0:Ze(e,n))?r:o);return void 0===i&&i===a?en(t,s):Se(a,i,nn|rn)}}function sn(t){return t}function an(t){return Ne(t)?(n=Ye(t),function(t){return null==t?void 0:t[n]}):(e=t,function(t){return Ze(t,e)});var e,n}var un,cn=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),s=i.length;s--;){var a=i[un?s:++r];if(!1===e(o[a],a,o))break}return t};var ln,pn,gn=(ln=function(t,e){return t&&cn(t,e,ee)},function(t,e){if(null==t)return t;if(!te(t))return ln(t,e);for(var n=t.length,r=pn?n:-1,o=Object(t);(pn?r--:++r<n)&&!1!==e(o[r],r,o););return t});function hn(t,r){var o=-1,i=te(t)?Array(t.length):[];return gn(t,function(t,e,n){i[++o]=r(t,e,n)}),i}function fn(t,e){var n;return(bt(t)?o:hn)(t,"function"==typeof(n=e)?n:null==n?sn:"object"==(void 0===n?"undefined":i(n))?bt(n)?on(n[0],n[1]):We(n):an(n))}function yn(t){if(google.maps&&google.maps.LatLng&&t instanceof google.maps.LatLng)return[t.lng(),t.lat()];if(t.lat&&t.lng)return[t.lng,t.lat];if(t.length&&2<=t.length)return t;throw new Error("google.maps is not present in the global scope")}function dn(t,e){var n=fn(t,yn);if(!0===e){var r=n.pop();r[0]===n[0][0]&&r[1]===n[0][1]||n.push(r),n.push(n[0])}return n}function mn(t,i,s){var a=s;return function(t,e){var n,r,o,i,s,a,u,c,l,p,g=0,h="FeatureCollection"===t.type,f="Feature"===t.type,y=h?t.features.length:1;for(n=0;n<y;n++){for(a=h?t.features[n].geometry:f?t.geometry:t,c=h?t.features[n].properties:f?t.properties:{},l=h?t.features[n].bbox:f?t.bbox:void 0,p=h?t.features[n].id:f?t.id:void 0,s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,o=0;o<s;o++)if(null!==(i=u?a.geometries[o]:a))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(i,g,c,l,p))return;break;case"GeometryCollection":for(r=0;r<i.geometries.length;r++)if(!1===e(i.geometries[r],g,c,l,p))return;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,g,c,l,p))return;g++}}(t,function(t,e,n,r,o){a=0===e&&void 0===s?t:i(a,t,e,n,r,o)}),a}function vn(t){return mn(t,function(t,e){return t+function t(e){var n,r=0;switch(e.type){case"Polygon":return _n(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)r+=_n(e.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)r+=t(e.geometries[n]);return r}}(e)},0)}var bn=6378137;function _n(t){var e=0;if(t&&0<t.length){e+=Math.abs(wn(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(wn(t[n]))}return e}function wn(t){var e,n,r,o,i,s,a=0,u=t.length;if(2<u){for(s=0;s<u;s++)s===u-2?(r=u-2,o=u-1,i=0):s===u-1?(r=u-1,o=0,i=1):(o=(r=s)+1,i=s+2),e=t[r],n=t[o],a+=(jn(t[i][0])-jn(e[0]))*Math.sin(jn(n[1]));a=a*bn*bn/2}return a}function jn(t){return t*Math.PI/180}function xn(t,e,n,r){if(!t)throw new Error("No coordinates passed");if(t.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!Pn(t[0][1])||!Pn(t[0][1]))throw new Error("Coordinates must contain numbers");return function(t,e,n,r){if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");if(n){if(!Array.isArray(n))throw new Error("bbox must be an Array");if(4!==n.length)throw new Error("bbox must be an Array of 4 numbers")}if(r&&-1===["string","number"].indexOf(void 0===r?"undefined":i(r)))throw new Error("id must be a number or a string");var o={type:"Feature"};return r&&(o.id=r),n&&(o.bbox=n),o.properties=e||{},o.geometry=t,o}({type:"LineString",coordinates:t},e,n,r)}function Pn(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}var An=console.debug.bind(console,"%c turfHelper:","color:#00CC00;font-weight:bold;"),On=console.warn.bind(console,"%c turfHelper:","color:orange;font-weight:bold;");function Sn(t){return{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[dn(t,!0)]}}}function En(t){var e;if("Feature"===t.type)e=t;else if(t instanceof google.maps.Polygon)e=Sn(dn(t=t.getPath().getArray(),!0));else if(t&&t.constructor===Array)e=Sn(dn(t,!0));else{if(!t.geometry)throw new Error("object is not a Feature, google.maps.Polygon nor an array of google.maps.LatLng");e={type:"Feature",properties:{},geometry:t.geometry}}return e.properties={},e}t.debug=An,t.warn=On,t.area=function(t){return vn(En(t))},t.arrayToFeaturePolygon=Sn,t.polygonToFeaturePolygonCollection=function(t){var e=En(t),n=function(t){return{type:"Feature",geometry:{type:"Point",coordinates:t}}},r={type:"FeatureCollection",features:fn(e.coordinates[0],n)};return r.features.push(n(e.coordinates[0][0])),r},t.arrayToFeaturePoints=function(t){var n={type:"FeatureCollection",features:[]};return t.forEach(function(t){var e={type:"Feature",geometry:{type:"Point",coordinates:dn([t])[0]}};n.features.push(e)}),n},t.markerToFeaturePoint=function(t){if(!t.getPosition||"function"!=typeof t.getPosition)throw new Error("input object does not have a getPosition method");var e=t.getPosition();return{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[e.lng(),e.lat()]}}},t.latlngToFeaturePoint=function(t){return{type:"Feature",geometry:{type:"Point",coordinates:dn([t])[0]}}},t.polygonToFeaturePolygon=En,t.polylineToFeatureLinestring=function(t){return xn(t instanceof google.maps.Polyline?dn(t.getPath().getArray()):dn(t))},Object.defineProperty(t,"__esModule",{value:!0})});