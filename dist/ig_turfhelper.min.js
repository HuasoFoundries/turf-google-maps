!function(a){function b(a){Object.defineProperty(this,a,{enumerable:!0,get:function(){return this[o][a]}})}function c(a){if("undefined"!=typeof System&&System.isModule?System.isModule(a):"[object Module]"===Object.prototype.toString.call(a))return a;var b={default:a,__useDefault:a};if(a&&a.__esModule)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return new d(b)}function d(a){Object.defineProperty(this,o,{value:a}),Object.keys(a).forEach(b,this)}function e(a){return"@node/"===a.substr(0,6)?m(a,c(p(a.substr(6))),{}):n[a]}function f(a){var b=e(a);if(!b)throw new Error('Module "'+a+'" expected, but not contained in build.');if(b.module)return b.module;var c=b.linkRecord;return g(b,c),l(b,c,[]),b.module}function g(a,b){if(!b.depLoads){b.declare&&h(a,b),b.depLoads=[];for(var c=0;c<b.deps.length;c++){var d=e(b.deps[c]);b.depLoads.push(d),d.linkRecord&&g(d,d.linkRecord);var f=b.setters&&b.setters[c];f&&(f(d.module||d.linkRecord.moduleObj),d.importerSetters.push(f))}return a}}function h(b,c){var d=c.moduleObj,e=b.importerSetters,f=!1,g=c.declare.call(a,function(a,b){if(!f){if("object"==typeof a)for(var c in a)"__useDefault"!==c&&(d[c]=a[c]);else d[a]=b;f=!0;for(var g=0;g<e.length;g++)e[g](d);return f=!1,b}},{id:b.key});"function"!=typeof g?(c.setters=g.setters,c.execute=g.execute):(c.setters=[],c.execute=g)}function i(a,b,c){return n[a]={key:a,module:void 0,importerSetters:[],linkRecord:{deps:b,depLoads:void 0,declare:c,setters:void 0,execute:void 0,moduleObj:{}}}}function j(a,b,c,d){var e={};return n[a]={key:a,module:void 0,importerSetters:[],linkRecord:{deps:b,depLoads:void 0,declare:void 0,execute:d,executingRequire:c,moduleObj:{default:e,__useDefault:e},setters:void 0}}}function k(a,b,c){return function(d){for(var e=0;e<a.length;e++)if(a[e]===d){var f,g=b[e],h=g.linkRecord;return f=h?-1===c.indexOf(g)?l(g,h,c):h.moduleObj:g.module,"__useDefault"in f?f.__useDefault:f}}}function l(b,c,e){if(e.push(b),b.module)return b.module;if(c.setters){for(var f=0;f<c.deps.length;f++){var g=c.depLoads[f],h=g.linkRecord;h&&-1===e.indexOf(g)&&l(g,h,h.setters?e:[])}c.execute.call(q)}else{var i={id:b.key},j=c.moduleObj;Object.defineProperty(i,"exports",{configurable:!0,set:function(a){j.default=j.__useDefault=a},get:function(){return j.__useDefault}});var m=k(c.deps,c.depLoads,e);if(!c.executingRequire)for(var f=0;f<c.deps.length;f++)m(c.deps[f]);var n=c.execute.call(a,m,j.__useDefault,i);void 0!==n&&(j.default=j.__useDefault=n),i.exports!==j.__useDefault&&(j.default=j.__useDefault=i.exports);var o=j.default;if(o&&o.__esModule)for(var p in o)Object.hasOwnProperty.call(o,p)&&(j[p]=o[p])}var i=b.module=new d(c.moduleObj);if(!c.setters)for(var f=0;f<b.importerSetters.length;f++)b.importerSetters[f](i);return i}function m(a,b){return n[a]={key:a,module:b,importerSetters:[],linkRecord:void 0}}var n={},o="undefined"!=typeof Symbol?Symbol():"@@baseObject";d.prototype=Object.create(null),"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="Module");var p="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&void 0!==require.resolve&&"undefined"!=typeof process&&process.platform&&require,q={};return Object.freeze&&Object.freeze(q),function(a,b,e,g){return function(h){h(function(h){var k={_nodeRequire:p,register:i,registerDynamic:j,registry:{get:function(a){return n[a].module},set:m},newModule:function(a){return new d(a)}};m("@empty",new d({}));for(var l=0;l<b.length;l++)m(b[l],c(arguments[l],{}));g(k);var o=f(a[0]);if(a.length>1)for(var l=1;l<a.length;l++)f(a[l]);return e?o.__useDefault:(o instanceof d&&Object.defineProperty(o,"__esModule",{value:!0}),o)})}}}("undefined"!=typeof self?self:"undefined"!=typeof global?global:this)(["a"],[],!0,function(a){var b=(this.require,this.exports),c=this.module;!function(d,e){"object"==typeof b&&void 0!==c?e(b):a.registerDynamic("a",[],!1,function(a,b,c){return"function"==typeof e?e.call(b,b):e})}(0,function(a){"use strict";function b(){return new Fk.Wkt}function d(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function e(){this.__data__=[],this.size=0}function f(a,b){return a===b||a!==a&&b!==b}function g(a,b){for(var c=a.length;c--;)if(f(a[c][0],b))return c;return-1}function h(a){var b=this.__data__,c=g(b,a);return!(c<0)&&(c==b.length-1?b.pop():Hk.call(b,c,1),--this.size,!0)}function i(a){var b=this.__data__,c=g(b,a);return c<0?void 0:b[c][1]}function j(a){return g(this.__data__,a)>-1}function k(a,b){var c=this.__data__,d=g(c,a);return d<0?(++this.size,c.push([a,b])):c[d][1]=b,this}function l(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function m(){this.__data__=new l,this.size=0}function n(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c}function o(a){return this.__data__.get(a)}function p(a){return this.__data__.has(a)}function q(a){var b=Nk.call(a,Pk),c=a[Pk];try{a[Pk]=void 0;var d=!0}catch(a){}var e=Ok.call(a);return d&&(b?a[Pk]=c:delete a[Pk]),e}function r(a){return Rk.call(a)}function s(a){return null==a?void 0===a?Tk:Sk:Uk&&Uk in Object(a)?q(a):r(a)}function t(a){var b=void 0===a?"undefined":Ek(a);return null!=a&&("object"==b||"function"==b)}function u(a){if(!t(a))return!1;var b=s(a);return b==Wk||b==Xk||b==Vk||b==Yk}function v(a){return!!$k&&$k in a}function w(a){if(null!=a){try{return al.call(a)}catch(a){}try{return a+""}catch(a){}}return""}function x(a){return!(!t(a)||v(a))&&(u(a)?hl:cl).test(w(a))}function y(a,b){return null==a?void 0:a[b]}function z(a,b){var c=y(a,b);return x(c)?c:void 0}function A(){this.__data__=jl?jl(null):{},this.size=0}function B(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}function C(a){var b=this.__data__;if(jl){var c=b[a];return c===kl?void 0:c}return ml.call(b,a)?b[a]:void 0}function D(a){var b=this.__data__;return jl?void 0!==b[a]:pl.call(b,a)}function E(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=jl&&void 0===b?ql:b,this}function F(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function G(){this.size=0,this.__data__={hash:new F,map:new(il||l),string:new F}}function H(a){var b=void 0===a?"undefined":Ek(a);return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function I(a,b){var c=a.__data__;return H(b)?c["string"==typeof b?"string":"hash"]:c.map}function J(a){var b=I(this,a).delete(a);return this.size-=b?1:0,b}function K(a){return I(this,a).get(a)}function L(a){return I(this,a).has(a)}function M(a,b){var c=I(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this}function N(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function O(a,b){var c=this.__data__;if(c instanceof l){var d=c.__data__;if(!il||d.length<rl-1)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new N(d)}return c.set(a,b),this.size=c.size,this}function P(a){var b=this.__data__=new l(a);this.size=b.size}function Q(a){return this.__data__.set(a,sl),this}function R(a){return this.__data__.has(a)}function S(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new N;++b<c;)this.add(a[b])}function T(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function U(a,b){return a.has(b)}function V(a,b,c,d,e,f){var g=c&tl,h=a.length,i=b.length;if(h!=i&&!(g&&i>h))return!1;var j=f.get(a);if(j&&f.get(b))return j==b;var k=-1,l=!0,m=c&ul?new S:void 0;for(f.set(a,b),f.set(b,a);++k<h;){var n=a[k],o=b[k];if(d)var p=g?d(o,n,k,b,a,f):d(n,o,k,a,b,f);if(void 0!==p){if(p)continue;l=!1;break}if(m){if(!T(b,function(a,b){if(!U(m,b)&&(n===a||e(n,a,c,d,f)))return m.push(b)})){l=!1;break}}else if(n!==o&&!e(n,o,c,d,f)){l=!1;break}}return f.delete(a),f.delete(b),l}function W(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function X(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function Y(a,b,c,d,e,g,h){switch(c){case Il:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case Hl:return!(a.byteLength!=b.byteLength||!g(new vl(a),new vl(b)));case yl:case zl:case Cl:return f(+a,+b);case Al:return a.name==b.name&&a.message==b.message;case Dl:case Fl:return a==b+"";case Bl:var i=W;case El:var j=d&wl;if(i||(i=X),a.size!=b.size&&!j)return!1;var k=h.get(a);if(k)return k==b;d|=xl,h.set(a,b);var l=V(i(a),i(b),d,e,g,h);return h.delete(a),l;case Gl:if(Kl)return Kl.call(a)==Kl.call(b)}return!1}function Z(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function $(a,b,c){var d=b(a);return Ll(a)?d:Z(d,c(a))}function _(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function aa(){return[]}function ba(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function ca(a){return null!=a&&"object"==(void 0===a?"undefined":Ek(a))}function da(a){return ca(a)&&s(a)==Ql}function ea(){return!1}function fa(a,b){return!!(b=null==b?_l:b)&&("number"==typeof a||am.test(a))&&a>-1&&a%1==0&&a<b}function ga(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=bm}function ha(a){return ca(a)&&ga(a.length)&&!!cm[s(a)]}function ia(a){return function(b){return a(b)}}function ja(a,b){var c=Ll(a),d=!c&&Ul(a),e=!c&&!d&&$l(a),f=!c&&!d&&!e&&jm(a),g=c||d||e||f,h=g?ba(a.length,String):[],i=h.length;for(var j in a)!b&&!lm.call(a,j)||g&&("length"==j||e&&("offset"==j||"parent"==j)||f&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||fa(j,i))||h.push(j);return h}function ka(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||mm)}function la(a,b){return function(c){return a(b(c))}}function ma(a){if(!ka(a))return nm(a);var b=[];for(var c in Object(a))pm.call(a,c)&&"constructor"!=c&&b.push(c);return b}function na(a){return null!=a&&ga(a.length)&&!u(a)}function oa(a){return na(a)?ja(a):ma(a)}function pa(a){return $(a,oa,Pl)}function qa(a,b,c,d,e,f){var g=c&qm,h=pa(a),i=h.length;if(i!=pa(b).length&&!g)return!1;for(var j=i;j--;){var k=h[j];if(!(g?k in b:sm.call(b,k)))return!1}var l=f.get(a);if(l&&f.get(b))return l==b;var m=!0;f.set(a,b),f.set(b,a);for(var n=g;++j<i;){k=h[j];var o=a[k],p=b[k];if(d)var q=g?d(p,o,k,b,a,f):d(o,p,k,a,b,f);if(!(void 0===q?o===p||e(o,p,c,d,f):q)){m=!1;break}n||(n="constructor"==k)}if(m&&!n){var r=a.constructor,s=b.constructor;r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s)&&(m=!1)}return f.delete(a),f.delete(b),m}function ra(a,b,c,d,e,f){var g=Ll(a),h=Ll(b),i=g?Lm:Im(a),j=h?Lm:Im(b);i=i==Km?Mm:i,j=j==Km?Mm:j;var k=i==Mm,l=j==Mm,m=i==j;if(m&&$l(a)){if(!$l(b))return!1;g=!0,k=!1}if(m&&!k)return f||(f=new P),g||jm(a)?V(a,b,c,d,e,f):Y(a,b,i,c,d,e,f);if(!(c&Jm)){var n=k&&Om.call(a,"__wrapped__"),o=l&&Om.call(b,"__wrapped__");if(n||o){var p=n?a.value():a,q=o?b.value():b;return f||(f=new P),e(p,q,c,d,f)}}return!!m&&(f||(f=new P),qa(a,b,c,d,e,f))}function sa(a,b,c,d,e){return a===b||(null==a||null==b||!ca(a)&&!ca(b)?a!==a&&b!==b:ra(a,b,c,d,sa,e))}function ta(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=Object(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){h=c[e];var i=h[0],j=a[i],k=h[1];if(g&&h[2]){if(void 0===j&&!(i in a))return!1}else{var l=new P;if(d)var m=d(j,k,i,a,b,l);if(!(void 0===m?sa(k,j,Pm|Qm,d,l):m))return!1}}return!0}function ua(a){return a===a&&!t(a)}function va(a){for(var b=oa(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,ua(e)]}return b}function wa(a,b){return function(c){return null!=c&&(c[a]===b&&(void 0!==b||a in Object(c)))}}function xa(a){var b=va(a);return 1==b.length&&b[0][2]?wa(b[0][0],b[0][1]):function(c){return c===a||ta(c,a,b)}}function ya(a){return"symbol"==(void 0===a?"undefined":Ek(a))||ca(a)&&s(a)==Rm}function za(a,b){if(Ll(a))return!1;var c=void 0===a?"undefined":Ek(a);return!("number"!=c&&"symbol"!=c&&"boolean"!=c&&null!=a&&!ya(a))||(Tm.test(a)||!Sm.test(a)||null!=b&&a in Object(b))}function Aa(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new TypeError(Um);var c=function c(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g)||f,g};return c.cache=new(Aa.Cache||N),c}function Ba(a){var b=Aa(a,function(a){return c.size===Vm&&c.clear(),a}),c=b.cache;return b}function Ca(a){if("string"==typeof a)return a;if(Ll(a))return d(a,Ca)+"";if(ya(a))return an?an.call(a):"";var b=a+"";return"0"==b&&1/a==-$m?"-0":b}function Da(a){return null==a?"":Ca(a)}function Ea(a,b){return Ll(a)?a:za(a,b)?[a]:Zm(Da(a))}function Fa(a){if("string"==typeof a||ya(a))return a;var b=a+"";return"0"==b&&1/a==-bn?"-0":b}function Ga(a,b){b=Ea(b,a);for(var c=0,d=b.length;null!=a&&c<d;)a=a[Fa(b[c++])];return c&&c==d?a:void 0}function Ha(a,b,c){var d=null==a?void 0:Ga(a,b);return void 0===d?c:d}function Ia(a,b){return null!=a&&b in Object(a)}function Ja(a,b,c){b=Ea(b,a);for(var d=-1,e=b.length,f=!1;++d<e;){var g=Fa(b[d]);if(!(f=null!=a&&c(a,g)))break;a=a[g]}return f||++d!=e?f:!!(e=null==a?0:a.length)&&ga(e)&&fa(g,e)&&(Ll(a)||Ul(a))}function Ka(a,b){return null!=a&&Ja(a,b,Ia)}function La(a,b){return za(a)&&ua(b)?wa(Fa(a),b):function(c){var d=Ha(c,a);return void 0===d&&d===b?Ka(c,a):sa(b,d,cn|dn)}}function Ma(a){return a}function Na(a){return function(b){return null==b?void 0:b[a]}}function Oa(a){return function(b){return Ga(b,a)}}function Pa(a){return za(a)?Na(Fa(a)):Oa(a)}function Qa(a){return"function"==typeof a?a:null==a?Ma:"object"==(void 0===a?"undefined":Ek(a))?Ll(a)?La(a[0],a[1]):xa(a):Pa(a)}function Ra(a){return function(b,c,d){for(var e=-1,f=Object(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(!1===c(f[i],i,f))break}return b}}function Sa(a,b){return a&&en(a,b,oa)}function Ta(a,b){return function(c,d){if(null==c)return c;if(!na(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=Object(c);(b?f--:++f<e)&&!1!==d(g[f],f,g););return c}}function Ua(a,b){var c=-1,d=na(a)?Array(a.length):[];return fn(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Va(a,b){return(Ll(a)?d:Ua)(a,Qa(b,3))}function Wa(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&&!1!==b(a[c],c,a););return a}function Xa(a){return"function"==typeof a?a:Ma}function Ya(a,b){return(Ll(a)?Wa:fn)(a,Xa(b))}function Za(a){return a instanceof google.maps.LatLng?{lat:a.lat(),lng:a.lng()}:a.lat&&a.lng?a:{lat:a[1],lng:a[0]}}function $a(a){return Va(a,Za)}function _a(a){if(google.maps&&google.maps.LatLng&&a instanceof google.maps.LatLng)return[a.lng(),a.lat()];if(a.lat&&a.lng)return[a.lng,a.lat];if(a.length&&a.length>=2)return a;throw new Error("google.maps is not present in the global scope")}function ab(a,b){var c=Va(a,_a);if(!0===b){var d=c.pop();d[0]===c[0][0]&&d[1]===c[0][1]?c.push(c[0]):(c.push(d),c.push(c[0]))}return c}function bb(a,b,c,d){if(void 0===a)throw new Error("geometry is required");if(b&&b.constructor!==Object)throw new Error("properties must be an Object");if(c&&4!==c.length)throw new Error("bbox must be an Array of 4 numbers");if(d&&-1===["string","number"].indexOf(void 0===d?"undefined":Ek(d)))throw new Error("id must be a number or a string");var e={type:"Feature"};return d&&(e.id=d),c&&(e.bbox=c),e.properties=b||{},e.geometry=a,e}function cb(a,b,c,d){if(!a)throw new Error("No coordinates passed");if(void 0===a.length)throw new Error("Coordinates must be an array");if(a.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(!ib(a[0])||!ib(a[1]))throw new Error("Coordinates must contain numbers");return bb({type:"Point",coordinates:a},b,c,d)}function db(a,b,c,d){if(!a)throw new Error("No coordinates passed");for(var e=0;e<a.length;e++){var f=a[e];if(f.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<f[f.length-1].length;g++){if(0===e&&0===g&&!ib(f[0][0])||!ib(f[0][1]))throw new Error("Coordinates must contain numbers");if(f[f.length-1][g]!==f[0][g])throw new Error("First and last Position are not equivalent.")}}return bb({type:"Polygon",coordinates:a},b,c,d)}function eb(a,b,c,d){if(!a)throw new Error("No coordinates passed");if(a.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!ib(a[0][1])||!ib(a[0][1]))throw new Error("Coordinates must contain numbers");return bb({type:"LineString",coordinates:a},b,c,d)}function fb(a,b,c){if(!a)throw new Error("No features passed");if(!Array.isArray(a))throw new Error("features must be an Array");if(b&&4!==b.length)throw new Error("bbox must be an Array of 4 numbers");if(c&&-1===["string","number"].indexOf(void 0===c?"undefined":Ek(c)))throw new Error("id must be a number or a string");var d={type:"FeatureCollection"};return c&&(d.id=c),b&&(d.bbox=b),d.features=a,d}function gb(a,b){if(void 0===a||null===a)throw new Error("radians is required");if(b&&"string"!=typeof b)throw new Error("units must be a string");var c=xn[b||"kilometers"];if(!c)throw new Error(b+" units is invalid");return a*c}function hb(a,b){if(void 0===a||null===a)throw new Error("distance is required");if(b&&"string"!=typeof b)throw new Error("units must be a string");var c=xn[b||"kilometers"];if(!c)throw new Error(b+" units is invalid");return a/c}function ib(a){return!isNaN(a)&&null!==a&&!Array.isArray(a)}function jb(a){return!!a&&a.constructor===Object}function kb(a){var b,c,d={type:"FeatureCollection",features:[]};if(c="Feature"===a.type?a.geometry:a,"LineString"===c.type)b=[c.coordinates];else if("MultiLineString"===c.type)b=c.coordinates;else if("MultiPolygon"===c.type)b=[].concat.apply([],c.coordinates);else{if("Polygon"!==c.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");b=c.coordinates}return b.forEach(function(a){b.forEach(function(b){for(var c=0;c<a.length-1;c++)for(var e=c;e<b.length-1;e++){if(a===b){if(1===Math.abs(c-e))continue;if(0===c&&e===a.length-2&&a[c][0]===a[a.length-1][0]&&a[c][1]===a[a.length-1][1])continue}var f=lb(a[c][0],a[c][1],a[c+1][0],a[c+1][1],b[e][0],b[e][1],b[e+1][0],b[e+1][1]);f&&d.features.push(cb([f[0],f[1]]))}})}),d}function lb(a,b,c,d,e,f,g,h){var i,j,k,l,m,n={x:null,y:null,onLine1:!1,onLine2:!1};return 0===(i=(h-f)*(c-a)-(g-e)*(d-b))?null!==n.x&&null!==n.y&&n:(j=b-f,k=a-e,l=(g-e)*j-(h-f)*k,m=(c-a)*j-(d-b)*k,j=l/i,k=m/i,n.x=a+j*(c-a),n.y=b+j*(d-b),j>=0&&j<=1&&(n.onLine1=!0),k>=0&&k<=1&&(n.onLine2=!0),!(!n.onLine1||!n.onLine2)&&[n.x,n.y])}function mb(a){if(!a)throw new Error("obj is required");var b=nb(a);if(b.length>1&&ib(b[0])&&ib(b[1]))return b;throw new Error("Coordinate is not a valid Point")}function nb(a){if(!a)throw new Error("obj is required");var b;if(a.length?b=a:a.coordinates?b=a.coordinates:a.geometry&&a.geometry.coordinates&&(b=a.geometry.coordinates),b)return ob(b),b;throw new Error("No valid coordinates")}function ob(a){if(a.length>1&&ib(a[0])&&ib(a[1]))return!0;if(Array.isArray(a[0])&&a[0].length)return ob(a[0]);throw new Error("coordinates must only contain numbers")}function pb(a,b){if(!a)throw new Error((b||"geojson")+" is required");if(a.geometry&&a.geometry.type)return a.geometry.type;if(a.type)return a.type;throw new Error((b||"geojson")+" is invalid")}function qb(a,b,c){if(c=c||{},"object"!==(void 0===c?"undefined":Ek(c)))throw new Error("options is invalid");var d=c.ignoreBoundary;if(!a)throw new Error("point is required");if(!b)throw new Error("polygon is required");var e=mb(a),f=nb(b),g=b.geometry?b.geometry.type:b.type,h=b.bbox;if(h&&!1===sb(e,h))return!1;"Polygon"===g&&(f=[f]);for(var i=0,j=!1;i<f.length&&!j;i++)if(rb(e,f[i][0],d)){for(var k=!1,l=1;l<f[i].length&&!k;)rb(e,f[i][l],!d)&&(k=!0),l++;k||(j=!0)}return j}function rb(a,b,c){var d=!1;b[0][0]===b[b.length-1][0]&&b[0][1]===b[b.length-1][1]&&(b=b.slice(0,b.length-1));for(var e=0,f=b.length-1;e<b.length;f=e++){var g=b[e][0],h=b[e][1],i=b[f][0],j=b[f][1];if(a[1]*(g-i)+h*(i-a[0])+j*(a[0]-g)==0&&(g-a[0])*(i-a[0])<=0&&(h-a[1])*(j-a[1])<=0)return!c;h>a[1]!=j>a[1]&&a[0]<(i-g)*(a[1]-h)/(j-h)+g&&(d=!d)}return d}function sb(a,b){return b[0]<=a[0]&&b[1]<=a[1]&&b[2]>=a[0]&&b[3]>=a[1]}function tb(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d}function ub(a,b,c){var d=b.x,e=b.y,f=c.x-d,g=c.y-e;if(0!==f||0!==g){var h=((a.x-d)*f+(a.y-e)*g)/(f*f+g*g);h>1?(d=c.x,e=c.y):h>0&&(d+=f*h,e+=g*h)}return f=a.x-d,g=a.y-e,f*f+g*g}function vb(a,b){for(var c,d=a[0],e=[d],f=1,g=a.length;f<g;f++)c=a[f],tb(c,d)>b&&(e.push(c),d=c);return d!==c&&e.push(c),e}function wb(a,b){var c,d,e,f,g=a.length,h="undefined"!=typeof Uint8Array?Uint8Array:Array,i=new h(g),j=0,k=g-1,l=[],m=[];for(i[j]=i[k]=1;k;){for(d=0,c=j+1;c<k;c++)(e=ub(a[c],a[j],a[k]))>d&&(f=c,d=e);d>b&&(i[f]=1,l.push(j,f,f,k)),k=l.pop(),j=l.pop()}for(c=0;c<g;c++)i[c]&&m.push(a[c]);return m}function xb(a,b,c){var d=void 0!==b?b*b:1;return a=c?a:vb(a,d),a=wb(a,d)}function yb(a,b){var c="object"===(void 0===b?"undefined":Ek(b))?b.mutate:b;if(!a)throw new Error("geojson is required");var d=pb(a),e=[];switch(d){case"LineString":e=zb(a);break;case"MultiLineString":case"Polygon":nb(a).forEach(function(a){e.push(zb(a))});break;case"MultiPolygon":nb(a).forEach(function(a){var b=[];a.forEach(function(a){b.push(zb(a))}),e.push(b)});break;case"Point":return a;case"MultiPoint":var f={};nb(a).forEach(function(a){var b=a.join("-");f.hasOwnProperty(b)||(e.push(a),f[b]=!0)});break;default:throw new Error(d+" geometry not supported")}return a.coordinates?!0===c?(a.coordinates=e,a):{type:d,coordinates:e}:!0===c?(a.geometry.coordinates=e,a):bb({type:d,coordinates:e},a.properties,a.bbox,a.id)}function zb(a){var b=nb(a);if(2===b.length&&!Ab(b[0],b[1]))return b;var c,d,e,f=[],g=b.length-1;f.push(b[0]);for(var h=1;h<g;h++)c=b[h-1],d=b[h],e=b[h+1],Bb(c,e,d)||f.push(d);return f.push(e),f}function Ab(a,b){return a[0]===b[0]&&a[1]===b[1]}function Bb(a,b,c){var d=c[0],e=c[1],f=a[0],g=a[1],h=b[0],i=b[1],j=d-f,k=e-g,l=h-f,m=i-g;return 0==j*m-k*l&&(Math.abs(l)>=Math.abs(m)?l>0?f<=d&&d<=h:h<=d&&d<=f:m>0?g<=e&&e<=i:i<=e&&e<=g)}function Cb(a){if(!a)throw new Error("geojson is required");switch(a.type){case"Feature":return Db(a);case"FeatureCollection":return Fb(a);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Gb(a);default:throw new Error("unknown GeoJSON type")}}function Db(a){var b={type:"Feature"};return Object.keys(a).forEach(function(c){switch(c){case"type":case"properties":case"geometry":return;default:b[c]=a[c]}}),b.properties=Eb(a.properties),b.geometry=Gb(a.geometry),b}function Eb(a){var b={};return a?(Object.keys(a).forEach(function(c){var d=a[c];"object"===(void 0===d?"undefined":Ek(d))?(d.length&&(b[c]=d.map(function(a){return a})),b[c]=Eb(d)):b[c]=d}),b):b}function Fb(a){var b={type:"FeatureCollection"};return Object.keys(a).forEach(function(c){switch(c){case"type":case"features":return;default:b[c]=a[c]}}),b.features=a.features.map(function(a){return Db(a)}),b}function Gb(a){var b={type:a.type};return a.bbox&&(b.bbox=a.bbox),"GeometryCollection"===a.type?(b.geometries=a.geometries.map(function(a){return Gb(a)}),b):(b.coordinates=Hb(a.coordinates),b)}function Hb(a){return"object"!==Ek(a[0])?a.slice():a.map(function(a){return Hb(a)})}function Ib(a,b,c){if(null!==a){var d,e,f,g,h,i,j,k,l,m,n=0,o=0,p=a.type,q="FeatureCollection"===p,r="Feature"===p,s=q?a.features.length:1;for(d=0;d<s;d++)for(l=q?a.features[d].geometry:r?a.geometry:a,m=!!l&&"GeometryCollection"===l.type,j=m?l.geometries.length:1,e=0;e<j;e++){var t=0;if(null!==(i=m?l.geometries[e]:l)){k=i.coordinates;var u=i.type;switch(n=!c||"Polygon"!==u&&"MultiPolygon"!==u?0:1,u){case null:break;case"Point":b(k,o,d,t),o++,t++;break;case"LineString":case"MultiPoint":for(f=0;f<k.length;f++)b(k[f],o,d,t),o++,"MultiPoint"===u&&t++;"LineString"===u&&t++;break;case"Polygon":case"MultiLineString":for(f=0;f<k.length;f++){for(g=0;g<k[f].length-n;g++)b(k[f][g],o,d,t),o++;"MultiLineString"===u&&t++}"Polygon"===u&&t++;break;case"MultiPolygon":for(f=0;f<k.length;f++){for(g=0;g<k[f].length;g++)for(h=0;h<k[f][g].length-n;h++)b(k[f][g][h],o,d,t),o++;t++}break;case"GeometryCollection":for(f=0;f<i.geometries.length;f++)Ib(i.geometries[f],b,c);break;default:throw new Error("Unknown Geometry Type")}}}}}function Jb(a,b,c,d){var e=c;return Ib(a,function(a,d,f,g){e=0===d&&void 0===c?a:b(e,a,d,f,g)},d),e}function Kb(a,b){var c;switch(a.type){case"FeatureCollection":for(c=0;c<a.features.length;c++)b(a.features[c].properties,c);break;case"Feature":b(a.properties,0)}}function Lb(a,b,c){var d=c;return Kb(a,function(a,e){d=0===e&&void 0===c?a:b(d,a,e)}),d}function Mb(a,b){if("Feature"===a.type)b(a,0);else if("FeatureCollection"===a.type)for(var c=0;c<a.features.length;c++)b(a.features[c],c)}function Nb(a,b,c){var d=c;return Mb(a,function(a,e){d=0===e&&void 0===c?a:b(d,a,e)}),d}function Ob(a){var b=[];return Ib(a,function(a){b.push(a)}),b}function Pb(a,b){var c,d,e,f,g,h,i,j,k,l,m=0,n="FeatureCollection"===a.type,o="Feature"===a.type,p=n?a.features.length:1;for(c=0;c<p;c++){for(h=n?a.features[c].geometry:o?a.geometry:a,j=n?a.features[c].properties:o?a.properties:{},k=n?a.features[c].bbox:o?a.bbox:void 0,l=n?a.features[c].id:o?a.id:void 0,i=!!h&&"GeometryCollection"===h.type,g=i?h.geometries.length:1,e=0;e<g;e++)if(null!==(f=i?h.geometries[e]:h))switch(f.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":b(f,m,j,k,l);break;case"GeometryCollection":for(d=0;d<f.geometries.length;d++)b(f.geometries[d],m,j,k,l);break;default:throw new Error("Unknown Geometry Type")}else b(null,m,j,k,l);m++}}function Qb(a,b,c){var d=c;return Pb(a,function(a,e,f){d=0===e&&void 0===c?a:b(d,a,e,f)}),d}function Rb(a,b){Pb(a,function(a,c,d,e,f){var g=null===a?null:a.type;switch(g){case null:case"Point":case"LineString":case"Polygon":return void b(bb(a,d,e,f),c,0)}var h;switch(g){case"MultiPoint":h="Point";break;case"MultiLineString":h="LineString";break;case"MultiPolygon":h="Polygon"}a.coordinates.forEach(function(a,e){b(bb({type:h,coordinates:a},d),c,e)})})}function Sb(a,b,c){var d=c;return Rb(a,function(a,e,f){d=0===e&&0===f&&void 0===c?a:b(d,a,e,f)}),d}function Tb(a,b){Rb(a,function(a,c,d){var e=0;if(a.geometry){var f=a.geometry.type;"Point"!==f&&"MultiPoint"!==f&&Jb(a,function(f,g){var h=eb([f,g],a.properties);return b(h,c,d,e),e++,g})}})}function Ub(a,b,c){var d=c,e=!1;return Tb(a,function(a,f,g,h){d=!1===e&&void 0===c?a:b(d,a,f,g,h),e=!0}),d}function Vb(a,b){if(!a)throw new Error("geojson is required");Rb(a,function(a,c,d){if(null!==a.geometry){var e=a.geometry.type,f=a.geometry.coordinates;switch(e){case"LineString":b(a,c,d,0);break;case"Polygon":for(var g=0;g<f.length;g++)b(eb(f[g],a.properties),c,d,g)}}})}function Wb(a,b,c){var d=c;return Vb(a,function(a,e,f,g){d=0===e&&void 0===c?a:b(d,a,e,f,g)}),d}function Xb(a,b){if(b=b||{},!jb(b))throw new Error("options is invalid");var c=b.tolerance,d=b.highQuality,e=b.mutate;if(!a)throw new Error("geojson is required");if(c&&c<0)throw new Error("invalid tolerance");return!0!==e&&(a=Cb(a)),Pb(a,function(a){Yb(a,c,d)}),a}function Yb(a,b,c){var d=a.type;if("Point"===d||"MultiPoint"===d)return a;yb(a,!0);var e=a.coordinates;switch(d){case"LineString":a.coordinates=Zb(e,b,c);break;case"MultiLineString":a.coordinates=e.map(function(a){return Zb(a,b,c)});break;case"Polygon":a.coordinates=$b(e,b,c);break;case"MultiPolygon":a.coordinates=e.map(function(a){return $b(a,b,c)})}return a}function Zb(a,b,c){return xb(a.map(function(a){return{x:a[0],y:a[1],z:a[2]}}),b,c).map(function(a){return a.z?[a.x,a.y,a.z]:[a.x,a.y]})}function $b(a,b,c){return a.map(function(a){var d=a.map(function(a){return{x:a[0],y:a[1]}});if(d.length<4)throw new Error("invalid polygon");for(var e=xb(d,b,c).map(function(a){return[a.x,a.y]});!_b(e);)b-=.01*b,e=xb(d,b,c).map(function(a){return[a.x,a.y]});return e[e.length-1][0]===e[0][0]&&e[e.length-1][1]===e[0][1]||e.push(e[0]),e})}function _b(a){return!(a.length<3)&&!(3===a.length&&a[2][0]===a[0][0]&&a[2][1]===a[0][1])}function ac(a,b,c,d,e){for(c=c||0,d=d||a.length-1,e=e||cc;d>c;){if(d-c>600){var f=d-c+1,g=b-c+1,h=Math.log(f),i=.5*Math.exp(2*h/3),j=.5*Math.sqrt(h*i*(f-i)/f)*(g-f/2<0?-1:1);ac(a,b,Math.max(c,Math.floor(b-g*i/f+j)),Math.min(d,Math.floor(b+(f-g)*i/f+j)),e)}var k=a[b],l=c,m=d;for(bc(a,c,b),e(a[d],k)>0&&bc(a,c,d);l<m;){for(bc(a,l,m),l++,m--;e(a[l],k)<0;)l++;for(;e(a[m],k)>0;)m--}0===e(a[c],k)?bc(a,c,m):(m++,bc(a,m,d)),m<=b&&(c=m+1),b<=m&&(d=m-1)}}function bc(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function cc(a,b){return a<b?-1:a>b?1:0}function dc(a,b){if(!(this instanceof dc))return new dc(a,b);this._maxEntries=Math.max(4,a||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),b&&this._initFormat(b),this.clear()}function ec(a,b,c){if(!c)return b.indexOf(a);for(var d=0;d<b.length;d++)if(c(a,b[d]))return d;return-1}function fc(a,b){gc(a,0,a.children.length,b,a)}function gc(a,b,c,d,e){e||(e=qc(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var f,g=b;g<c;g++)f=a.children[g],hc(e,a.leaf?d(f):f);return e}function hc(a,b){return a.minX=Math.min(a.minX,b.minX),a.minY=Math.min(a.minY,b.minY),a.maxX=Math.max(a.maxX,b.maxX),a.maxY=Math.max(a.maxY,b.maxY),a}function ic(a,b){return a.minX-b.minX}function jc(a,b){return a.minY-b.minY}function kc(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function lc(a){return a.maxX-a.minX+(a.maxY-a.minY)}function mc(a,b){return(Math.max(b.maxX,a.maxX)-Math.min(b.minX,a.minX))*(Math.max(b.maxY,a.maxY)-Math.min(b.minY,a.minY))}function nc(a,b){var c=Math.max(a.minX,b.minX),d=Math.max(a.minY,b.minY),e=Math.min(a.maxX,b.maxX),f=Math.min(a.maxY,b.maxY);return Math.max(0,e-c)*Math.max(0,f-d)}function oc(a,b){return a.minX<=b.minX&&a.minY<=b.minY&&b.maxX<=a.maxX&&b.maxY<=a.maxY}function pc(a,b){return b.minX<=a.maxX&&b.minY<=a.maxY&&b.maxX>=a.minX&&b.maxY>=a.minY}function qc(a){return{children:a,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function rc(a,b,c,d,e){for(var f,g=[b,c];g.length;)c=g.pop(),b=g.pop(),c-b<=d||(f=b+Math.ceil((c-b)/d/2)*d,Bn(a,f,b,c,e),g.push(b,f,f,c))}function sc(a){var b=Cn(a);return b.insert=function(a){if(Array.isArray(a)){var b=a;a=tc(b),a.bbox=b}else a.bbox=a.bbox?a.bbox:uc(a);return Cn.prototype.insert.call(this,a)},b.load=function(a){var b=[];return Array.isArray(a)?a.forEach(function(a){var c=tc(a);c.bbox=a,b.push(c)}):En(a,function(a){a.bbox=a.bbox?a.bbox:uc(a),b.push(a)}),Cn.prototype.load.call(this,b)},b.remove=function(a){if(Array.isArray(a)){var b=a;a=tc(b),a.bbox=b}return Cn.prototype.remove.call(this,a)},b.clear=function(){return Cn.prototype.clear.call(this)},b.search=function(a){return{type:"FeatureCollection",features:Cn.prototype.search.call(this,this.toBBox(a))}},b.collides=function(a){return Cn.prototype.collides.call(this,this.toBBox(a))},b.all=function(){return{type:"FeatureCollection",features:Cn.prototype.all.call(this)}},b.toJSON=function(){return Cn.prototype.toJSON.call(this)},b.fromJSON=function(a){return Cn.prototype.fromJSON.call(this,a)},b.toBBox=function(a){var b;return b=a.bbox?a.bbox:Array.isArray(a)&&4===a.length?a:uc(a),{minX:b[0],minY:b[1],maxX:b[2],maxY:b[3]}},b}function tc(a){var b=[a[0],a[1]],c=[a[0],a[3]],d=[a[2],a[3]];return{type:"Feature",bbox:a,properties:{},geometry:{type:"Polygon",coordinates:[[b,[a[2],a[1]],d,c,b]]}}}function uc(a){var b=[1/0,1/0,-1/0,-1/0];return Fn(a,function(a){b[0]>a[0]&&(b[0]=a[0]),b[1]>a[1]&&(b[1]=a[1]),b[2]<a[0]&&(b[2]=a[0]),b[3]<a[1]&&(b[3]=a[1])}),b}function vc(a){if(!a)throw new Error("geojson is required");var b=[];return Rb(a,function(a){wc(a,b)}),fb(b)}function wc(a,b){var c=[],d=a.geometry;switch(d.type){case"Polygon":c=nb(d);break;case"LineString":c=[nb(d)]}c.forEach(function(c){xc(c,a.properties).forEach(function(a){a.id=b.length,b.push(a)})})}function xc(a,b){var c=[];return a.reduce(function(a,d){var e=eb([a,d],b);return e.bbox=yc(a,d),c.push(e),d}),c}function yc(a,b){var c=a[0],d=a[1],e=b[0],f=b[1];return[c<e?c:e,d<f?d:f,c>e?c:e,d>f?d:f]}function zc(a,b){var c={},d=[];if("LineString"===a.type&&(a=bb(a)),"LineString"===b.type&&(b=bb(b)),"Feature"===a.type&&"Feature"===b.type&&"LineString"===a.geometry.type&&"LineString"===b.geometry.type&&2===a.geometry.coordinates.length&&2===b.geometry.coordinates.length){var e=Ac(a,b);return e&&d.push(e),fb(d)}var f=Gn();return f.load(vc(b)),Mb(vc(a),function(a){Mb(f.search(a),function(b){var e=Ac(a,b);if(e){var f=nb(e).join(",");c[f]||(c[f]=!0,d.push(e))}})}),fb(d)}function Ac(a,b){var c=nb(a),d=nb(b);if(2!==c.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==d.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var e=c[0][0],f=c[0][1],g=c[1][0],h=c[1][1],i=d[0][0],j=d[0][1],k=d[1][0],l=d[1][1],m=(l-j)*(g-e)-(k-i)*(h-f),n=(k-i)*(f-j)-(l-j)*(e-i),o=(g-e)*(f-j)-(h-f)*(e-i);if(0===m)return null;var p=n/m,q=o/m;if(p>=0&&p<=1&&q>=0&&q<=1){return cb([e+p*(g-e),f+p*(h-f)])}return null}function Bc(){}function Cc(){}function Dc(){}function Ec(){}function Fc(){}function Gc(){}function Hc(){}function Ic(){}function Jc(){}function Kc(){}function Lc(a){this.name="RuntimeException",this.message=a,this.stack=(new Error).stack,Error.call(this,a)}function Mc(){if(0===arguments.length)Lc.call(this);else if(1===arguments.length){var a=arguments[0];Lc.call(this,a)}}function Nc(){}function Oc(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)Oc.call(this,0,0);else if(1===arguments.length){var a=arguments[0];Oc.call(this,a.x,a.y,a.z)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];Oc.call(this,b,c,Oc.NULL_ORDINATE)}else if(3===arguments.length){var b=arguments[0],c=arguments[1],d=arguments[2];this.x=b,this.y=c,this.z=d}}function Pc(){if(this.dimensionsToTest=2,0===arguments.length)Pc.call(this,2);else if(1===arguments.length){var a=arguments[0];if(2!==a&&3!==a)throw new Ec("only 2 or 3 dimensions may be specified");this.dimensionsToTest=a}}function Qc(){}function Rc(a){this.str=a}function Sc(a){this.value=a}function Tc(){}function Uc(){if(this.hi=0,this.lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var a=arguments[0];this.init(a)}else if(arguments[0]instanceof Uc){var b=arguments[0];this.init(b)}else if("string"==typeof arguments[0]){var c=arguments[0];Uc.call(this,Uc.parse(c))}}else if(2===arguments.length){var d=arguments[0],e=arguments[1];this.init(d,e)}}function Vc(){}function Wc(){}function Xc(){Wc.call(this,"Projective point not representable on the Cartesian plane.")}function Yc(){}function Zc(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var a=arguments[0];this.x=a.x,this.y=a.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var b=arguments[0],c=arguments[1];this.x=b,this.y=c,this.w=1}else if(arguments[0]instanceof Zc&&arguments[1]instanceof Zc){var d=arguments[0],e=arguments[1];this.x=d.y*e.w-e.y*d.w,this.y=e.x*d.w-d.x*e.w,this.w=d.x*e.y-e.x*d.y}else if(arguments[0]instanceof Oc&&arguments[1]instanceof Oc){var d=arguments[0],e=arguments[1];this.x=d.y-e.y,this.y=e.x-d.x,this.w=d.x*e.y-e.x*d.y}}else if(3===arguments.length){var b=arguments[0],c=arguments[1],f=arguments[2];this.x=b,this.y=c,this.w=f}else if(4===arguments.length){var d=arguments[0],e=arguments[1],g=arguments[2],h=arguments[3],i=d.y-e.y,j=e.x-d.x,k=d.x*e.y-e.x*d.y,l=g.y-h.y,m=h.x-g.x,n=g.x*h.y-h.x*g.y;this.x=j*n-m*k,this.y=l*k-i*n,this.w=i*m-l*j}}function $c(){if(this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof Oc){var a=arguments[0];this.init(a.x,a.x,a.y,a.y)}else if(arguments[0]instanceof $c){var b=arguments[0];this.init(b)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];this.init(c.x,d.x,c.y,d.y)}else if(4===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2],h=arguments[3];this.init(e,f,g,h)}}function _c(a){this.geometryFactory=a||new He}function ad(a){this.parser=new _c(a)}function bd(){this.result=null,this.inputLines=Array(2).fill().map(function(){return Array(2)}),this.intPt=new Array(2).fill(null),this.intLineIndex=null,this._isProper=null,this.pa=null,this.pb=null,this.precisionModel=null,this.intPt[0]=new Oc,this.intPt[1]=new Oc,this.pa=this.intPt[0],this.pb=this.intPt[1],this.result=0}function cd(){bd.apply(this)}function dd(){}function ed(){this.p=null,this.crossingCount=0,this.isPointOnSegment=!1;var a=arguments[0];this.p=a}function fd(){}function gd(){}function hd(){this.envelope=null,this.factory=null,this.SRID=null,this.userData=null;var a=arguments[0];this.factory=a,this.SRID=a.getSRID()}function id(){}function jd(){}function kd(){}function ld(){}function md(){}function nd(){}function od(){}function pd(){}function qd(a){this.message=a||""}function rd(){}function sd(a){this.message=a||""}function td(a){this.message=a||""}function ud(){this.array_=[],arguments[0]instanceof pd&&this.addAll(arguments[0])}function vd(){if(ud.apply(this),0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.ensureCapacity(a.length),this.add(a,!0)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this.ensureCapacity(a.length),this.add(a,b)}}function wd(){}function xd(){}function yd(){}function zd(){}function Ad(){}function Bd(){}function Cd(){this.array_=[],arguments[0]instanceof pd&&this.addAll(arguments[0])}function Dd(a){return null==a?Qn:a.color}function Ed(a){return null==a?null:a.parent}function Fd(a,b){null!==a&&(a.color=b)}function Gd(a){return null==a?null:a.left}function Hd(a){return null==a?null:a.right}function Id(){this.root_=null,this.size_=0}function Jd(){}function Kd(){}function Ld(){this.array_=[],arguments[0]instanceof pd&&this.addAll(arguments[0])}function Md(){}function Nd(){}function Od(){}function Pd(){}function Qd(){this.geometries=null;var a=arguments[0],b=arguments[1];if(hd.call(this,b),null===a&&(a=[]),hd.hasNullElements(a))throw new Ec("geometries must not contain null elements");this.geometries=a}function Rd(){var a=arguments[0],b=arguments[1];Qd.call(this,a,b)}function Sd(){if(this.geom=null,this.geomFact=null,this.bnRule=null,this.endpointMap=null,1===arguments.length){var a=arguments[0];Sd.call(this,a,jd.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this.geom=a,this.geomFact=a.getFactory(),this.bnRule=b}}function Td(){this.count=null}function Ud(){}function Vd(){}function Wd(){}function Xd(){}function Yd(){}function Zd(){}function $d(){}function _d(){}function ae(){this.points=null;var a=arguments[0],b=arguments[1];hd.call(this,b),this.init(a)}function be(){}function ce(){this.coordinates=null;var a=arguments[0],b=arguments[1];hd.call(this,b),this.init(a)}function de(){}function ee(){this.shell=null,this.holes=null;var a=arguments[0],b=arguments[1],c=arguments[2];if(hd.call(this,c),null===a&&(a=this.getFactory().createLinearRing()),null===b&&(b=[]),hd.hasNullElements(b))throw new Ec("holes must not contain null elements");if(a.isEmpty()&&hd.hasNonEmptyElements(b))throw new Ec("shell is empty but holes are not");this.shell=a,this.holes=b}function fe(){var a=arguments[0],b=arguments[1];Qd.call(this,a,b)}function ge(){if(arguments[0]instanceof Oc&&arguments[1]instanceof He){var a=arguments[0],b=arguments[1];ge.call(this,b.getCoordinateSequenceFactory().create(a),b)}else if(In(arguments[0],Cc)&&arguments[1]instanceof He){var a=arguments[0],b=arguments[1];ae.call(this,a,b),this.validateConstruction()}}function he(){var a=arguments[0],b=arguments[1];Qd.call(this,a,b)}function ie(){if(this.factory=null,this.isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.factory=a}}function je(){}function ke(){}function le(){}function me(){}function ne(){if(this.dimension=3,this.coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];ne.call(this,a,3)}else if(Number.isInteger(arguments[0])){var b=arguments[0];this.coordinates=new Array(b).fill(null);for(var c=0;c<b;c++)this.coordinates[c]=new Oc}else if(In(arguments[0],Cc)){var d=arguments[0];if(null===d)return this.coordinates=new Array(0).fill(null),null;this.dimension=d.getDimension(),this.coordinates=new Array(d.size()).fill(null);for(var c=0;c<this.coordinates.length;c++)this.coordinates[c]=d.getCoordinateCopy(c)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var a=arguments[0],e=arguments[1];this.coordinates=a,this.dimension=e,null===a&&(this.coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var b=arguments[0],e=arguments[1];this.coordinates=new Array(b).fill(null),this.dimension=e;for(var c=0;c<b;c++)this.coordinates[c]=new Oc}}function oe(){}function pe(a,b){return a===b||a!==a&&b!==b}function qe(a,b){function c(a){if(!this||this.constructor!==c)return new c(a);this._keys=[],this._values=[],this._itp=[],this.objectOnly=b,a&&re.call(this,a)}return b||Un(a,"size",{get:Ce}),a.constructor=c,c.prototype=a,c}function re(a){this.add?a.forEach(this.add,this):a.forEach(function(a){this.set(a[0],a[1])},this)}function se(a){return this.has(a)&&(this._keys.splice(Tn,1),this._values.splice(Tn,1),this._itp.forEach(function(a){Tn<a[0]&&a[0]--})),Tn>-1}function te(a){return this.has(a)?this._values[Tn]:void 0}function ue(a,b){if(this.objectOnly&&b!==Object(b))throw new TypeError("Invalid value used as weak collection key");if(b!==b||0===b)for(Tn=a.length;Tn--&&!pe(a[Tn],b););else Tn=a.indexOf(b);return Tn>-1}function ve(a){return ue.call(this,this._keys,a)}function we(a,b){return this.has(a)?this._values[Tn]=b:this._values[this._keys.push(a)-1]=b,this}function xe(){(this._keys||0).length=this._values.length=0}function ye(){return Be(this._itp,this._keys)}function ze(){return Be(this._itp,this._values)}function Ae(){return Be(this._itp,this._keys,this._values)}function Be(a,b,c){var d=[0],e=!1;return a.push(d),{next:function(){var f,g=d[0];return!e&&g<b.length?(f=c?[b[g],c[g]]:b[g],d[0]++):(e=!0,a.splice(a.indexOf(d),1)),{done:e,value:f}}}}function Ce(){return this._values.length}function De(a,b){for(var c=this.entries();;){var d=c.next();if(d.done)break;a.call(b,d.value[1],d.value[0],this)}}function Ee(){this.map_=new Wn}function Fe(){if(this.modelType=null,this.scale=null,0===arguments.length)this.modelType=Fe.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Ge){var a=arguments[0];this.modelType=a,a===Fe.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var b=arguments[0];this.modelType=Fe.FIXED,this.setScale(b)}else if(arguments[0]instanceof Fe){var c=arguments[0];this.modelType=c.modelType,this.scale=c.scale}}function Ge(){this.name=null;var a=arguments[0];this.name=a,Ge.nameToTypeMap.put(a,this)}function He(){if(this.precisionModel=null,this.coordinateSequenceFactory=null,this.SRID=null,0===arguments.length)He.call(this,new Fe,0);else if(1===arguments.length){if(In(arguments[0],Dc)){var a=arguments[0];He.call(this,new Fe,0,a)}else if(arguments[0]instanceof Fe){var b=arguments[0];He.call(this,b,0,He.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var b=arguments[0],c=arguments[1];He.call(this,b,c,He.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var b=arguments[0],c=arguments[1],a=arguments[2];this.precisionModel=b,this.coordinateSequenceFactory=a,this.SRID=c}}function Ie(a){this.geometryFactory=a||new He}function Je(a){this.geometryFactory=a||new He,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Ie(this.geometryFactory)}function Ke(){this.parser=new Ie(this.geometryFactory)}function Le(a){this.geometryFactory=a||new He,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new _c(this.geometryFactory)}function Me(a){return[a.x,a.y]}function Ne(a,b){this.geometryFactory=a||new He,this.ol=b||"undefined"!=typeof ol&&ol}function Oe(){this.mapOp=null;var a=arguments[0];this.mapOp=a}function Pe(){}function Qe(){if(this.pt=null,1===arguments.length){var a=arguments[0];Lc.call(this,a)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];Lc.call(this,Qe.msgWithCoord(a,b)),this.name="TopologyException",this.pt=new Oc(b)}}function Re(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];this.init(a.length)}else if(Number.isInteger(arguments[0])){var b=arguments[0];this.init(1),this.location[Pe.ON]=b}else if(arguments[0]instanceof Re){var c=arguments[0];if(this.init(c.location.length),null!==c)for(var d=0;d<this.location.length;d++)this.location[d]=c.location[d]}}else if(3===arguments.length){var b=arguments[0],e=arguments[1],f=arguments[2];this.init(3),this.location[Pe.ON]=b,this.location[Pe.LEFT]=e,this.location[Pe.RIGHT]=f}}function Se(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var a=arguments[0];this.elt[0]=new Re(a),this.elt[1]=new Re(a)}else if(arguments[0]instanceof Se){var b=arguments[0];this.elt[0]=new Re(b.elt[0]),this.elt[1]=new Re(b.elt[1])}}else if(2===arguments.length){var c=arguments[0],a=arguments[1];this.elt[0]=new Re(Fc.NONE),this.elt[1]=new Re(Fc.NONE),this.elt[c].setLocation(a)}else if(3===arguments.length){var a=arguments[0],d=arguments[1],e=arguments[2];this.elt[0]=new Re(a,d,e),this.elt[1]=new Re(a,d,e)}else if(4===arguments.length){var c=arguments[0],a=arguments[1],d=arguments[2],e=arguments[3];this.elt[0]=new Re(Fc.NONE,Fc.NONE,Fc.NONE),this.elt[1]=new Re(Fc.NONE,Fc.NONE,Fc.NONE),this.elt[c].setLocations(a,d,e)}}function Te(){this.startDe=null,this.maxNodeDegree=-1,this.edges=new ud,this.pts=new ud,this.label=new Se(Fc.NONE),this.ring=null,this._isHole=null,this.shell=null,this.holes=new ud,this.geometryFactory=null;var a=arguments[0],b=arguments[1];this.geometryFactory=b,this.computePoints(a),this.computeRing()}function Ue(){var a=arguments[0],b=arguments[1];Te.call(this,a,b)}function Ve(){var a=arguments[0],b=arguments[1];Te.call(this,a,b)}function We(){}function Xe(){this.parent=null,this.atStart=null,this.max=null,this.index=null,this.subcollectionIterator=null;var a=arguments[0];this.parent=a,this.atStart=!0,this.index=0,this.max=a.getNumGeometries()}function Ye(){this.geom=null;var a=arguments[0];this.geom=a}function Ze(){this.edgeMap=new Id,this.edgeList=null,this.ptInAreaLocation=[Fc.NONE,Fc.NONE]}function $e(){}function _e(){Ze.apply(this),this.resultAreaEdgeList=null,this.label=null,this.SCANNING_FOR_INCOMING=1,this.LINKING_TO_OUTGOING=2}function af(){if(this.label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.label=a}}function bf(){af.apply(this),this.coord=null,this.edges=null;var a=arguments[0],b=arguments[1];this.coord=a,this.edges=b,this.label=new Se(0,Fc.NONE)}function cf(){}function df(){cf.apply(this)}function ef(){this.nodeMap=new Id,this.nodeFact=null;var a=arguments[0];this.nodeFact=a}function ff(){if(this.edge=null,this.label=null,this.node=null,this.p0=null,this.p1=null,this.dx=null,this.dy=null,this.quadrant=null,1===arguments.length){var a=arguments[0];this.edge=a}else if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];ff.call(this,a,b,c,null)}else if(4===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];ff.call(this,a),this.init(b,c),this.label=d}}function gf(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this.sym=null,this.next=null,this.nextMin=null,this.edgeRing=null,this.minEdgeRing=null,this.depth=[0,-999,-999];var a=arguments[0],b=arguments[1];if(ff.call(this,a),this._isForward=b,b)this.init(a.getCoordinate(0),a.getCoordinate(1));else{var c=a.getNumPoints()-1;this.init(a.getCoordinate(c),a.getCoordinate(c-1))}this.computeDirectedLabel()}function hf(){if(this.edges=new ud,this.nodes=null,this.edgeEndList=new ud,0===arguments.length)this.nodes=new ef(new cf);else if(1===arguments.length){var a=arguments[0];this.nodes=new ef(a)}}function jf(){this.geometryFactory=new He,this.geomGraph=null,this.disconnectedRingcoord=null;var a=arguments[0];this.geomGraph=a}function kf(){if(this.p0=null,this.p1=null,0===arguments.length)kf.call(this,new Oc,new Oc);else if(1===arguments.length){var a=arguments[0];kf.call(this,a.p0,a.p1)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.p0=b,this.p1=c}else if(4===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2],g=arguments[3];kf.call(this,new Oc(d,e),new Oc(f,g))}}function lf(){this.tempEnv1=new $c,this.selectedSegment=new kf}function mf(){this.items=new ud,this.subnode=[null,null]}function nf(){if(this.min=null,this.max=null,0===arguments.length)this.min=0,this.max=0;else if(1===arguments.length){var a=arguments[0];this.init(a.min,a.max)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.init(b,c)}}function of(){}function pf(a,b){var c,d,e,f,g={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}},h={32:8,64:11}[a];if(f||(c=b<0||1/b<0,isFinite(b)||(f=g[a],c&&(f.d+=1<<a/4-1),d=Math.pow(2,h)-1,e=0)),!f){for(d={32:127,64:1023}[a],e=Math.abs(b);e>=2;)d++,e/=2;for(;e<1&&d>0;)d--,e*=2;d<=0&&(e/=2),32===a&&d>254&&(f={d:c?255:127,c:128,b:0,a:0},d=Math.pow(2,h)-1,e=0)}return d}function qf(){this.pt=0,this.level=0,this.interval=null;var a=arguments[0];this.computeKey(a)}function rf(){mf.apply(this),this.interval=null,this.centre=null,this.level=null;var a=arguments[0],b=arguments[1];this.interval=a,this.level=b,this.centre=(a.getMin()+a.getMax())/2}function sf(){}function tf(){mf.apply(this)}function uf(){this.root=null,this.minExtent=1,this.root=new tf}function vf(){this.pts=null,this.start=null,this.end=null,this.env=null,this.context=null,this.id=null;var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];this.pts=a,this.start=b,this.end=c,this.context=d}function wf(){}function xf(){}function yf(){this.ring=null,this.tree=null,this.crossings=0,this.interval=new nf;var a=arguments[0];this.ring=a,this.buildIndex()}function zf(){lf.apply(this),this.mcp=null,this.p=null;var a=arguments[0],b=arguments[1];this.mcp=a,this.p=b}function Af(){if(this.boundaryRule=jd.OGC_SFS_BOUNDARY_RULE,this.isIn=null,this.numBoundaries=null,0===arguments.length);else if(1===arguments.length){var a=arguments[0];if(null===a)throw new Ec("Rule must be non-null");this.boundaryRule=a}}function Bf(){this.mce=null,this.chainIndex=null;var a=arguments[0],b=arguments[1];this.mce=a,this.chainIndex=b}function Cf(){if(this.label=null,this.xValue=null,this.eventType=null,this.insertEvent=null,this.deleteEventIndex=null,this.obj=null,2===arguments.length){var a=arguments[0],b=arguments[1];this.eventType=Cf.DELETE,this.xValue=a,this.insertEvent=b}else if(3===arguments.length){var c=arguments[0],a=arguments[1],d=arguments[2];this.eventType=Cf.INSERT,this.label=c,this.xValue=a,this.obj=d}}function Df(){}function Ef(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.properIntersectionPoint=null,this.li=null,this.includeProper=null,this.recordIsolated=null,this.isSelfIntersection=null,this.numIntersections=0,this.numTests=0,this.bdyNodes=null,this._isDone=!1,this.isDoneWhenProperInt=!1;var a=arguments[0],b=arguments[1],c=arguments[2];this.li=a,this.includeProper=b,this.recordIsolated=c}function Ff(){Df.apply(this),this.events=new ud,this.nOverlaps=null}function Gf(){}function Hf(){this.min=Hc.POSITIVE_INFINITY,this.max=Hc.NEGATIVE_INFINITY}function If(){}function Jf(){Hf.apply(this),this.item=null;var a=arguments[0],b=arguments[1],c=arguments[2];this.min=a,this.max=b,this.item=c}function Kf(){Hf.apply(this),this.node1=null,this.node2=null;var a=arguments[0],b=arguments[1];this.node1=a,this.node2=b,this.buildExtent(this.node1,this.node2)}function Lf(){this.leaves=new ud,this.root=null,this.level=0}function Mf(){if(this.lines=null,this.isForcedToLineString=!1,1===arguments.length){var a=arguments[0];this.lines=a}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this.lines=a,this.isForcedToLineString=b}}function Nf(){this.items=new ud}function Of(){this.index=null;var a=arguments[0];if(!In(a,de))throw new Ec("Argument must be Polygonal");this.index=new Qf(a)}function Pf(){this.counter=null;var a=arguments[0];this.counter=a}function Qf(){this.index=new Lf;var a=arguments[0];this.init(a)}function Rf(){this.coord=null,this.segmentIndex=null,this.dist=null;var a=arguments[0],b=arguments[1],c=arguments[2];this.coord=new Oc(a),this.segmentIndex=b,this.dist=c}function Sf(){this.nodeMap=new Id,this.edge=null;var a=arguments[0];this.edge=a}function Tf(){}function Uf(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new $c,this.env2=new $c;var a=arguments[0];this.e=a,this.pts=a.getCoordinates();var b=new Tf;this.startIndex=b.getChainStartIndices(this.pts)}function Vf(){this.depth=Array(2).fill().map(function(){return Array(3)});for(var a=0;a<2;a++)for(var b=0;b<3;b++)this.depth[a][b]=Vf.NULL_VALUE}function Wf(){if(af.apply(this),this.pts=null,this.env=null,this.eiList=new Sf(this),this.name=null,this.mce=null,this._isIsolated=!0,this.depth=new Vf,this.depthDelta=0,1===arguments.length){var a=arguments[0];Wf.call(this,a,null)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this.pts=a,this.label=b}}function Xf(){if(hf.apply(this),this.parentGeom=null,this.lineEdgeMap=new Ee,this.boundaryNodeRule=null,this.useBoundaryDeterminationRule=!0,this.argIndex=null,this.boundaryNodes=null,this._hasTooFewPoints=!1,this.invalidPoint=null,this.areaPtLocator=null,this.ptLocator=new Af,2===arguments.length){var a=arguments[0],b=arguments[1];Xf.call(this,a,b,jd.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];this.argIndex=a,this.parentGeom=b,this.boundaryNodeRule=c,null!==b&&this.add(b)}}function Yf(){}function Zf(){if(this.edgeEnds=new ud,1===arguments.length){var a=arguments[0];Zf.call(this,null,a)}else if(2===arguments.length){var a=(arguments[0],arguments[1]);ff.call(this,a.getEdge(),a.getCoordinate(),a.getDirectedCoordinate(),new Se(a.getLabel())),this.insert(a)}}function $f(){Ze.apply(this)}function _f(){var a=arguments[0],b=arguments[1];bf.call(this,a,b)}function ag(){cf.apply(this)}function bg(){this.nodes=new ef(new ag)}function cg(){this.li=new cd,this.geomGraph=null,this.nodeGraph=new bg,this.invalidPoint=null;var a=arguments[0];this.geomGraph=a}function dg(){}function eg(){this.bounds=null,this.item=null;var a=arguments[0],b=arguments[1];this.bounds=a,this.item=b}function fg(){this._size=null,this.items=null,this._size=0,this.items=new ud,this.items.add(null)}function gg(){}function hg(){if(this.childBoundables=new ud,this.bounds=null,this.level=null,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.level=a}}function ig(){this.boundable1=null,this.boundable2=null,this._distance=null,this.itemDistance=null;var a=arguments[0],b=arguments[1],c=arguments[2];this.boundable1=a,this.boundable2=b,this.itemDistance=c,this._distance=this.distance()}function jg(){if(this.root=null,this.built=!1,this.itemBoundables=new ud,this.nodeCapacity=null,0===arguments.length)jg.call(this,jg.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var a=arguments[0];Nc.isTrue(a>1,"Node capacity must be greater than 1"),this.nodeCapacity=a}}function kg(){}function lg(){}function mg(){if(0===arguments.length)mg.call(this,mg.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var a=arguments[0];jg.call(this,a)}}function ng(){var a=arguments[0];hg.call(this,a)}function og(){this.graph=null,this.rings=new ud,this.totalEnv=new $c,this.index=null,this.nestedPt=null;var a=arguments[0];this.graph=a}function pg(){if(this.errorType=null,this.pt=null,1===arguments.length){var a=arguments[0];pg.call(this,a,null)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this.errorType=a,null!==b&&(this.pt=b.copy())}}function qg(){this.parentGeometry=null,this.isSelfTouchingRingFormingHoleValid=!1,this.validErr=null;var a=arguments[0];this.parentGeometry=a}function rg(){this.inputGeom=null,this.factory=null,this.pruneEmptyGeometry=!0,this.preserveGeometryCollectionType=!0,this.preserveCollections=!1,this.preserveType=!1}function sg(){if(this.snapTolerance=0,this.srcPts=null,this.seg=new kf,this.allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof ae&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1];sg.call(this,a.getCoordinates(),b)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var c=arguments[0],b=arguments[1];this.srcPts=c,this._isClosed=sg.isClosed(c),this.snapTolerance=b}}function tg(){this.srcGeom=null;var a=arguments[0];this.srcGeom=a}function ug(){if(rg.apply(this),this.snapTolerance=null,this.snapPts=null,this.isSelfSnap=!1,2===arguments.length){var a=arguments[0],b=arguments[1];this.snapTolerance=a,this.snapPts=b}else if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];this.snapTolerance=a,this.snapPts=b,this.isSelfSnap=c}}function vg(){this.isFirst=!0,this.commonMantissaBitsCount=53,this.commonBits=0,this.commonSignExp=null}function wg(){this.commonCoord=null,this.ccFilter=new xg}function xg(){this.commonBitsX=new vg,this.commonBitsY=new vg}function yg(){this.trans=null;var a=arguments[0];this.trans=a}function zg(){}function Ag(){}function Bg(){this.pts=null,this.data=null;var a=arguments[0],b=arguments[1];this.pts=a,this.data=b}function Cg(){}function Dg(){this.segString=null,this.coord=null,this.segmentIndex=null,this.segmentOctant=null,this._isInterior=null;var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];this.segString=a,this.coord=new Oc(b),this.segmentIndex=c,this.segmentOctant=d,this._isInterior=!b.equals2D(a.getCoordinate(c))}function Eg(){this.nodeMap=new Id,this.edge=null;var a=arguments[0];this.edge=a}function Fg(){this.nodeList=null,this.edge=null,this.nodeIt=null,this.currNode=null,this.nextNode=null,this.currSegIndex=0;var a=arguments[0];this.nodeList=a,this.edge=a.getEdge(),this.nodeIt=a.iterator(),this.readNextNode()}function Gg(){}function Hg(){this.nodeList=new Eg(this),this.pts=null,this.data=null;var a=arguments[0],b=arguments[1];this.pts=a,this.data=b}function Ig(){this.tempEnv1=new $c,this.tempEnv2=new $c,this.overlapSeg1=new kf,this.overlapSeg2=new kf}function Jg(){}function Kg(){if(this.segInt=null,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.setSegmentIntersector(a)}}function Lg(){if(this.monoChains=new ud,this.index=new mg,this.idCounter=0,this.nodedSegStrings=null,this.nOverlaps=0,0===arguments.length);else if(1===arguments.length){var a=arguments[0];Kg.call(this,a)}}function Mg(){Ig.apply(this),this.si=null;var a=arguments[0];this.si=a}function Ng(){}function Og(){this.findAllIntersections=!1,this.isCheckEndSegmentsOnly=!1,this.li=null,this.interiorIntersection=null,this.intSegments=null,this.intersections=new ud,this.intersectionCount=0,this.keepIntersections=!0;var a=arguments[0];this.li=a,this.interiorIntersection=null}function Pg(){this.li=new cd,this.segStrings=null,this.findAllIntersections=!1,this.segInt=null,this._isValid=!0;var a=arguments[0];this.segStrings=a}function Qg(){this.nv=null;var a=arguments[0];this.nv=new Pg(Qg.toSegmentStrings(a))}function Rg(){this.geometryFactory=null,this.shellList=new ud;var a=arguments[0];this.geometryFactory=a}function Sg(){this.op=null,this.geometryFactory=null,this.ptLocator=null,this.lineEdgesList=new ud,this.resultLineList=new ud;var a=arguments[0],b=arguments[1],c=arguments[2];this.op=a,this.geometryFactory=b,this.ptLocator=c}function Tg(){this.op=null,this.geometryFactory=null,this.resultPointList=new ud;var a=arguments[0],b=arguments[1];this.op=a,this.geometryFactory=b}function Ug(){if(this.li=new cd,this.resultPrecisionModel=null,this.arg=null,1===arguments.length){var a=arguments[0];this.setComputationPrecision(a.getPrecisionModel()),this.arg=new Array(1).fill(null),this.arg[0]=new Xf(0,a)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];Ug.call(this,a,b,jd.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];a.getPrecisionModel().compareTo(b.getPrecisionModel())>=0?this.setComputationPrecision(a.getPrecisionModel()):this.setComputationPrecision(b.getPrecisionModel()),this.arg=new Array(2).fill(null),this.arg[0]=new Xf(0,a,c),this.arg[1]=new Xf(1,b,c)}}function Vg(){this.pts=null,this._orientation=null;var a=arguments[0];this.pts=a,this._orientation=Vg.orientation(a)}function Wg(){this.edges=new ud,this.ocaMap=new Id}function Xg(){this.ptLocator=new Af,this.geomFact=null,this.resultGeom=null,this.graph=null,this.edgeList=new Wg,this.resultPolyList=new ud,this.resultLineList=new ud,this.resultPointList=new ud;var a=arguments[0],b=arguments[1];Ug.call(this,a,b),this.graph=new hf(new df),this.geomFact=a.getFactory()}function Yg(){this.geom=new Array(2).fill(null),this.snapTolerance=null,this.cbr=null;var a=arguments[0],b=arguments[1];this.geom[0]=a,this.geom[1]=b,this.computeSnapTolerance()}function Zg(){this.geom=new Array(2).fill(null);var a=arguments[0],b=arguments[1];this.geom[0]=a,this.geom[1]=b}function $g(){this.factory=null,this.interiorPoint=null,this.maxWidth=0;var a=arguments[0];this.factory=a.getFactory(),this.add(a)}function _g(){this.poly=null,this.centreY=null,this.hiY=Hc.MAX_VALUE,this.loY=-Hc.MAX_VALUE;var a=arguments[0];this.poly=a,this.hiY=a.getEnvelopeInternal().getMaxY(),this.loY=a.getEnvelopeInternal().getMinY(),this.centreY=$g.avg(this.loY,this.hiY)}function ah(){this.geomFactory=null,this.skipEmpty=!1,this.inputGeoms=null;var a=arguments[0];this.geomFactory=ah.extractFactory(a),this.inputGeoms=a}function bh(){this.pointGeom=null,this.otherGeom=null,this.geomFact=null;var a=arguments[0],b=arguments[1];this.pointGeom=a,this.otherGeom=b,this.geomFact=b.getFactory()}function ch(){this.sortIndex=-1,this.comps=null;var a=arguments[0],b=arguments[1];this.sortIndex=a,this.comps=b}function dh(){this.comps=null;var a=arguments[0];this.comps=a}function eh(){this.inputPolys=null,this.geomFactory=null;var a=arguments[0];this.inputPolys=a,null===this.inputPolys&&(this.inputPolys=new ud)}function fh(){if(this.polygons=new ud,this.lines=new ud,this.points=new ud,this.geomFact=null,1===arguments.length){if(In(arguments[0],pd)){var a=arguments[0];this.extract(a)}else if(arguments[0]instanceof hd){var b=arguments[0];this.extract(b)}}else if(2===arguments.length){var a=arguments[0],c=arguments[1];this.geomFact=c,this.extract(a)}}function gh(){}function hh(){this.centroid=null,this.minDistance=Hc.MAX_VALUE,this.interiorPoint=null;var a=arguments[0];this.centroid=a.getCentroid().getCoordinate(),this.addInterior(a),null===this.interiorPoint&&this.addEndpoints(a)}function ih(){if(this.inputGeom=null,this.isClosedEndpointsInInterior=!0,this.nonSimpleLocation=null,1===arguments.length){var a=arguments[0];this.inputGeom=a}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this.inputGeom=a,this.isClosedEndpointsInInterior=!b.isInBoundary(2)}}function jh(){this.pt=null,this.isClosed=null,this.degree=null;var a=arguments[0];this.pt=a,this.isClosed=!1,this.degree=0}function kh(){if(this.quadrantSegments=kh.DEFAULT_QUADRANT_SEGMENTS,this.endCapStyle=kh.CAP_ROUND,this.joinStyle=kh.JOIN_ROUND,this.mitreLimit=kh.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this.simplifyFactor=kh.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.setQuadrantSegments(a)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this.setQuadrantSegments(a),this.setEndCapStyle(b)}else if(4===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];this.setQuadrantSegments(a),this.setEndCapStyle(b),this.setJoinStyle(c),this.setMitreLimit(d)}}function lh(a){this.message=a||""}function mh(){this.array_=[]}function nh(){this.minIndex=-1,this.minCoord=null,this.minDe=null,this.orientedDe=null}function oh(){this.array_=[]}function ph(){this.finder=null,this.dirEdgeList=new ud,this.nodes=new ud,this.rightMostCoord=null,this.env=null,this.finder=new nh}function qh(){this.inputLine=null,this.distanceTol=null,this.isDeleted=null,this.angleOrientation=fd.COUNTERCLOCKWISE;var a=arguments[0];this.inputLine=a}function rh(){this.ptList=null,this.precisionModel=null,this.minimimVertexDistance=0,this.ptList=new ud}function sh(){}function th(){this.maxCurveSegmentError=0,this.filletAngleQuantum=null,this.closingSegLengthFactor=1,this.segList=null,this.distance=0,this.precisionModel=null,this.bufParams=null,this.li=null,this.s0=null,this.s1=null,this.s2=null,this.seg0=new kf,this.seg1=new kf,this.offset0=new kf,this.offset1=new kf,this.side=0,this._hasNarrowConcaveAngle=!1;var a=arguments[0],b=arguments[1],c=arguments[2];this.precisionModel=a,this.bufParams=b,this.li=new cd,this.filletAngleQuantum=Math.PI/2/b.getQuadrantSegments(),b.getQuadrantSegments()>=8&&b.getJoinStyle()===kh.JOIN_ROUND&&(this.closingSegLengthFactor=th.MAX_CLOSING_SEG_LEN_FACTOR),this.init(c)}function uh(){this.distance=0,this.precisionModel=null,this.bufParams=null;var a=arguments[0],b=arguments[1];this.precisionModel=a,this.bufParams=b}function vh(){this.subgraphs=null,this.seg=new kf,this.cga=new fd;var a=arguments[0];this.subgraphs=a}function wh(){this.upwardSeg=null,this.leftDepth=null;var a=arguments[0],b=arguments[1];this.upwardSeg=new kf(a),this.leftDepth=b}function xh(){this.p0=null,this.p1=null,this.p2=null;var a=arguments[0],b=arguments[1],c=arguments[2];this.p0=a,this.p1=b,this.p2=c}function yh(){this.inputGeom=null,this.distance=null,this.curveBuilder=null,this.curveList=new ud;var a=arguments[0],b=arguments[1],c=arguments[2];this.inputGeom=a,this.distance=b,this.curveBuilder=c}function zh(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.hasInterior=!1,this.properIntersectionPoint=null,this.li=null,this.isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var a=arguments[0];this.li=a}function Ah(){this.bufParams=null,this.workingPrecisionModel=null,this.workingNoder=null,this.geomFact=null,this.graph=null,this.edgeList=new Wg;var a=arguments[0];this.bufParams=a}function Bh(){if(this.noder=null,this.scaleFactor=null,this.offsetX=null,this.offsetY=null,this.isScaled=!1,2===arguments.length){var a=arguments[0],b=arguments[1];Bh.call(this,a,b,0,0)}else if(4===arguments.length){var a=arguments[0],b=arguments[1];this.noder=a,this.scaleFactor=b,this.isScaled=!this.isIntegerPrecision()}}function Ch(){this.li=new cd,this.segStrings=null;var a=arguments[0];this.segStrings=a}function Dh(){this.li=null,this.pt=null,this.originalPt=null,this.ptScaled=null,this.p0Scaled=null,this.p1Scaled=null,this.scaleFactor=null,this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,this.corner=new Array(4).fill(null),this.safeEnv=null;var a=arguments[0],b=arguments[1],c=arguments[2];if(this.originalPt=a,this.pt=a,this.scaleFactor=b,this.li=c,b<=0)throw new Ec("Scale factor must be non-zero");1!==b&&(this.pt=new Oc(this.scale(a.x),this.scale(a.y)),this.p0Scaled=new Oc,this.p1Scaled=new Oc),this.initCorners(this.pt)}function Eh(){this.index=null;var a=arguments[0];this.index=a}function Fh(){lf.apply(this),this.hotPixel=null,this.parentEdge=null,this.hotPixelVertexIndex=null,this._isNodeAdded=!1;var a=arguments[0],b=arguments[1],c=arguments[2];this.hotPixel=a,this.parentEdge=b,this.hotPixelVertexIndex=c}function Gh(){this.li=null,this.interiorIntersections=null;var a=arguments[0];this.li=a,this.interiorIntersections=new ud}function Hh(){this.pm=null,this.li=null,this.scaleFactor=null,this.noder=null,this.pointSnapper=null,this.nodedSegStrings=null;var a=arguments[0];this.pm=a,this.li=new cd,this.li.setPrecisionModel(a),this.scaleFactor=a.getScale()}function Ih(){if(this.argGeom=null,this.distance=null,this.bufParams=new kh,this.resultGeometry=null,this.saveException=null,1===arguments.length){var a=arguments[0];this.argGeom=a}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this.argGeom=a,this.bufParams=b}}function Jh(){this.treeSet=new Ld,this.list=new ud}function Kh(){if(this.geomFactory=null,this.inputPts=null,1===arguments.length){var a=arguments[0];Kh.call(this,Kh.extractCoordinates(a),a.getFactory())}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.inputPts=Jh.filterCoordinates(b),this.geomFactory=c}}function Lh(){this.origin=null;var a=arguments[0];this.origin=a}function Mh(){this.areaBasePt=null,this.triangleCent3=new Oc,this.areasum2=0,this.cg3=new Oc,this.lineCentSum=new Oc,this.totalLength=0,this.ptCount=0,this.ptCentSum=new Oc;var a=arguments[0];this.areaBasePt=null,this.add(a)}function Nh(){if(this.matrix=null,0===arguments.length)this.matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(Nd.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var a=arguments[0];Nh.call(this),this.set(a)}else if(arguments[0]instanceof Nh){var b=arguments[0];Nh.call(this),this.matrix[Fc.INTERIOR][Fc.INTERIOR]=b.matrix[Fc.INTERIOR][Fc.INTERIOR],this.matrix[Fc.INTERIOR][Fc.BOUNDARY]=b.matrix[Fc.INTERIOR][Fc.BOUNDARY],this.matrix[Fc.INTERIOR][Fc.EXTERIOR]=b.matrix[Fc.INTERIOR][Fc.EXTERIOR],this.matrix[Fc.BOUNDARY][Fc.INTERIOR]=b.matrix[Fc.BOUNDARY][Fc.INTERIOR],this.matrix[Fc.BOUNDARY][Fc.BOUNDARY]=b.matrix[Fc.BOUNDARY][Fc.BOUNDARY],this.matrix[Fc.BOUNDARY][Fc.EXTERIOR]=b.matrix[Fc.BOUNDARY][Fc.EXTERIOR],this.matrix[Fc.EXTERIOR][Fc.INTERIOR]=b.matrix[Fc.EXTERIOR][Fc.INTERIOR],this.matrix[Fc.EXTERIOR][Fc.BOUNDARY]=b.matrix[Fc.EXTERIOR][Fc.BOUNDARY],this.matrix[Fc.EXTERIOR][Fc.EXTERIOR]=b.matrix[Fc.EXTERIOR][Fc.EXTERIOR]}}function Oh(){this.li=new cd,this.ptLocator=new Af,this.arg=null,this.nodes=new ef(new ag),this.im=null,this.isolatedEdges=new ud,this.invalidPoint=null;var a=arguments[0];this.arg=a}function Ph(){this.rectEnv=null;var a=arguments[0];this.rectEnv=a.getEnvelopeInternal()}function Qh(){this.li=new cd,this.rectEnv=null,this.diagUp0=null,this.diagUp1=null,this.diagDown0=null,this.diagDown1=null;var a=arguments[0];this.rectEnv=a,this.diagUp0=new Oc(a.getMinX(),a.getMinY()),this.diagUp1=new Oc(a.getMaxX(),a.getMaxY()),this.diagDown0=new Oc(a.getMinX(),a.getMaxY()),this.diagDown1=new Oc(a.getMaxX(),a.getMinY())}function Rh(){this._isDone=!1}function Sh(){this.rectangle=null,this.rectEnv=null;var a=arguments[0];this.rectangle=a,this.rectEnv=a.getEnvelopeInternal()}function Th(){Rh.apply(this),this.rectEnv=null,this._intersects=!1;var a=arguments[0];this.rectEnv=a}function Uh(){Rh.apply(this),this.rectSeq=null,this.rectEnv=null,this._containsPoint=!1;var a=arguments[0];this.rectSeq=a.getExteriorRing().getCoordinateSequence(),this.rectEnv=a.getEnvelopeInternal()}function Vh(){Rh.apply(this),this.rectEnv=null,this.rectIntersector=null,this.hasIntersection=!1,this.p0=new Oc,this.p1=new Oc;var a=arguments[0];this.rectEnv=a.getEnvelopeInternal(),this.rectIntersector=new Qh(this.rectEnv)}function Wh(){if(this._relate=null,2===arguments.length){var a=arguments[0],b=arguments[1];Ug.call(this,a,b),this._relate=new Oh(this.arg)}else if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];Ug.call(this,a,b,c),this._relate=new Oh(this.arg)}}function Xh(){this.centroid=null,this.minDistance=Hc.MAX_VALUE,this.interiorPoint=null;var a=arguments[0];this.centroid=a.getCentroid().getCoordinate(),this.add(a)}function Yh(){if(this.component=null,this.segIndex=null,this.pt=null,2===arguments.length){var a=arguments[0],b=arguments[1];Yh.call(this,a,Yh.INSIDE_AREA,b)}else if(3===arguments.length){var a=arguments[0],c=arguments[1],b=arguments[2];this.component=a,this.segIndex=c,this.pt=b}}function Zh(){this.pts=null;var a=arguments[0];this.pts=a}function $h(){this.locations=null;var a=arguments[0];this.locations=a}function _h(){if(this.geom=null,this.terminateDistance=0,this.ptLocator=new Af,this.minDistanceLocation=null,this.minDistance=Hc.MAX_VALUE,2===arguments.length){var a=arguments[0],b=arguments[1];_h.call(this,a,b,0)}else if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];this.geom=new Array(2).fill(null),this.geom[0]=a,this.geom[1]=b,this.terminateDistance=c}}function ai(){for(var a=new Je,b=a.read(JSON.stringify(arguments[0].geometry)),c=1;c<arguments.length;c++)b=b.union(a.read(JSON.stringify(arguments[c].geometry)));return b=(new Ke).write(b),{type:"Feature",geometry:b,properties:arguments[0].properties}}function bi(a,b,c,d){if(ci(a,c)||ci(a,d)||ci(b,c)||ci(d,c))return null;var e=a[0],f=a[1],g=b[0],h=b[1],i=c[0],j=c[1],k=d[0],l=d[1],m=(e-g)*(j-l)-(f-h)*(i-k);return 0===m?null:[((e*h-f*g)*(i-k)-(e-g)*(i*l-j*k))/m,((e*h-f*g)*(j-l)-(f-h)*(i*l-j*k))/m]}function ci(a,b){if(!a||!b)return!1;if(a.length!==b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]instanceof Array&&b[c]instanceof Array){if(!ci(a[c],b[c]))return!1}else if(a[c]!==b[c])return!1;return!0}function di(a){return Qb(a,function(a,b){return a+ei(b)},0)}function ei(a){var b,c=0;switch(a.type){case"Polygon":return fi(a.coordinates);case"MultiPolygon":for(b=0;b<a.coordinates.length;b++)c+=fi(a.coordinates[b]);return c;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(b=0;b<a.geometries.length;b++)c+=ei(a.geometries[b]);return c}}function fi(a){var b=0;if(a&&a.length>0){b+=Math.abs(gi(a[0]));for(var c=1;c<a.length;c++)b-=Math.abs(gi(a[c]))}return b}function gi(a){var b,c,d,e,f,g,h,i=0,j=a.length;if(j>2){for(h=0;h<j;h++)h===j-2?(e=j-2,f=j-1,g=0):h===j-1?(e=j-1,f=0,g=1):(e=h,f=h+1,g=h+2),b=a[e],c=a[f],d=a[g],i+=(hi(d[0])-hi(b[0]))*Math.sin(hi(c[1]));i=i*ao*ao/2}return i}function hi(a){return a*Math.PI/180}function ii(a,b){if(void 0===b&&(b=!0),3!=a.length)throw new Error("This function requires an array of three points [x,y]");return(a[1][0]-a[0][0])*(a[2][1]-a[0][1])-(a[1][1]-a[0][1])*(a[2][0]-a[0][0])>=0==b}function ji(a){for(var b=0,c=0;c<a.length-1;c++)a[c][0]<a[b][0]&&(b=c);if(ii([a[(b-1).modulo(a.length-1)],a[b],a[(b+1).modulo(a.length-1)]],!0))var d=1;else var d=-1;return d}function ki(a,b){if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]instanceof Array&&b[c]instanceof Array){if(!ki(a[c],b[c]))return!1}else if(a[c]!=b[c])return!1;return!0}function li(a){for(var b={},c=1,d=0,e=a.length;d<e;++d){if(b.hasOwnProperty(a[d])){c=0;break}b[a[d]]=1}return c}function mi(a){var b=[];return Rb(a,function(a){"Polygon"===a.geometry.type&&Mb(bo(a),function(c){b.push(db(c.geometry.coordinates,a.properties))})}),fb(b)}function ni(a,b){if("FeatureCollection"!==a.type)throw new Error("points must be a FeatureCollection");var c=!1;return fb(ri(a.features.map(function(a){var d={x:a.geometry.coordinates[0],y:a.geometry.coordinates[1]};return b?d.z=a.properties[b]:3===a.geometry.coordinates.length&&(c=!0,d.z=a.geometry.coordinates[2]),d})).map(function(a){var b=[a.a.x,a.a.y],d=[a.b.x,a.b.y],e=[a.c.x,a.c.y],f={};return c?(b.push(a.a.z),d.push(a.b.z),e.push(a.c.z)):f={a:a.a.z,b:a.b.z,c:a.c.z},db([[b,d,e,b]],f)}))}function oi(a,b,c){this.a=a,this.b=b,this.c=c;var d,e,f=b.x-a.x,g=b.y-a.y,h=c.x-a.x,i=c.y-a.y,j=f*(a.x+b.x)+g*(a.y+b.y),k=h*(a.x+c.x)+i*(a.y+c.y),l=2*(f*(c.y-b.y)-g*(c.x-b.x));this.x=(i*j-g*k)/l,this.y=(f*k-h*j)/l,d=this.x-a.x,e=this.y-a.y,this.r=d*d+e*e}function pi(a,b){return b.x-a.x}function qi(a){var b,c,d,e,f,g=a.length;a:for(;g;)for(c=a[--g],b=a[--g],d=g;d;)if(f=a[--d],e=a[--d],b===e&&c===f||b===f&&c===e){a.splice(g,2),a.splice(d,2),g-=2;continue a}}function ri(a){if(a.length<3)return[];a.sort(pi);for(var b,c,d,e,f,g,h=a.length-1,i=a[h].x,j=a[0].x,k=a[h].y,l=k,m=1e-12;h--;)a[h].y<k&&(k=a[h].y),a[h].y>l&&(l=a[h].y);var n,o=j-i,p=l-k,q=o>p?o:p,r=.5*(j+i),s=.5*(l+k),t=[new oi({x:r-20*q,y:s-q,__sentinel:!0},{x:r,y:s+20*q,__sentinel:!0},{x:r+20*q,y:s-q,__sentinel:!0})],u=[],v=[];for(h=a.length;h--;){for(v.length=0,n=t.length;n--;)o=a[h].x-t[n].x,o>0&&o*o>t[n].r?(u.push(t[n]),t.splice(n,1)):(p=a[h].y-t[n].y,o*o+p*p>t[n].r||(v.push(t[n].a,t[n].b,t[n].b,t[n].c,t[n].c,t[n].a),t.splice(n,1)));for(qi(v),n=v.length;n;)c=v[--n],b=v[--n],d=a[h],e=c.x-b.x,f=c.y-b.y,g=2*(e*(d.y-c.y)-f*(d.x-c.x)),Math.abs(g)>m&&t.push(new oi(b,c,d))}for(Array.prototype.push.apply(u,t),h=u.length;h--;)(u[h].a.__sentinel||u[h].b.__sentinel||u[h].c.__sentinel)&&u.splice(h,1);return u}function si(a,b){return b={exports:{}},a(b,b.exports),b.exports}function ti(a){return a[0].toString()+","+a[1].toString()}function ui(a,b){var c,d=ti(a.coordinates[0]),e=ti(a.coordinates[a.coordinates.length-1]),f=ti(b.coordinates[0]),g=ti(b.coordinates[b.coordinates.length-1]);if(d===g)c=b.coordinates.concat(a.coordinates.slice(1));else if(f===e)c=a.coordinates.concat(b.coordinates.slice(1));else if(d===f)c=a.coordinates.slice(1).reverse().concat(b.coordinates);else{if(e!==g)return null;c=a.coordinates.concat(b.coordinates.reverse().slice(1))}return{type:"LineString",coordinates:c}}function vi(a){for(var b=a.slice(),c=[];b.length>0;){var d=b.shift();b=b.reduce(function(a,b){var c=ui(d,b);return c?d=c:a.push(b),a},[]),c.push(d)}return c=1===c.length?c[0]:{type:"MultiLineString",coordinates:c.map(function(a){return a.coordinates})}}function wi(a,b,c){var d,e,f,g,h,i,j,k,l,m,n=0,o=0,p="FeatureCollection"===a.type,q="Feature"===a.type,r=p?a.features.length:1;for(d=0;d<r;d++)for(l=p?a.features[d].geometry:q?a.geometry:a,m="GeometryCollection"===l.type,j=m?l.geometries.length:1,g=0;g<j;g++)if(i=m?l.geometries[g]:l,k=i.coordinates,n=!c||"Polygon"!==i.type&&"MultiPolygon"!==i.type?0:1,"Point"===i.type)b(k,o),o++;else if("LineString"===i.type||"MultiPoint"===i.type)for(e=0;e<k.length;e++)b(k[e],o),o++;else if("Polygon"===i.type||"MultiLineString"===i.type)for(e=0;e<k.length;e++)for(f=0;f<k[e].length-n;f++)b(k[e][f],o),o++;else if("MultiPolygon"===i.type)for(e=0;e<k.length;e++)for(f=0;f<k[e].length;f++)for(h=0;h<k[e][f].length-n;h++)b(k[e][f][h],o),o++;else{if("GeometryCollection"!==i.type)throw new Error("Unknown Geometry Type");for(e=0;e<i.geometries.length;e++)wi(i.geometries[e],b,c)}}function xi(a,b,c,d){var e=c;return wi(a,function(a,d){e=0===d&&void 0===c?a:b(e,a,d)},d),e}function yi(a,b){var c;switch(a.type){case"FeatureCollection":for(c=0;c<a.features.length;c++)b(a.features[c].properties,c);break;case"Feature":b(a.properties,0)}}function zi(a,b,c){var d=c;return yi(a,function(a,e){d=0===e&&void 0===c?a:b(d,a,e)}),d}function Ai(a,b){if("Feature"===a.type)b(a,0);else if("FeatureCollection"===a.type)for(var c=0;c<a.features.length;c++)b(a.features[c],c)}function Bi(a,b,c){var d=c;return Ai(a,function(a,e){d=0===e&&void 0===c?a:b(d,a,e)}),d}function Ci(a){var b=[];return wi(a,function(a){b.push(a)}),b}function Di(a,b){var c,d,e,f,g,h,i,j=0,k="FeatureCollection"===a.type,l="Feature"===a.type,m=k?a.features.length:1;for(c=0;c<m;c++)for(h=k?a.features[c].geometry:l?a.geometry:a,i="GeometryCollection"===h.type,g=i?h.geometries.length:1,e=0;e<g;e++)if(f=i?h.geometries[e]:h,"Point"===f.type||"LineString"===f.type||"MultiPoint"===f.type||"Polygon"===f.type||"MultiLineString"===f.type||"MultiPolygon"===f.type)b(f,j),j++;else{if("GeometryCollection"!==f.type)throw new Error("Unknown Geometry Type");for(d=0;d<f.geometries.length;d++)b(f.geometries[d],j),j++}}function Ei(a,b,c){var d=c;return Di(a,function(a,e){d=0===e&&void 0===c?a:b(d,a,e)}),d}function Fi(a){switch(a&&a.type||null){case"FeatureCollection":return a.features=a.features.reduce(function(a,b){return a.concat(Fi(b))},[]),a;case"Feature":return a.geometry?Fi(a.geometry).map(function(b){return{type:"Feature",properties:JSON.parse(JSON.stringify(a.properties)),geometry:b}}):a;case"MultiPoint":return a.coordinates.map(function(a){return{type:"Point",coordinates:a}});case"MultiPolygon":return a.coordinates.map(function(a){return{type:"Polygon",coordinates:a}});case"MultiLineString":return a.coordinates.map(function(a){return{type:"LineString",coordinates:a}});case"GeometryCollection":return a.geometries.map(Fi).reduce(function(a,b){return a.concat(b)},[]);case"Point":case"Polygon":case"LineString":return[a]}}function Gi(a){return a.length?Array.isArray(a[0])?a[0]:Array.prototype.slice.call(a):[]}function Hi(a){var b={geoms:{type:"GeometryCollection",geometries:JSON.parse(JSON.stringify(a))}},c=to(b);return uo(c,c.objects.geoms.geometries)}function Ii(a){for(var b=null,c=0;c<a.length;c++)if(b){if(b!==a[c].type)return null}else b=a[c].type;return b}function Ji(){var a=Gi(arguments),b=a.reduce(function(a,b){var c=so(b);Array.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++)vo(c[d],function(b){a.push(b)});return a},[]),c=Ii(b);if(!c)throw new Error("List does not contain only homoegenous GeoJSON");switch(c){case"LineString":return ho(b);case"Polygon":return Hi(b);default:return b}}function Ki(a,b,c){if(c=c||{},!jb(c))throw new Error("options is invalid");var d=c.units,e=Math.PI/180,f=mb(a),g=mb(b),h=e*(g[1]-f[1]),i=e*(g[0]-f[0]),j=e*f[1],k=e*g[1],l=Math.pow(Math.sin(h/2),2)+Math.pow(Math.sin(i/2),2)*Math.cos(j)*Math.cos(k);return gb(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),d)}function Li(a,b){if(b=b||{},!jb(b))throw new Error("options is invalid");if(!a)throw new Error("points is required");var c=b.maxEdge||1/0;if(!ib(c))throw new Error("maxEdge is invalid");var d=Mi(a),e=ni(d);if(e.features=e.features.filter(function(a){var d=a.geometry.coordinates[0][0],e=a.geometry.coordinates[0][1],f=a.geometry.coordinates[0][2],g=Ki(d,e,b),h=Ki(e,f,b),i=Ki(d,f,b);return g<=c&&h<=c&&i<=c}),e.features.length<1)return null;var f=wo(e.features);return 1===f.coordinates.length&&(f.coordinates=f.coordinates[0],f.type="Polygon"),bb(f)}function Mi(a){var b=[],c={};return Mb(a,function(a){if(a.geometry){var d=a.geometry.coordinates.join("-");c.hasOwnProperty(d)||(b.push(a),c[d]=!0)}}),fb(b)}function Ni(){this.reset()}function Oi(a,b,c){var d=a.s=b+c,e=d-b,f=d-e;a.t=b-f+(c-e)}function Pi(a){return a>1?0:a<-1?Ao:Math.acos(a)}function Qi(a){return a>1?Bo:a<-1?-Bo:Math.asin(a)}function Ri(){}function Si(a,b){a&&Qo.hasOwnProperty(a.type)&&Qo[a.type](a,b)}function Ti(a,b,c){var d,e=-1,f=a.length-c;for(b.lineStart();++e<f;)d=a[e],b.point(d[0],d[1],d[2]);b.lineEnd()}function Ui(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)Ti(a[c],b,1);b.polygonEnd()}function Vi(a){return[Io(a[1],a[0]),Qi(a[2])]}function Wi(a){var b=a[0],c=a[1],d=Jo(c);return[d*Jo(b),d*Mo(b),Mo(c)]}function Xi(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Yi(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Zi(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function $i(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function _i(a){var b=No(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}function aj(a,b){return[a>Ao?a-Do:a<-Ao?a+Do:a,b]}function bj(a,b,c){return(a%=Do)?b||c?So(dj(a),ej(b,c)):dj(a):b||c?ej(b,c):aj}function cj(a){return function(b,c){return b+=a,[b>Ao?b-Do:b<-Ao?b+Do:b,c]}}function dj(a){var b=cj(a);return b.invert=cj(-a),b}function ej(a,b){function c(a,b){var c=Jo(b),h=Jo(a)*c,i=Mo(a)*c,j=Mo(b),k=j*d+h*e;return[Io(i*f-k*g,h*d-j*e),Qi(k*f+i*g)]}var d=Jo(a),e=Mo(a),f=Jo(b),g=Mo(b);return c.invert=function(a,b){var c=Jo(b),h=Jo(a)*c,i=Mo(a)*c,j=Mo(b),k=j*f-i*g;return[Io(i*f+j*g,h*d+k*e),Qi(k*d-h*e)]},c}function fj(a,b,c,d,e,f){if(c){var g=Jo(b),h=Mo(b),i=d*c;null==e?(e=b+d*Do,f=b-i/2):(e=gj(g,e),f=gj(g,f),(d>0?e<f:e>f)&&(e+=d*Do));for(var j,k=e;d>0?k>f:k<f;k-=i)j=Vi([g,-h*Jo(k),-h*Mo(k)]),a.point(j[0],j[1])}}function gj(a,b){b=Wi(b),b[0]-=a,_i(b);var c=Pi(-b[1]);return((-b[2]<0?-c:c)+Do-zo)%Do}function hj(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function ij(a){if(b=a.length){for(var b,c,d=0,e=a[0];++d<b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0],c.p=e}}function jj(a){return a.length>1}function kj(a,b){return((a=a.x)[0]<0?a[1]-Bo-zo:Bo-a[1])-((b=b.x)[0]<0?b[1]-Bo-zo:Bo-b[1])}function lj(a){var b,c=NaN,d=NaN,e=NaN;return{lineStart:function(){a.lineStart(),b=1},point:function(f,g){var h=f>0?Ao:-Ao,i=Go(f-c);Go(i-Ao)<zo?(a.point(c,d=(d+g)/2>0?Bo:-Bo),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),a.point(f,d),b=0):e!==h&&i>=Ao&&(Go(c-e)<zo&&(c-=e*zo),Go(f-h)<zo&&(f-=h*zo),d=mj(c,d,f,g),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),b=0),a.point(c=f,d=g),e=h},lineEnd:function(){a.lineEnd(),c=d=NaN},clean:function(){return 2-b}}}function mj(a,b,c,d){var e,f,g=Mo(a-c);return Go(g)>zo?Ho((Mo(b)*(f=Jo(d))*Mo(c)-Mo(d)*(e=Jo(b))*Mo(a))/(e*f*g)):(b+d)/2}function nj(a,b,c,d){var e;if(null==a)e=c*Bo,d.point(-Ao,e),d.point(0,e),d.point(Ao,e),d.point(Ao,0),d.point(Ao,-e),d.point(0,-e),d.point(-Ao,-e),d.point(-Ao,0),d.point(-Ao,e);else if(Go(a[0]-b[0])>zo){var f=a[0]<b[0]?Ao:-Ao;e=c*f/2,d.point(-f,e),d.point(0,e),d.point(f,e)}else d.point(b[0],b[1])}function oj(a,b,c,d){function e(e,f){return a<=e&&e<=c&&b<=f&&f<=d}function f(e,f,h,j){var k=0,l=0;if(null==e||(k=g(e,h))!==(l=g(f,h))||i(e,f)<0^h>0)do{j.point(0===k||3===k?a:c,k>1?d:b)}while((k=(k+h+4)%4)!==l);else j.point(f[0],f[1])}function g(d,e){return Go(d[0]-a)<zo?e>0?0:3:Go(d[0]-c)<zo?e>0?2:1:Go(d[1]-b)<zo?e>0?1:0:e>0?3:2}function h(a,b){return i(a.x,b.x)}function i(a,b){var c=g(a,1),d=g(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(g){function i(a,b){e(a,b)&&A.point(a,b)}function j(){for(var b=0,c=0,e=q.length;c<e;++c)for(var f,g,h=q[c],i=1,j=h.length,k=h[0],l=k[0],m=k[1];i<j;++i)f=l,g=m,k=h[i],l=k[0],m=k[1],g<=d?m>d&&(l-f)*(d-g)>(m-g)*(a-f)&&++b:m<=d&&(l-f)*(d-g)<(m-g)*(a-f)&&--b;return b}function k(){A=B,p=[],q=[],z=!0}function l(){var a=j(),b=z&&a,c=(p=Zo(p)).length;(b||c)&&(g.polygonStart(),b&&(g.lineStart(),f(null,null,1,g),g.lineEnd()),c&&Wo(p,h,a,f,g),g.polygonEnd()),A=g,p=q=r=null}function m(){C.point=o,q&&q.push(r=[]),y=!0,x=!1,v=w=NaN}function n(){p&&(o(s,t),u&&x&&B.rejoin(),p.push(B.result())),C.point=i,x&&A.lineEnd()}function o(f,g){var h=e(f,g);if(q&&r.push([f,g]),y)s=f,t=g,u=h,y=!1,h&&(A.lineStart(),A.point(f,g));else if(h&&x)A.point(f,g);else{var i=[v=Math.max(dp,Math.min(cp,v)),w=Math.max(dp,Math.min(cp,w))],j=[f=Math.max(dp,Math.min(cp,f)),g=Math.max(dp,Math.min(cp,g))];bp(i,j,a,b,c,d)?(x||(A.lineStart(),A.point(i[0],i[1])),A.point(j[0],j[1]),h||A.lineEnd(),z=!1):h&&(A.lineStart(),A.point(f,g),z=!1)}v=f,w=g,x=h}var p,q,r,s,t,u,v,w,x,y,z,A=g,B=Uo(),C={point:i,lineStart:m,lineEnd:n,polygonStart:k,polygonEnd:l};return C}}function pj(a,b){a<fp&&(fp=a),a>hp&&(hp=a),b<gp&&(gp=b),b>ip&&(ip=b)}function qj(a){return function(b){var c=new rj;for(var d in a)c[d]=a[d];return c.stream=b,c}}function rj(){}function sj(a,b,c){var d=a.clipExtent&&a.clipExtent();return a.scale(150).translate([0,0]),null!=d&&a.clipExtent(null),Ro(c,a.stream(jp)),b(jp.result()),null!=d&&a.clipExtent(d),a}function tj(a,b,c){return sj(a,function(c){var d=b[1][0]-b[0][0],e=b[1][1]-b[0][1],f=Math.min(d/(c[1][0]-c[0][0]),e/(c[1][1]-c[0][1])),g=+b[0][0]+(d-f*(c[1][0]+c[0][0]))/2,h=+b[0][1]+(e-f*(c[1][1]+c[0][1]))/2;a.scale(150*f).translate([g,h])},c)}function uj(a,b,c){return tj(a,[[0,0],b],c)}function vj(a,b,c){return sj(a,function(c){var d=+b,e=d/(c[1][0]-c[0][0]),f=(d-e*(c[1][0]+c[0][0]))/2,g=-e*c[0][1];a.scale(150*e).translate([f,g])},c)}function wj(a,b,c){return sj(a,function(c){var d=+b,e=d/(c[1][1]-c[0][1]),f=-e*c[0][0],g=(d-e*(c[1][1]+c[0][1]))/2;a.scale(150*e).translate([f,g])},c)}function xj(a){return qj({point:function(b,c){b=a(b,c),this.stream.point(b[0],b[1])}})}function yj(a,b){function c(d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=j-d,s=k-e,t=r*r+s*s;if(t>4*b&&p--){var u=g+m,v=h+n,w=i+o,x=No(u*u+v*v+w*w),y=Qi(w/=x),z=Go(Go(w)-1)<zo||Go(f-l)<zo?(f+l)/2:Io(v,u),A=a(z,y),B=A[0],C=A[1],D=B-d,E=C-e,F=s*D-r*E;(F*F/t>b||Go((r*D+s*E)/t-.5)>.3||g*m+h*n+i*o<lp)&&(c(d,e,f,g,h,i,B,C,z,u/=x,v/=x,w,p,q),q.point(B,C),c(B,C,z,u,v,w,j,k,l,m,n,o,p,q))}}return function(b){function d(c,d){c=a(c,d),b.point(c[0],c[1])}function e(){r=NaN,w.point=f,b.lineStart()}function f(d,e){var f=Wi([d,e]),g=a(d,e);c(r,s,q,t,u,v,r=g[0],s=g[1],q=d,t=f[0],u=f[1],v=f[2],kp,b),b.point(r,s)}function g(){w.point=d,b.lineEnd()}function h(){e(),w.point=i,w.lineEnd=j}function i(a,b){f(k=a,b),l=r,m=s,n=t,o=u,p=v,w.point=f}function j(){c(r,s,q,t,u,v,l,m,k,n,o,p,kp,b),w.lineEnd=g,g()}var k,l,m,n,o,p,q,r,s,t,u,v,w={point:d,lineStart:e,lineEnd:g,polygonStart:function(){b.polygonStart(),w.lineStart=h},polygonEnd:function(){b.polygonEnd(),w.lineStart=e}};return w}}function zj(a){return qj({point:function(b,c){var d=a(b,c);return this.stream.point(d[0],d[1])}})}function Aj(a){return Bj(function(){return a})()}function Bj(a){function b(a){return a=k(a[0]*Fo,a[1]*Fo),[a[0]*q+h,i-a[1]*q]}function c(a){return(a=k.invert((a[0]-h)/q,(i-a[1])/q))&&[a[0]*Eo,a[1]*Eo]}function d(a,b){return a=g(a,b),[a[0]*q+h,i-a[1]*q]}function e(){k=So(j=bj(v,w,x),g);var a=g(t,u);return h=r-a[0]*q,i=s+a[1]*q,f()}function f(){return o=p=null,b}var g,h,i,j,k,l,m,n,o,p,q=150,r=480,s=250,t=0,u=0,v=0,w=0,x=0,y=null,z=_o,A=null,B=ep,C=.5,D=mp(d,C);return b.stream=function(a){return o&&p===a?o:o=np(zj(j)(z(D(B(p=a)))))},b.preclip=function(a){return arguments.length?(z=a,y=void 0,f()):z},b.postclip=function(a){return arguments.length?(B=a,A=l=m=n=null,f()):B},b.clipAngle=function(a){return arguments.length?(z=+a?ap(y=a*Fo):(y=null,_o),f()):y*Eo},b.clipExtent=function(a){return arguments.length?(B=null==a?(A=l=m=n=null,ep):oj(A=+a[0][0],l=+a[0][1],m=+a[1][0],n=+a[1][1]),f()):null==A?null:[[A,l],[m,n]]},b.scale=function(a){return arguments.length?(q=+a,e()):q},b.translate=function(a){return arguments.length?(r=+a[0],s=+a[1],e()):[r,s]},b.center=function(a){return arguments.length?(t=a[0]%360*Fo,u=a[1]%360*Fo,e()):[t*Eo,u*Eo]},b.rotate=function(a){return arguments.length?(v=a[0]%360*Fo,w=a[1]%360*Fo,x=a.length>2?a[2]%360*Fo:0,e()):[v*Eo,w*Eo,x*Eo]},b.precision=function(a){return arguments.length?(D=mp(d,C=a*a),f()):No(C)},b.fitExtent=function(a,c){return tj(b,a,c)},b.fitSize=function(a,c){return uj(b,a,c)},b.fitWidth=function(a,c){return vj(b,a,c)},b.fitHeight=function(a,c){return wj(b,a,c)},function(){return g=a.apply(this,arguments),b.invert=g.invert&&c,e()}}function Cj(a){return function(b,c){var d=Jo(b),e=Jo(c),f=a(d*e);return[f*e*Mo(b),f*Mo(c)]}}function Dj(a){return function(b,c){var d=No(b*b+c*c),e=a(d),f=Mo(e),g=Jo(e);return[Io(b*f,d*g),Qi(d&&c*f/d)]}}function Ej(a,b){return[a,Lo(Oo((Bo+b)/2))]}function Fj(a){function b(){var b=Ao*h(),g=f(To(f.rotate()).invert([0,0]));return j(null==k?[[g[0]-b,g[1]-b],[g[0]+b,g[1]+b]]:a===Ej?[[Math.max(g[0]-b,k),c],[Math.min(g[0]+b,d),e]]:[[k,Math.max(g[1]-b,c)],[d,Math.min(g[1]+b,e)]])}var c,d,e,f=Aj(a),g=f.center,h=f.scale,i=f.translate,j=f.clipExtent,k=null;return f.scale=function(a){return arguments.length?(h(a),b()):h()},f.translate=function(a){return arguments.length?(i(a),b()):i()},f.center=function(a){return arguments.length?(g(a),b()):g()},f.clipExtent=function(a){return arguments.length?(null==a?k=c=d=e=null:(k=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]),b()):null==k?null:[[k,c],[d,e]]},b()}function Gj(a,b){var c=Jo(b),d=Jo(a)*c;return[c*Mo(a)/d,Mo(b)/d]}function Hj(a,b){return[Jo(b)*Mo(a),Mo(b)]}function Ij(a,b){var c=Jo(b),d=1+Jo(a)*c;return[c*Mo(a)/d,Mo(b)/d]}function Jj(a,b){return[Lo(Oo((Bo+b)/2)),-a]}function Kj(a){var b=[1/0,1/0,-1/0,-1/0];return Ib(a,function(a){b[0]>a[0]&&(b[0]=a[0]),b[1]>a[1]&&(b[1]=a[1]),b[2]<a[0]&&(b[2]=a[0]),b[3]<a[1]&&(b[3]=a[1])}),b}function Lj(a,b){var c=Kj(a);return cb([(c[0]+c[2])/2,(c[1]+c[3])/2],b)}function Mj(a,b){return Oj(a,"mercator",b)}function Nj(a,b){return Oj(a,"wgs84",b)}function Oj(a,b,c){if(c=c||{},!jb(c))throw new Error("options is invalid");var d=c.mutate;if(!a)throw new Error("geojson is required");return Array.isArray(a)&&ib(a[0])?a="mercator"===b?Pj(a):Qj(a):(!0!==d&&(a=Cb(a)),Ib(a,function(a){var c="mercator"===b?Pj(a):Qj(a);a[0]=c[0],a[1]=c[1]})),a}function Pj(a){var b=Math.PI/180,c=6378137,d=20037508.342789244,e=Math.abs(a[0])<=180?a[0]:a[0]-360*Rj(a[0]),f=[c*e*b,c*Math.log(Math.tan(.25*Math.PI+.5*a[1]*b))];return f[0]>d&&(f[0]=d),f[0]<-d&&(f[0]=-d),f[1]>d&&(f[1]=d),f[1]<-d&&(f[1]=-d),f}function Qj(a){var b=180/Math.PI,c=6378137;return[a[0]*b/c,(.5*Math.PI-2*Math.atan(Math.exp(-a[1]/c)))*b]}function Rj(a){return a<0?-1:a>0?1:0}function Sj(a,b,c){c=c||{};var d=c.units,e=c.steps||64;if(!a)throw new Error("geojson is required");if("object"!==(void 0===c?"undefined":Ek(c)))throw new Error("options must be an object");if("number"!=typeof e)throw new Error("steps must be an number");if(void 0===b)throw new Error("radius is required");if(e<=0)throw new Error("steps must be greater than 0");e=e||64,d=d||"kilometers";var f=[];switch(a.type){case"GeometryCollection":return Pb(a,function(a){var c=Tj(a,b,d,e);c&&f.push(c)}),fb(f);case"FeatureCollection":return Mb(a,function(a){var c=Tj(a,b,d,e);c&&Mb(c,function(a){a&&f.push(a)})}),fb(f)}return Tj(a,b,d,e)}function Tj(a,b,c,d){var e=a.properties||{},f="Feature"===a.type?a.geometry:a;if("GeometryCollection"===f.type){var g=[];return Pb(a,function(a){var e=Tj(a,b,c,d);e&&g.push(e)}),fb(g)}var h,i=Kj(a),j=i[1]>50&&i[3]>50;h=j?{type:f.type,coordinates:Vj(f.coordinates,Xj(f))}:Mj(f);var k=new Je,l=k.read(h),m=gb(hb(b,c),"meters"),n=l.buffer(m);if(n=(new Ke).write(n),!Uj(n.coordinates)){var o;return o=j?{type:n.type,coordinates:Wj(n.coordinates,Xj(f))}:Nj(n),o.geometry?o:bb(o,e)}}function Uj(a){return Array.isArray(a[0])?Uj(a[0]):isNaN(a[0])}function Vj(a,b){return"object"!==Ek(a[0])?b(a):a.map(function(a){return Vj(a,b)})}function Wj(a,b){return"object"!==Ek(a[0])?b.invert(a):a.map(function(a){return Wj(a,b)})}function Xj(a){var b=Lj(a).geometry.coordinates.reverse(),c=b.map(function(a){return-a});return op().center(b).rotate(c).scale(yn)}function Yj(a,b,c){if(c=c||{},!jb(c))throw new Error("options is invalid");if(!0===c.final)return Zj(a,b);var d=Math.PI/180,e=180/Math.PI,f=mb(a),g=mb(b),h=d*f[0],i=d*g[0],j=d*f[1],k=d*g[1],l=Math.sin(i-h)*Math.cos(k),m=Math.cos(j)*Math.sin(k)-Math.sin(j)*Math.cos(k)*Math.cos(i-h);return e*Math.atan2(l,m)}function Zj(a,b){var c=Yj(b,a);return c=(c+180)%360}function $j(a,b,c,d){if(d=d||{},!jb(d))throw new Error("options is invalid");var e=d.units,f=Math.PI/180,g=180/Math.PI,h=mb(a),i=f*h[0],j=f*h[1],k=f*c,l=hb(b,e),m=Math.asin(Math.sin(j)*Math.cos(l)+Math.cos(j)*Math.sin(l)*Math.cos(k));return cb([g*(i+Math.atan2(Math.sin(k)*Math.sin(l)*Math.cos(j),Math.cos(l)-Math.sin(j)*Math.sin(m))),g*m])}function _j(a,b,c){if(c=c||{},!jb(c))throw new Error("options is invalid");var d;if("Feature"===a.type)d=a.geometry.coordinates;else{if("LineString"!==a.type)throw new Error("input must be a LineString Feature or Geometry");d=a.coordinates}if(!ib(b))throw new Error("distance must be a number");for(var e=0,f=0;f<d.length&&!(b>=e&&f===d.length-1);f++){if(e>=b){var g=b-e;if(g){var h=Yj(d[f],d[f-1])-180;return $j(d[f],g,h,c)}return cb(d[f])}e+=Ki(d[f],d[f+1],c)}return cb(d[d.length-1])}function ak(a,b,c){if(c=c||{},!jb(c))throw new Error("options is invalid");var d=a.geometry?a.geometry.type:a.type;if("LineString"!==d&&"MultiLineString"!==d)throw new Error("lines must be LineString or MultiLineString");var e=cb([1/0,1/0],{dist:1/0}),f=0;return Rb(a,function(a){for(var d=nb(a),g=0;g<d.length-1;g++){var h=cb(d[g]);h.properties.dist=Ki(b,h,c);var i=cb(d[g+1]);i.properties.dist=Ki(b,i,c);var j=Ki(h,i,c),k=Math.max(h.properties.dist,i.properties.dist),l=Yj(h,i),m=$j(b,k,l+90,c),n=$j(b,k,l-90,c),o=zc(eb([m.geometry.coordinates,n.geometry.coordinates]),eb([h.geometry.coordinates,i.geometry.coordinates])),p=null;o.features.length>0&&(p=o.features[0],p.properties.dist=Ki(b,p,c),p.properties.location=f+Ki(h,p,c)),h.properties.dist<e.properties.dist&&(e=h,e.properties.index=g,e.properties.location=f),i.properties.dist<e.properties.dist&&(e=i,e.properties.index=g+1,e.properties.location=f+j),p&&p.properties.dist<e.properties.dist&&(e=p,e.properties.index=g),f+=j}}),e}function bk(a,b,c){var d;if("Feature"===c.type)d=c.geometry.coordinates;else{if("LineString"!==c.type)throw new Error("input must be a LineString Feature or Geometry");d=c.coordinates}var e,f=ak(c,a),g=ak(c,b);e=f.properties.index<=g.properties.index?[f,g]:[g,f];for(var h=[e[0].geometry.coordinates],i=e[0].properties.index+1;i<e[1].properties.index+1;i++)h.push(d[i]);return h.push(e[1].geometry.coordinates),eb(h,c.properties)}function ck(a){return{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[ab(a,!0)]}}}function dk(a){if(!a.getPosition||"function"!=typeof a.getPosition)throw new Error("input object does not have a getPosition method");var b=a.getPosition();return{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[b.lng(),b.lat()]}}}function ek(a){var b;return b=ab(a instanceof google.maps.Polyline?a.getPath().getArray():a),eb(b)}function fk(a){var b,c;if("Feature"===a.type)c=a;else if(a instanceof google.maps.Polygon)a=a.getPath().getArray(),b=ab(a,!0),c=ck(b);else if(a&&a.constructor===Array)b=ab(a,!0),c=ck(b);else{if(!a.geometry)throw new Error("object is not a Feature, google.maps.Polygon nor an array of google.maps.LatLng");c={type:"Feature",properties:{},geometry:a.geometry}}return c.properties={},c}function gk(a){var b={type:"FeatureCollection",features:[]};return a.forEach(function(a){var c={type:"Feature",geometry:{type:"Point",coordinates:ab([a])[0]}};b.features.push(c)}),b}function hk(a,b){return Li(gk(a),b)}function ik(a,b){return b.tolerance=b.tolerance||1e-5,b.highQuality=b.highQuality||!1,Xb(eb(ab(a)),b).geometry.coordinates}function jk(a,c,d){c=(c||"feature").toLowerCase();var e;if(a instanceof google.maps.Polyline||a instanceof google.maps.Polygon){e={type:"Feature",properties:{},geometry:b().fromObject(a).toJson()}}else e=a.type&&"Feature"===a.type&&a.geometry?a:fk(a);"MultiPolygon"===e.geometry.type&&(e.geometry.type="Polygon",e.geometry.coordinates=e.geometry.coordinates[0]);var f=Xb(e,d);return f&&f.geometry?e=f:pp("Cannot simplify  Feature",e),"geometry"===c?e.geometry:"object"===c?b().fromJson(e.geometry).toObject():e}function kk(a,c,d){var e;if(a instanceof google.maps.Polyline){e={type:"Feature",properties:{},geometry:b().fromObject(a).toJson()}}else if(a.type&&"Feature"===a.type&&a.geometry)e=a;else{var f=ab(a);e=eb(f)}return _j(e,c,d)}function lk(a,b){return ai(fk(a),fk(b))}function mk(a,c,d,e){e.units=e.units||"meters",c=(c||"feature").toLowerCase();var f;if(a instanceof google.maps.Polyline||a instanceof google.maps.Polygon||a instanceof google.maps.Marker||a instanceof google.maps.LatLng){f={type:"Feature",properties:{},geometry:b().fromObject(a).toJson()}}else f=a.type&&"Feature"===a.type&&a.geometry?a:fk(a);var g=Sj(f,d,e);return"FeatureCollection"===g.type&&(g=g.features[0]),"geometry"===c?g.geometry:"object"===c?b().fromJson(g.geometry).toObject():g}function nk(a,b){var c=[],d=[];return"Feature"!==b.type&&(b={type:"Feature",properties:{},geometry:b}),"Polygon"!==b.geometry.type&&"Multipolygon"!==b.geometry.type||Ya(a,function(a){qb(dk(a),b)?c.push(a):d.push(a)}),{pointsInside:c,pointsOutside:d}}function ok(a){var b;if(a instanceof google.maps.Polyline||a instanceof google.maps.Polygon){b={type:"Feature",properties:{},geometry:Wicket().fromObject(a).toJson()}}else b=a.type&&"Feature"===a.type&&a.geometry?a:fk(a);return kb(b)}function pk(a){return mi(fk(a))}function qk(a,b){var c=[];return fn(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function rk(a,b){return(Ll(a)?_:qk)(a,Qa(b,3))}function sk(a,b,c){for(var d=-1,e=a.length;++d<e;){var f=a[d],g=b(f);if(null!=g&&(void 0===h?g===g&&!ya(g):c(g,h)))var h=g,i=f}return i}function tk(a,b){return a>b}function uk(a){return a&&a.length?sk(a,Ma,tk):void 0}function vk(a,b){return a<b}function wk(a){return a&&a.length?sk(a,Ma,vk):void 0}function xk(a,b){return sa(a,b)}function yk(a,b){var c=[Math.abs(a[0]-b[0]),Math.abs(a[1]-b[1])];return Math.sqrt(Math.pow(c[0],2)+Math.pow(c[1],2))}function zk(a,b,c,d,e){if(!e){var f=eb([a,b]),g=eb([c,d]),h=zc(f,g);if(h.features.length){var i=h.features[0].geometry.coordinates;return i[0]=Math.round(1e8*i[0])/1e8,i[1]=Math.round(1e8*i[1])/1e8,i}return!1}var j,k,l,m,n,o=a[0],p=a[1],q=b[0],r=b[1],s=c[0],t=c[1],u=d[0],v=d[1],w={x:null,y:null,onLine1:!1,onLine2:!1};return 0===(j=(v-t)*(q-o)-(u-s)*(r-p))?null!==w.x&&null!==w.y&&w:(k=p-t,l=o-s,m=(u-s)*k-(v-t)*l,n=(q-o)*k-(r-p)*l,k=m/j,l=n/j,w.x=o+k*(q-o),w.y=p+k*(r-p),k>=0&&k<=1&&(w.onLine1=!0),l>=0&&l<=1&&(w.onLine2=!0),!(!w.onLine1||!w.onLine2)&&(w.x=Math.round(1e8*w.x)/1e8,w.y=Math.round(1e8*w.y)/1e8,[w.x,w.y]))}function Ak(a,b,c){var d=fb([]),e=!1;xk(a,b)&&(e=!0);for(var f=0;f<a.length-1;f++)for(var g=e?f:0,h=g;h<b.length-1;h++)if(a!==b||1!==Math.abs(f-h)&&Math.abs(f-h)!==a.length-2){var i=zk(a[f],a[f+1],b[h],b[h+1],c);if(i&&(!(yk(i,a[0])<5e-6||yk(i,a[a.length-1])<5e-6)||!(yk(i,b[0])<5e-6||yk(i,b[b.length-1])<5e-6))){var j=cb([i[0],i[1]]);j.properties={position1:f,position2:h},d.features.push(j)}}return d}function Bk(a,b,c){var d=ab(a),e=ab(b),f=Ak(d,e,c);if(f.features.length>0){var g,h,i=eb(d),j=eb(e),k=cb(d[0]),l=cb(e.slice(-1)[0]),m=wk(f.features,function(a){return a.properties.position1}),n=rk(f.features,function(a){return a.properties.position1===m.properties.position1}),o=uk(n,function(a){return a.properties.position2}),p=$a([o.geometry.coordinates])[0];return g=0===o.properties.position1?i:bk(k,o,i),h=o.properties.position2>=e.length-1?j:bk(o,l,j),[$a(g.geometry.coordinates),$a(h.geometry.coordinates),p]}return[]}var Ck,Dk,Ek="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Fk=(function(){function a(a){this.value=a}function b(b){function c(a,b){return new Promise(function(c,e){var h={key:a,arg:b,resolve:c,reject:e,next:null};g?g=g.next=h:(f=g=h,d(a,b))})}function d(c,f){try{var g=b[c](f),h=g.value;h instanceof a?Promise.resolve(h.value).then(function(a){d("next",a)},function(a){d("throw",a)}):e(g.done?"return":"normal",g.value)}catch(a){e("throw",a)}}function e(a,b){switch(a){case"return":f.resolve({value:b,done:!0});break;case"throw":f.reject(b);break;default:f.resolve({value:b,done:!1})}f=f.next,f?d(f.key,f.arg):g=null}var f,g;this._invoke=c,"function"!=typeof b.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(b.prototype[Symbol.asyncIterator]=function(){return this}),b.prototype.next=function(a){return this._invoke("next",a)},b.prototype.throw=function(a){return this._invoke("throw",a)},b.prototype.return=function(a){return this._invoke("return",a)}}(),function a(b){return b instanceof a?b:this instanceof a?void(this._wrapped=b):new a(b)});Ck=function(a,b){return a.substring(0,b.length)===b},Dk=function(a,b){return a.substring(a.length-b.length)===b},Fk.delimiter=" ",Fk.isArray=function(a){return!(!a||a.constructor!==Array)},Fk.trim=function(a,b){for(b=b||" ";Ck(a,b);)a=a.substring(1);for(;Dk(a,b);)a=a.substring(0,a.length-1);return a},Fk.Wkt=function(a){this.delimiter=Fk.delimiter||" ",this.wrapVertices=!0,this.regExes={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,spaces:/\s+|\+/,numeric:/-*\d+(\.*\d+)?/,comma:/\s*,\s*/,parenComma:/\)\s*,\s*\(/,coord:/-*\d+\.*\d+ -*\d+\.*\d+/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/,ogcTypes:/^(multi)?(point|line|polygon|box)?(string)?$/i,crudeJson:/^{.*"(type|coordinates|geometries|features)":.*}$/},this.components=void 0,a&&"string"==typeof a?this.read(a):a&&void 0!==(void 0===a?"undefined":Ek(a))&&this.fromObject(a)},Fk.Wkt.prototype.isCollection=function(){switch(this.type.slice(0,5)){case"multi":case"polyg":return!0;default:return!1}},Fk.Wkt.prototype.sameCoords=function(a,b){return a.x===b.x&&a.y===b.y},Fk.Wkt.prototype.fromObject=function(a){var b;return b=a.hasOwnProperty("type")&&a.hasOwnProperty("coordinates")?this.fromJson(a):this.deconstruct.call(this,a),this.components=b.components,this.isRectangle=b.isRectangle||!1,this.type=b.type,this},Fk.Wkt.prototype.toObject=function(a){var b=this.construct[this.type].call(this,a);return"object"!==(void 0===b?"undefined":Ek(b))||Fk.isArray(b)||(b.properties=this.properties),b},Fk.Wkt.prototype.toString=function(a){return this.write()},Fk.Wkt.prototype.fromJson=function(a){var b,c,d,e,f,g;if(this.type=a.type.toLowerCase(),this.components=[],a.hasOwnProperty("geometry"))return this.fromJson(a.geometry),this.properties=a.properties,this;if(e=a.coordinates,Fk.isArray(e[0])){for(b in e)if(e.hasOwnProperty(b))if(Fk.isArray(e[b][0])){g=[];for(c in e[b])if(e[b].hasOwnProperty(c))if(Fk.isArray(e[b][c][0])){f=[];for(d in e[b][c])e[b][c].hasOwnProperty(d)&&f.push({x:e[b][c][d][0],y:e[b][c][d][1]});g.push(f)}else g.push({x:e[b][c][0],y:e[b][c][1]});this.components.push(g)}else"multipoint"===this.type?this.components.push([{x:e[b][0],y:e[b][1]}]):this.components.push({x:e[b][0],y:e[b][1]})}else this.components.push({x:e[0],y:e[1]});return this},Fk.Wkt.prototype.toJson=function(){var a,b,c,d,e,f,g;if(a=this.components,b={coordinates:[],type:function(){var a,b,c;b=this.regExes.ogcTypes.exec(this.type).slice(1),c=[];for(a in b)b.hasOwnProperty(a)&&void 0!==b[a]&&c.push(b[a].toLowerCase().slice(0,1).toUpperCase()+b[a].toLowerCase().slice(1));return c}.call(this).join("")},"box"===this.type.toLowerCase()){b.type="Polygon",b.bbox=[];for(c in a)a.hasOwnProperty(c)&&(b.bbox=b.bbox.concat([a[c].x,a[c].y]));return b.coordinates=[[[a[0].x,a[0].y],[a[0].x,a[1].y],[a[1].x,a[1].y],[a[1].x,a[0].y],[a[0].x,a[0].y]]],b}for(c in a)if(a.hasOwnProperty(c))if(Fk.isArray(a[c])){g=[];for(d in a[c])if(a[c].hasOwnProperty(d))if(Fk.isArray(a[c][d])){f=[];for(e in a[c][d])a[c][d].hasOwnProperty(e)&&f.push([a[c][d][e].x,a[c][d][e].y]);g.push(f)}else a[c].length>1?g.push([a[c][d].x,a[c][d].y]):g=g.concat([a[c][d].x,a[c][d].y]);b.coordinates.push(g)}else a.length>1?b.coordinates.push([a[c].x,a[c].y]):b.coordinates=b.coordinates.concat([a[c].x,a[c].y]);return b},Fk.Wkt.prototype.merge=function(a){var b=this.type.slice(0,5);if(this.type!==a.type&&this.type.slice(5,this.type.length)!==a.type)throw TypeError("The input geometry types must agree or the calling Wkt.Wkt instance must be a multigeometry of the other");switch(b){case"point":this.components=[this.components.concat(a.components)];break;case"multi":this.components=this.components.concat("multi"===a.type.slice(0,5)?a.components:[a.components]);break;default:this.components=[this.components,a.components]}return"multi"!==b&&(this.type="multi"+this.type),this},Fk.Wkt.prototype.read=function(a){var b;if(b=this.regExes.typeStr.exec(a))this.type=b[1].toLowerCase(),this.base=b[2],this.ingest[this.type]&&(this.components=this.ingest[this.type].apply(this,[this.base]));else{if(!this.regExes.crudeJson.test(a))throw console.log("Invalid WKT string provided to read() ",a),{name:"WKTError",message:"Invalid WKT string provided to read()"};if("object"!==("undefined"==typeof JSON?"undefined":Ek(JSON))||"function"!=typeof JSON.parse)throw console.log("JSON.parse() is not available; cannot parse GeoJSON strings"),{name:"JSONError",message:"JSON.parse() is not available; cannot parse GeoJSON strings"};this.fromJson(JSON.parse(a))}return this},Fk.Wkt.prototype.write=function(a){var b,c,d;for(a=a||this.components,c=[],c.push(this.type.toUpperCase()+"("),b=0;b<a.length;b+=1){if(this.isCollection()&&b>0&&c.push(","),!this.extract[this.type])return null;d=this.extract[this.type].apply(this,[a[b]]),this.isCollection()&&"multipoint"!==this.type?c.push("("+d+")"):(c.push(d),b!==a.length-1&&"multipoint"!==this.type&&c.push(","))}return c.push(")"),c.join("")},Fk.Wkt.prototype.extract={point:function(a){return String(a.x)+this.delimiter+String(a.y)},multipoint:function(a){var b,c,d=[];for(b=0;b<a.length;b+=1)c=this.extract.point.apply(this,[a[b]]),this.wrapVertices&&(c="("+c+")"),d.push(c);return d.join(",")},linestring:function(a){return this.extract.point.apply(this,[a])},multilinestring:function(a){var b,c=[];if(a.length)for(b=0;b<a.length;b+=1)c.push(this.extract.linestring.apply(this,[a[b]]));else c.push(this.extract.point.apply(this,[a]));return c.join(",")},polygon:function(a){return this.extract.multilinestring.apply(this,[a])},multipolygon:function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push("("+this.extract.polygon.apply(this,[a[b]])+")");return c.join(",")},box:function(a){return this.extract.linestring.apply(this,[a])},geometrycollection:function(a){console.log("The geometrycollection WKT type is not yet supported.")}},Fk.Wkt.prototype.ingest={point:function(a){var b=Fk.trim(a).split(this.regExes.spaces);return[{x:parseFloat(this.regExes.numeric.exec(b[0])[0]),y:parseFloat(this.regExes.numeric.exec(b[1])[0])}]},multipoint:function(a){var b,c,d;for(c=[],d=Fk.trim(a).split(this.regExes.comma),b=0;b<d.length;b+=1)c.push(this.ingest.point.apply(this,[d[b]]));return c},linestring:function(a){var b,c,d;for(c=this.ingest.multipoint.apply(this,[a]),d=[],b=0;b<c.length;b+=1)d=d.concat(c[b]);return d},multilinestring:function(a){var b,c,d,e;for(c=[],e=Fk.trim(a).split(this.regExes.doubleParenComma),1===e.length&&(e=Fk.trim(a).split(this.regExes.parenComma)),b=0;b<e.length;b+=1)d=e[b].replace(this.regExes.trimParens,"$1"),c.push(this.ingest.linestring.apply(this,[d]));return c},polygon:function(a){var b,c,d,e,f,g;for(g=Fk.trim(a).split(this.regExes.parenComma),d=[],b=0;b<g.length;b+=1){for(f=g[b].replace(this.regExes.trimParens,"$1").split(this.regExes.comma),e=[],c=0;c<f.length;c+=1){var h=f[c].split(this.regExes.spaces);if(h.length>2&&(h=h.filter(function(a){return""!=a})),2===h.length){var i=h[0],j=h[1];e.push({x:parseFloat(i),y:parseFloat(j)})}}d.push(e)}return d},box:function(a){var b,c,d;for(c=this.ingest.multipoint.apply(this,[a]),d=[],b=0;b<c.length;b+=1)d=d.concat(c[b]);return d},multipolygon:function(a){var b,c,d,e;for(c=[],e=Fk.trim(a).split(this.regExes.doubleParenComma),b=0;b<e.length;b+=1)d=e[b].replace(this.regExes.trimParens,"$1"),c.push(this.ingest.polygon.apply(this,[d]));return c},geometrycollection:function(a){console.log("The geometrycollection WKT type is not yet supported.")}},Fk.Wkt.prototype.isRectangle=!1,Fk.Wkt.prototype.construct={point:function(a,b){var c=b||this.components;return a=a||{optimized:!0},a.position=new google.maps.LatLng(c[0].y,c[0].x),new google.maps.Marker(a)},multipoint:function(a){var b,c,d;for(c=this.components,a=a||{},d=[],b=0;b<c.length;b+=1)d.push(this.construct.point(a,c[b]));return d},linestring:function(a,b){var c,d;for(d=b||this.components,a=a||{editable:!1},a.path=[],c=0;c<d.length;c+=1)a.path.push(new google.maps.LatLng(d[c].y,d[c].x));return new google.maps.Polyline(a)},multilinestring:function(a){var b,c,d;for(c=this.components,a=a||{editable:!1},a.path=[],d=[],b=0;b<c.length;b+=1)d.push(this.construct.linestring(a,c[b]));return d},box:function(a,b){var c=b||this.components;return a=a||{},a.bounds=new google.maps.LatLngBounds(new google.maps.LatLng(c[0].y,c[0].x),new google.maps.LatLng(c[1].y,c[1].x)),new google.maps.Rectangle(a)},polygon:function(a,b){var c,d,e,f,g;for(e=b||this.components,a=a||{editable:!1},a.paths=[],f=[],c=0;c<e.length;c+=1){for(g=[],d=0;d<e[c].length-1;d+=1)g.push(new google.maps.LatLng(e[c][d].y,e[c][d].x));0!==c&&(null===a.reverseInnerPolygons||a.reverseInnerPolygons)&&g.reverse(),f.push(g)}return a.paths=a.paths.concat(f),this.isRectangle?function(){var a,b;a=new google.maps.LatLngBounds;for(b in f[0])f[0].hasOwnProperty(b)&&a.extend(f[0][b]);return new google.maps.Rectangle({bounds:a})}():new google.maps.Polygon(a)},multipolygon:function(a){var b,c,d;for(c=this.components,a=a||{editable:!1},a.path=[],d=[],b=0;b<c.length;b+=1)d.push(this.construct.polygon(a,c[b]));return d}},Fk.Wkt.prototype.deconstruct=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;if(google.maps.geometry&&(h=google.maps.geometry.spherical.computeSignedArea),a.constructor===google.maps.LatLng)return j={type:"point",components:[{x:a.lng(),y:a.lat()}]};if(a.constructor===google.maps.Point)return j={type:"point",components:[{x:a.x,y:a.y}]};if(a.constructor===google.maps.Marker)return j={type:"point",components:[{x:a.getPosition().lng(),y:a.getPosition().lat()}]};if(a.constructor===google.maps.Polyline){for(f=[],d=0;d<a.getPath().length;d+=1)i=a.getPath().getAt(d),f.push({x:i.lng(),y:i.lat()});return j={type:"linestring",components:f}}if(a.constructor===google.maps.Polygon){for(g=[],void 0===b&&(b=function(){var c,d;return!((d=a.getPaths().length)<=1)&&(2===d?!(h(a.getPaths().getAt(0))*h(a.getPaths().getAt(1))<0):(c=a.getPaths().getArray().map(function(a){return h(a)/Math.abs(h(a))}),c.indexOf(c[0])!==c.lastIndexOf(c[0])&&(b=!0,!0)))}()),d=0;d<a.getPaths().length;d+=1){for(i=a.getPaths().getAt(d),f=[],e=0;e<a.getPaths().getAt(d).length;e+=1)f.push({x:i.getAt(e).lng(),y:i.getAt(e).lat()});i.getAt(i.length-1).equals(i.getAt(0))||(d%2!=0?f.unshift({x:i.getAt(i.length-1).lng(),y:i.getAt(i.length-1).lat()}):f.push({x:i.getAt(0).lng(),y:i.getAt(0).lat()})),a.getPaths().length>1&&d>0&&(h(a.getPaths().getAt(d))>0&&h(a.getPaths().getAt(d-1))>0||h(a.getPaths().getAt(d))<0&&h(a.getPaths().getAt(d-1))<0&&!b)&&(f=[f]),d%2!=0&&f.reverse(),g.push(f)}return j={type:b?"multipolygon":"polygon",components:g}}if(a.constructor===google.maps.Circle){var t=a.getCenter(),u=a.getRadius();f=[];var v=Math.PI/180,w=180/Math.PI;u/=1609;for(var x=3963,y=32,z=u/x*w,A=z/Math.cos(t.lat()*v),B=0;B<=y;B++){var C=Math.PI*(B/(y/2));l=t.lng()+A*Math.cos(C),k=t.lat()+z*Math.sin(C),f.push({x:l,y:k})}return j={type:"polygon",components:[f]}}if(a.constructor===google.maps.LatLngBounds)return i=a,f=[],f.push({x:i.getSouthWest().lng(),y:i.getNorthEast().lat()}),f.push({x:i.getNorthEast().lng(),y:i.getNorthEast().lat()}),f.push({x:i.getNorthEast().lng(),y:i.getSouthWest().lat()}),f.push({x:i.getSouthWest().lng(),y:i.getSouthWest().lat()}),f.push({x:i.getSouthWest().lng(),y:i.getNorthEast().lat()}),j={type:"polygon",isRectangle:!0,components:[f]};if(a.constructor===google.maps.Rectangle)return i=a.getBounds(),f=[],f.push({x:i.getSouthWest().lng(),y:i.getNorthEast().lat()}),f.push({x:i.getNorthEast().lng(),y:i.getNorthEast().lat()}),f.push({x:i.getNorthEast().lng(),y:i.getSouthWest().lat()}),f.push({x:i.getSouthWest().lng(),y:i.getSouthWest().lat()}),f.push({x:i.getSouthWest().lng(),y:i.getNorthEast().lat()}),j={type:"polygon",isRectangle:!0,components:[f]};if(a.constructor===google.maps.Data.Feature)return this.deconstruct.call(this,a.getGeometry());if(a.constructor===google.maps.Data.Point)return j={type:"point",components:[{x:a.get().lng(),y:a.get().lat()}]};if(a.constructor===google.maps.Data.LineString){for(f=[],d=0;d<a.getLength();d+=1)m=a.getAt(d),f.push({x:m.lng(),y:m.lat()});return j={type:"linestring",components:f}}if(a.constructor===google.maps.Data.Polygon){for(g=[],d=0;d<a.getLength();d+=1){for(n=a.getAt(d),f=[],e=0;e<n.getLength();e+=1)m=n.getAt(e),f.push({x:m.lng(),y:m.lat()});f.push({x:n.getAt(0).lng(),y:n.getAt(0).lat()}),g.push(f)}return j={type:"polygon",components:g}}if(a.constructor===google.maps.Data.MultiPoint){for(f=[],d=0;d<a.getLength();d+=1)m=a.getAt(d),f.push([{x:m.lng(),y:m.lat()}]);return j={type:"multipoint",components:f}}if(a.constructor===google.maps.Data.MultiLineString){for(s=[],d=0;d<a.getLength();d+=1){for(f=[],r=a.getAt(d),e=0;e<r.getLength();e+=1)m=r.getAt(e),f.push({x:m.lng(),y:m.lat()});s.push(f)}return j={type:"multilinestring",components:s}}if(a.constructor===google.maps.Data.MultiPolygon){for(o=[],q=0;q<a.getLength();q+=1){for(p=a.getAt(q),g=[],d=0;d<p.getLength();d+=1){for(n=p.getAt(d),f=[],e=0;e<n.getLength();e+=1)m=n.getAt(e),f.push({x:m.lng(),y:m.lat()});f.push({x:n.getAt(0).lng(),y:n.getAt(0).lat()}),g.push(f)}o.push(g)}return j={type:"multipolygon",components:o}}if(a.constructor===google.maps.Data.GeometryCollection){var D=[];for(q=0;q<a.getLength();q+=1){var E=a.getAt(q);D.push(this.deconstruct.call(this,E))}return j={type:"geometrycollection",components:D}}if(Fk.isArray(a)){for(c=[],d=0;d<a.length;d+=1)c.push(this.deconstruct.call(this,a[d],!0));return j={type:function(){var b,c=a[0].constructor;for(b=0;b<a.length;b+=1)if(a[b].constructor!==c)return"geometrycollection";switch(c){case google.maps.Marker:return"multipoint";case google.maps.Polyline:return"multilinestring";case google.maps.Polygon:return"multipolygon";default:return"geometrycollection"}}(),components:function(){var a,b;for(b=[],a=0;a<c.length;a+=1)c[a].components&&b.push(c[a].components);return{comps:b}}()},j.components=j.components.comps,j}console.warn("The passed object does not have any recognizable properties.")};var Gk=Array.prototype,Hk=Gk.splice;l.prototype.clear=e,l.prototype.delete=h,l.prototype.get=i,l.prototype.has=j,l.prototype.set=k;var Ik="object"==("undefined"==typeof global?"undefined":Ek(global))&&global&&global.Object===Object&&global,Jk="object"==("undefined"==typeof self?"undefined":Ek(self))&&self&&self.Object===Object&&self,Kk=Ik||Jk||Function("return this")(),Lk=Kk.Symbol,Mk=Object.prototype,Nk=Mk.hasOwnProperty,Ok=Mk.toString,Pk=Lk?Lk.toStringTag:void 0,Qk=Object.prototype,Rk=Qk.toString,Sk="[object Null]",Tk="[object Undefined]",Uk=Lk?Lk.toStringTag:void 0,Vk="[object AsyncFunction]",Wk="[object Function]",Xk="[object GeneratorFunction]",Yk="[object Proxy]",Zk=Kk["__core-js_shared__"],$k=function(){var a=/[^.]+$/.exec(Zk&&Zk.keys&&Zk.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),_k=Function.prototype,al=_k.toString,bl=/[\\^$.*+?()[\]{}|]/g,cl=/^\[object .+?Constructor\]$/,dl=Function.prototype,el=Object.prototype,fl=dl.toString,gl=el.hasOwnProperty,hl=RegExp("^"+fl.call(gl).replace(bl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),il=z(Kk,"Map"),jl=z(Object,"create"),kl="__lodash_hash_undefined__",ll=Object.prototype,ml=ll.hasOwnProperty,nl=Object.prototype,pl=nl.hasOwnProperty,ql="__lodash_hash_undefined__";F.prototype.clear=A,F.prototype.delete=B,F.prototype.get=C,F.prototype.has=D,F.prototype.set=E,N.prototype.clear=G,N.prototype.delete=J,N.prototype.get=K,N.prototype.has=L,N.prototype.set=M;var rl=200;P.prototype.clear=m,P.prototype.delete=n,P.prototype.get=o,P.prototype.has=p,P.prototype.set=O;var sl="__lodash_hash_undefined__";S.prototype.add=S.prototype.push=Q,S.prototype.has=R;var tl=1,ul=2,vl=Kk.Uint8Array,wl=1,xl=2,yl="[object Boolean]",zl="[object Date]",Al="[object Error]",Bl="[object Map]",Cl="[object Number]",Dl="[object RegExp]",El="[object Set]",Fl="[object String]",Gl="[object Symbol]",Hl="[object ArrayBuffer]",Il="[object DataView]",Jl=Lk?Lk.prototype:void 0,Kl=Jl?Jl.valueOf:void 0,Ll=Array.isArray,Ml=Object.prototype,Nl=Ml.propertyIsEnumerable,Ol=Object.getOwnPropertySymbols,Pl=Ol?function(a){return null==a?[]:(a=Object(a),_(Ol(a),function(b){return Nl.call(a,b)}))}:aa,Ql="[object Arguments]",Rl=Object.prototype,Sl=Rl.hasOwnProperty,Tl=Rl.propertyIsEnumerable,Ul=da(function(){return arguments}())?da:function(a){return ca(a)&&Sl.call(a,"callee")&&!Tl.call(a,"callee")},Vl="object"==(void 0===a?"undefined":Ek(a))&&a&&!a.nodeType&&a,Wl=Vl&&"object"==(void 0===c?"undefined":Ek(c))&&c&&!c.nodeType&&c,Xl=Wl&&Wl.exports===Vl,Yl=Xl?Kk.Buffer:void 0,Zl=Yl?Yl.isBuffer:void 0,$l=Zl||ea,_l=9007199254740991,am=/^(?:0|[1-9]\d*)$/,bm=9007199254740991,cm={};cm["[object Float32Array]"]=cm["[object Float64Array]"]=cm["[object Int8Array]"]=cm["[object Int16Array]"]=cm["[object Int32Array]"]=cm["[object Uint8Array]"]=cm["[object Uint8ClampedArray]"]=cm["[object Uint16Array]"]=cm["[object Uint32Array]"]=!0,cm["[object Arguments]"]=cm["[object Array]"]=cm["[object ArrayBuffer]"]=cm["[object Boolean]"]=cm["[object DataView]"]=cm["[object Date]"]=cm["[object Error]"]=cm["[object Function]"]=cm["[object Map]"]=cm["[object Number]"]=cm["[object Object]"]=cm["[object RegExp]"]=cm["[object Set]"]=cm["[object String]"]=cm["[object WeakMap]"]=!1;var dm="object"==(void 0===a?"undefined":Ek(a))&&a&&!a.nodeType&&a,em=dm&&"object"==(void 0===c?"undefined":Ek(c))&&c&&!c.nodeType&&c,fm=em&&em.exports===dm,gm=fm&&Ik.process,hm=function(){try{return gm&&gm.binding&&gm.binding("util")}catch(a){}}(),im=hm&&hm.isTypedArray,jm=im?ia(im):ha,km=Object.prototype,lm=km.hasOwnProperty,mm=Object.prototype,nm=la(Object.keys,Object),om=Object.prototype,pm=om.hasOwnProperty,qm=1,rm=Object.prototype,sm=rm.hasOwnProperty,tm=z(Kk,"DataView"),um=z(Kk,"Promise"),vm=z(Kk,"Set"),wm=z(Kk,"WeakMap"),xm="[object Map]",ym="[object Promise]",zm="[object Set]",Am="[object WeakMap]",Bm="[object DataView]",Cm=w(tm),Dm=w(il),Em=w(um),Fm=w(vm),Gm=w(wm),Hm=s;(tm&&Hm(new tm(new ArrayBuffer(1)))!=Bm||il&&Hm(new il)!=xm||um&&Hm(um.resolve())!=ym||vm&&Hm(new vm)!=zm||wm&&Hm(new wm)!=Am)&&(Hm=function(a){var b=s(a),c="[object Object]"==b?a.constructor:void 0,d=c?w(c):"";if(d)switch(d){case Cm:return Bm;case Dm:return xm;case Em:return ym;case Fm:return zm;case Gm:return Am}return b});var Im=Hm,Jm=1,Km="[object Arguments]",Lm="[object Array]",Mm="[object Object]",Nm=Object.prototype,Om=Nm.hasOwnProperty,Pm=1,Qm=2,Rm="[object Symbol]",Sm=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tm=/^\w*$/,Um="Expected a function";Aa.Cache=N;var Vm=500,Wm=/^\./,Xm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ym=/\\(\\)?/g,Zm=Ba(function(a){var b=[];return Wm.test(a)&&b.push(""),a.replace(Xm,function(a,c,d,e){b.push(d?e.replace(Ym,"$1"):c||a)}),b}),$m=1/0,_m=Lk?Lk.prototype:void 0,an=_m?_m.toString:void 0,bn=1/0,cn=1,dn=2,en=Ra(),fn=Ta(Sa),gn=(Na("length"),"\\ud800-\\udfff"),hn="\\u0300-\\u036f",jn="\\ufe20-\\ufe2f",kn="\\u20d0-\\u20ff",ln=hn+jn+kn,mn="\\ufe0e\\ufe0f",nn="["+gn+"]",on="["+ln+"]",pn="\\ud83c[\\udffb-\\udfff]",qn="(?:"+on+"|"+pn+")",rn="[^"+gn+"]",sn="(?:\\ud83c[\\udde6-\\uddff]){2}",tn="[\\ud800-\\udbff][\\udc00-\\udfff]",un="\\u200d",vn=qn+"?",wn="["+mn+"]?",xn=([rn,sn,tn].join("|"),[rn+on+"?",on,sn,tn,nn].join("|"),{miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,centimeters:6373e5,centimetres:6373e5,kilometers:6373,kilometres:6373,feet:20908792.65}),yn=6371008.8,zn={coordEach:Ib,coordReduce:Jb,propEach:Kb,propReduce:Lb,featureEach:Mb,featureReduce:Nb,coordAll:Ob,geomEach:Pb,geomReduce:Qb,flattenEach:Rb,flattenReduce:Sb,segmentEach:Tb,segmentReduce:Ub,lineEach:Vb,lineReduce:Wb},An=Object.freeze({coordEach:Ib,coordReduce:Jb,propEach:Kb,propReduce:Lb,featureEach:Mb,featureReduce:Nb,coordAll:Ob,geomEach:Pb,geomReduce:Qb,flattenEach:Rb,flattenReduce:Sb,segmentEach:Tb,segmentReduce:Ub,lineEach:Vb,lineReduce:Wb,default:zn}),Bn=ac,Cn=dc;dc.prototype={all:function(){return this._all(this.data,[])},search:function(a){var b=this.data,c=[],d=this.toBBox;if(!pc(a,b))return c;for(var e,f,g,h,i=[];b;){for(e=0,f=b.children.length;e<f;e++)g=b.children[e],h=b.leaf?d(g):g,pc(a,h)&&(b.leaf?c.push(g):oc(a,h)?this._all(g,c):i.push(g));b=i.pop()}return c},collides:function(a){var b=this.data,c=this.toBBox;if(!pc(a,b))return!1;for(var d,e,f,g,h=[];b;){for(d=0,e=b.children.length;d<e;d++)if(f=b.children[d],g=b.leaf?c(f):f,pc(a,g)){if(b.leaf||oc(a,g))return!0;h.push(f)}b=h.pop()}return!1},load:function(a){if(!a||!a.length)return this;if(a.length<this._minEntries){for(var b=0,c=a.length;b<c;b++)this.insert(a[b]);return this}var d=this._build(a.slice(),0,a.length-1,0);if(this.data.children.length)if(this.data.height===d.height)this._splitRoot(this.data,d);else{if(this.data.height<d.height){var e=this.data;this.data=d,d=e}this._insert(d,this.data.height-d.height-1,!0)}else this.data=d;return this},insert:function(a){return a&&this._insert(a,this.data.height-1),this},clear:function(){return this.data=qc([]),this},remove:function(a,b){if(!a)return this;for(var c,d,e,f,g=this.data,h=this.toBBox(a),i=[],j=[];g||i.length;){if(g||(g=i.pop(),d=i[i.length-1],c=j.pop(),f=!0),g.leaf&&-1!==(e=ec(a,g.children,b)))return g.children.splice(e,1),i.push(g),this._condense(i),this;f||g.leaf||!oc(g,h)?d?(c++,g=d.children[c],f=!1):g=null:(i.push(g),j.push(c),c=0,d=g,g=g.children[0])}return this},toBBox:function(a){return a},compareMinX:ic,compareMinY:jc,toJSON:function(){return this.data},fromJSON:function(a){return this.data=a,this},_all:function(a,b){for(var c=[];a;)a.leaf?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},_build:function(a,b,c,d){var e,f=c-b+1,g=this._maxEntries;if(f<=g)return e=qc(a.slice(b,c+1)),fc(e,this.toBBox),e;d||(d=Math.ceil(Math.log(f)/Math.log(g)),g=Math.ceil(f/Math.pow(g,d-1))),e=qc([]),e.leaf=!1,e.height=d;var h,i,j,k,l=Math.ceil(f/g),m=l*Math.ceil(Math.sqrt(g));for(rc(a,b,c,m,this.compareMinX),h=b;h<=c;h+=m)for(j=Math.min(h+m-1,c),rc(a,h,j,l,this.compareMinY),i=h;i<=j;i+=l)k=Math.min(i+l-1,j),e.children.push(this._build(a,i,k,d-1));return fc(e,this.toBBox),e},_chooseSubtree:function(a,b,c,d){for(var e,f,g,h,i,j,k,l;;){if(d.push(b),b.leaf||d.length-1===c)break;for(k=l=1/0,e=0,f=b.children.length;e<f;e++)g=b.children[e],i=kc(g),j=mc(a,g)-i,j<l?(l=j,k=i<k?i:k,h=g):j===l&&i<k&&(k=i,h=g);b=h||b.children[0]}return b},_insert:function(a,b,c){var d=this.toBBox,e=c?a:d(a),f=[],g=this._chooseSubtree(e,this.data,b,f);for(g.children.push(a),hc(g,e);b>=0&&f[b].children.length>this._maxEntries;)this._split(f,b),b--;this._adjustParentBBoxes(e,f,b)},_split:function(a,b){var c=a[b],d=c.children.length,e=this._minEntries;this._chooseSplitAxis(c,e,d);var f=this._chooseSplitIndex(c,e,d),g=qc(c.children.splice(f,c.children.length-f));g.height=c.height,g.leaf=c.leaf,fc(c,this.toBBox),fc(g,this.toBBox),b?a[b-1].children.push(g):this._splitRoot(c,g)},_splitRoot:function(a,b){this.data=qc([a,b]),this.data.height=a.height+1,this.data.leaf=!1,fc(this.data,this.toBBox)},_chooseSplitIndex:function(a,b,c){var d,e,f,g,h,i,j,k;for(i=j=1/0,d=b;d<=c-b;d++)e=gc(a,0,d,this.toBBox),f=gc(a,d,c,this.toBBox),g=nc(e,f),h=kc(e)+kc(f),g<i?(i=g,k=d,j=h<j?h:j):g===i&&h<j&&(j=h,k=d);return k},_chooseSplitAxis:function(a,b,c){var d=a.leaf?this.compareMinX:ic,e=a.leaf?this.compareMinY:jc;this._allDistMargin(a,b,c,d)<this._allDistMargin(a,b,c,e)&&a.children.sort(d)},_allDistMargin:function(a,b,c,d){a.children.sort(d);var e,f,g=this.toBBox,h=gc(a,0,b,g),i=gc(a,c-b,c,g),j=lc(h)+lc(i);for(e=b;e<c-b;e++)f=a.children[e],hc(h,a.leaf?g(f):f),j+=lc(h);for(e=c-b-1;e>=b;e--)f=a.children[e],hc(i,a.leaf?g(f):f),j+=lc(i);return j},_adjustParentBBoxes:function(a,b,c){for(var d=c;d>=0;d--)hc(b[d],a)},_condense:function(a){for(var b,c=a.length-1;c>=0;c--)0===a[c].children.length?c>0?(b=a[c-1].children,b.splice(b.indexOf(a[c]),1)):this.clear():fc(a[c],this.toBBox)},_initFormat:function(a){var b=["return a"," - b",";"];this.compareMinX=new Function("a","b",b.join(a[0])),this.compareMinY=new Function("a","b",b.join(a[1])),this.toBBox=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}};var Dn=An&&zn||An,En=Dn.featureEach,Fn=Dn.coordEach,Gn=sc,Hn=sc;Gn.default=Hn;var In=function(a,b){return a.interfaces_&&a.interfaces_().indexOf(b)>-1},Jn=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};Jn(Cc.prototype,{setOrdinate:function(a,b,c){},size:function(){},getOrdinate:function(a,b){},getCoordinate:function(){},getCoordinateCopy:function(a){},getDimension:function(){},getX:function(a){},clone:function(){},expandEnvelope:function(a){},copy:function(){},getY:function(a){},toCoordinateArray:function(){},interfaces_:function(){return[Bc]},getClass:function(){return Cc}}),Cc.X=0,Cc.Y=1,Cc.Z=2,Cc.M=3,Jn(Dc.prototype,{create:function(){1===arguments.length?arguments[0]instanceof Array||In(arguments[0],Cc):arguments.length},interfaces_:function(){return[]},getClass:function(){return Dc}}),Jn(Fc.prototype,{interfaces_:function(){return[]},getClass:function(){return Fc}}),Fc.toLocationSymbol=function(a){switch(a){case Fc.EXTERIOR:return"e";case Fc.BOUNDARY:return"b";case Fc.INTERIOR:return"i";case Fc.NONE:return"-"}throw new Ec("Unknown location value: "+a)},Fc.INTERIOR=0,Fc.BOUNDARY=1,Fc.EXTERIOR=2,Fc.NONE=-1,Jn(Gc.prototype,{interfaces_:function(){return[]},getClass:function(){return Gc}}),Gc.equalsWithTolerance=function(a,b,c){return Math.abs(a-b)<=c},Hc.isNaN=function(a){return Number.isNaN(a)},Hc.doubleToLongBits=function(a){return a},Hc.longBitsToDouble=function(a){return a},Hc.isInfinite=function(a){return!Number.isFinite(a)},Hc.MAX_VALUE=Number.MAX_VALUE,Lc.prototype=Object.create(Error.prototype),Lc.prototype.constructor=Error;var Kn=function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a};Kn(Mc,Lc),Jn(Mc.prototype,{interfaces_:function(){return[]},getClass:function(){return Mc}}),Jn(Nc.prototype,{interfaces_:function(){return[]},getClass:function(){return Nc}}),Nc.shouldNeverReachHere=function(){if(0===arguments.length)Nc.shouldNeverReachHere(null);else if(1===arguments.length){var a=arguments[0];throw new Mc("Should never reach here"+(null!==a?": "+a:""))}},Nc.isTrue=function(){if(1===arguments.length){var a=arguments[0];Nc.isTrue(a,null)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];if(!a)throw null===b?new Mc:new Mc(b)}},Nc.equals=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];Nc.equals(a,b,null)}else if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];if(!b.equals(a))throw new Mc("Expected "+a+" but encountered "+b+(null!==c?": "+c:""))}},Jn(Oc.prototype,{setOrdinate:function(a,b){switch(a){case Oc.X:this.x=b;break;case Oc.Y:this.y=b;break;case Oc.Z:this.z=b;break;default:throw new Ec("Invalid ordinate index: "+a)}},equals2D:function(){if(1===arguments.length){var a=arguments[0];return this.x===a.x&&this.y===a.y}if(2===arguments.length){var b=arguments[0],c=arguments[1];return!!Gc.equalsWithTolerance(this.x,b.x,c)&&!!Gc.equalsWithTolerance(this.y,b.y,c)}},getOrdinate:function(a){switch(a){case Oc.X:return this.x;case Oc.Y:return this.y;case Oc.Z:return this.z}throw new Ec("Invalid ordinate index: "+a)},equals3D:function(a){return this.x===a.x&&this.y===a.y&&(this.z===a.z||Hc.isNaN(this.z)&&Hc.isNaN(a.z))},equals:function(a){return a instanceof Oc&&this.equals2D(a)},equalInZ:function(a,b){return Gc.equalsWithTolerance(this.z,a.z,b)},compareTo:function(a){var b=a;return this.x<b.x?-1:this.x>b.x?1:this.y<b.y?-1:this.y>b.y?1:0},clone:function(){try{return null}catch(a){if(a instanceof CloneNotSupportedException)return Nc.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw a}},copy:function(){return new Oc(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(a){var b=this.x-a.x,c=this.y-a.y,d=this.z-a.z;return Math.sqrt(b*b+c*c+d*d)},distance:function(a){var b=this.x-a.x,c=this.y-a.y;return Math.sqrt(b*b+c*c)},hashCode:function(){var a=17;return a=37*a+Oc.hashCode(this.x),a=37*a+Oc.hashCode(this.y)},setCoordinate:function(a){this.x=a.x,this.y=a.y,this.z=a.z},interfaces_:function(){return[Ic,Bc,Kc]},getClass:function(){return Oc}}),Oc.hashCode=function(){if(1===arguments.length){var a=arguments[0],b=Hc.doubleToLongBits(a);return Math.trunc(b^b>>>32)}},Jn(Pc.prototype,{compare:function(a,b){var c=a,d=b,e=Pc.compare(c.x,d.x);if(0!==e)return e;var f=Pc.compare(c.y,d.y);return 0!==f?f:this.dimensionsToTest<=2?0:Pc.compare(c.z,d.z)},interfaces_:function(){return[Jc]},getClass:function(){return Pc}}),Pc.compare=function(a,b){return a<b?-1:a>b?1:Hc.isNaN(a)?Hc.isNaN(b)?0:-1:Hc.isNaN(b)?1:0},Oc.DimensionalComparator=Pc,Oc.serialVersionUID=0x5cbf2c235c7e5800,Oc.NULL_ORDINATE=Hc.NaN,Oc.X=0,Oc.Y=1,Oc.Z=2,Jn(Qc.prototype,{interfaces_:function(){return[]},getClass:function(){return Qc}}),Qc.log10=function(a){var b=Math.log(a);return Hc.isInfinite(b)?b:Hc.isNaN(b)?b:b/Qc.LOG_10},Qc.min=function(a,b,c,d){var e=a;return b<e&&(e=b),c<e&&(e=c),d<e&&(e=d),e},Qc.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1],c=arguments[2];return a<b?b:a>c?c:a}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],b=arguments[1],c=arguments[2];return a<b?b:a>c?c:a}},Qc.wrap=function(a,b){return a<0?b- -a%b:a%b},Qc.max=function(){if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=a;return b>d&&(d=b),c>d&&(d=c),d}if(4===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],e=arguments[3],d=a;return b>d&&(d=b),c>d&&(d=c),e>d&&(d=e),d}},Qc.average=function(a,b){return(a+b)/2},Qc.LOG_10=Math.log(10),Rc.prototype.append=function(a){this.str+=a},Rc.prototype.setCharAt=function(a,b){this.str=this.str.substr(0,a)+b+this.str.substr(a+1)},Rc.prototype.toString=function(a){return this.str},Sc.prototype.intValue=function(){return this.value},Sc.prototype.compareTo=function(a){return this.value<a?-1:this.value>a?1:0},Sc.isNaN=function(a){return Number.isNaN(a)},Tc.isWhitespace=function(a){return a<=32&&a>=0||127==a},Tc.toUpperCase=function(a){return a.toUpperCase()},Jn(Uc.prototype,{le:function(a){return this.hi<a.hi||this.hi===a.hi&&this.lo<=a.lo},extractSignificantDigits:function(a,b){var c=this.abs(),d=Uc.magnitude(c.hi),e=Uc.TEN.pow(d);c=c.divide(e),c.gt(Uc.TEN)?(c=c.divide(Uc.TEN),d+=1):c.lt(Uc.ONE)&&(c=c.multiply(Uc.TEN),d-=1);for(var f=d+1,g=new Rc,h=Uc.MAX_PRINT_DIGITS-1,i=0;i<=h;i++){a&&i===f&&g.append(".");var j=Math.trunc(c.hi);if(j<0)break;var k=!1,l=0;j>9?(k=!0,l="9"):l="0"+j,g.append(l),c=c.subtract(Uc.valueOf(j)).multiply(Uc.TEN),k&&c.selfAdd(Uc.TEN);var m=!0,n=Uc.magnitude(c.hi);if(n<0&&Math.abs(n)>=h-i&&(m=!1),!m)break}return b[0]=d,g.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this.hi+this.lo},subtract:function(){if(arguments[0]instanceof Uc){var a=arguments[0];return this.add(a.negate())}if("number"==typeof arguments[0]){var a=arguments[0];return this.add(-a)}},equals:function(){if(1===arguments.length){var a=arguments[0];return this.hi===a.hi&&this.lo===a.lo}},isZero:function(){return 0===this.hi&&0===this.lo},selfSubtract:function(){if(arguments[0]instanceof Uc){var a=arguments[0];return this.isNaN()?this:this.selfAdd(-a.hi,-a.lo)}if("number"==typeof arguments[0]){var a=arguments[0];return this.isNaN()?this:this.selfAdd(-a,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(a){return this.le(a)?this:a},selfDivide:function(){if(1===arguments.length){if(arguments[0]instanceof Uc){var a=arguments[0];return this.selfDivide(a.hi,a.lo)}if("number"==typeof arguments[0]){var a=arguments[0];return this.selfDivide(a,0)}}else if(2===arguments.length){var b=arguments[0],c=arguments[1],d=null,e=null,f=null,g=null,h=null,i=null,j=null,k=null;return h=this.hi/b,i=Uc.SPLIT*h,d=i-h,k=Uc.SPLIT*b,d=i-d,e=h-d,f=k-b,j=h*b,f=k-f,g=b-f,k=d*f-j+d*g+e*f+e*g,i=(this.hi-j-k+this.lo-h*c)/b,k=h+i,this.hi=k,this.lo=h-k+i,this}},dump:function(){return"DD<"+this.hi+", "+this.lo+">"},divide:function(){if(arguments[0]instanceof Uc){var a=arguments[0],b=null,c=null,d=null,e=null,f=null,g=null,h=null,i=null;f=this.hi/a.hi,g=Uc.SPLIT*f,b=g-f,i=Uc.SPLIT*a.hi,b=g-b,c=f-b,d=i-a.hi,h=f*a.hi,d=i-d,e=a.hi-d,i=b*d-h+b*e+c*d+c*e,g=(this.hi-h-i+this.lo-f*a.lo)/a.hi,i=f+g;return new Uc(i,f-i+g)}if("number"==typeof arguments[0]){var a=arguments[0];return Hc.isNaN(a)?Uc.createNaN():Uc.copy(this).selfDivide(a,0)}},ge:function(a){return this.hi>a.hi||this.hi===a.hi&&this.lo>=a.lo},pow:function(a){if(0===a)return Uc.valueOf(1);var b=new Uc(this),c=Uc.valueOf(1),d=Math.abs(a);if(d>1)for(;d>0;)d%2==1&&c.selfMultiply(b),(d/=2)>0&&(b=b.sqr());else c=b;return a<0?c.reciprocal():c},ceil:function(){if(this.isNaN())return Uc.NaN;var a=Math.ceil(this.hi),b=0;return a===this.hi&&(b=Math.ceil(this.lo)),new Uc(a,b)},compareTo:function(a){var b=a;return this.hi<b.hi?-1:this.hi>b.hi?1:this.lo<b.lo?-1:this.lo>b.lo?1:0},rint:function(){return this.isNaN()?this:this.add(.5).floor()},setValue:function(){if(arguments[0]instanceof Uc){var a=arguments[0];return this.init(a),this}if("number"==typeof arguments[0]){var a=arguments[0];return this.init(a),this}},max:function(a){return this.ge(a)?this:a},sqrt:function(){if(this.isZero())return Uc.valueOf(0);if(this.isNegative())return Uc.NaN;var a=1/Math.sqrt(this.hi),b=this.hi*a,c=Uc.valueOf(b),d=this.subtract(c.sqr()),e=d.hi*(.5*a);return c.add(e)},selfAdd:function(){if(1===arguments.length){if(arguments[0]instanceof Uc){var a=arguments[0];return this.selfAdd(a.hi,a.lo)}if("number"==typeof arguments[0]){var a=arguments[0],b=null,c=null,d=null,e=null,f=null,g=null;return d=this.hi+a,f=d-this.hi,e=d-f,e=a-f+(this.hi-e),g=e+this.lo,b=d+g,c=g+(d-b),this.hi=b+c,this.lo=c+(b-this.hi),this}}else if(2===arguments.length){var h=arguments[0],i=arguments[1],b=null,c=null,j=null,k=null,d=null,e=null,f=null,g=null;d=this.hi+h,j=this.lo+i,f=d-this.hi,g=j-this.lo,e=d-f,k=j-g,e=h-f+(this.hi-e),k=i-g+(this.lo-k),f=e+j,b=d+f,c=f+(d-b),f=k+c;var l=b+f,m=f+(b-l);return this.hi=l,this.lo=m,this}},selfMultiply:function(){if(1===arguments.length){if(arguments[0]instanceof Uc){var a=arguments[0];return this.selfMultiply(a.hi,a.lo)}if("number"==typeof arguments[0]){var a=arguments[0];return this.selfMultiply(a,0)}}else if(2===arguments.length){var b=arguments[0],c=arguments[1],d=null,e=null,f=null,g=null,h=null,i=null;h=Uc.SPLIT*this.hi,d=h-this.hi,i=Uc.SPLIT*b,d=h-d,e=this.hi-d,f=i-b,h=this.hi*b,f=i-f,g=b-f,i=d*f-h+d*g+e*f+e*g+(this.hi*c+this.lo*b);var j=h+i;d=h-j;var k=i+d;return this.hi=j,this.lo=k,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return Uc.NaN;var a=Math.floor(this.hi),b=0;return a===this.hi&&(b=Math.floor(this.lo)),new Uc(a,b)},negate:function(){return this.isNaN()?this:new Uc(-this.hi,-this.lo)},clone:function(){try{return null}catch(a){if(a instanceof CloneNotSupportedException)return null;throw a}},multiply:function(){if(arguments[0]instanceof Uc){var a=arguments[0];return a.isNaN()?Uc.createNaN():Uc.copy(this).selfMultiply(a)}if("number"==typeof arguments[0]){var a=arguments[0];return Hc.isNaN(a)?Uc.createNaN():Uc.copy(this).selfMultiply(a,0)}},isNaN:function(){return Hc.isNaN(this.hi)},intValue:function(){return Math.trunc(this.hi)},toString:function(){var a=Uc.magnitude(this.hi);return a>=-3&&a<=20?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var a=this.getSpecialNumberString();if(null!==a)return a;var b=new Array(1).fill(null),c=this.extractSignificantDigits(!0,b),d=b[0]+1,e=c;if("."===c.charAt(0))e="0"+c;else if(d<0)e="0."+Uc.stringOfChar("0",-d)+c;else if(-1===c.indexOf(".")){var f=d-c.length,g=Uc.stringOfChar("0",f);e=c+g+".0"}return this.isNegative()?"-"+e:e},reciprocal:function(){var a=null,b=null,c=null,d=null,e=null,f=null,g=null,h=null;e=1/this.hi,f=Uc.SPLIT*e,a=f-e,h=Uc.SPLIT*this.hi,a=f-a,b=e-a,c=h-this.hi,g=e*this.hi,c=h-c,d=this.hi-c,h=a*c-g+a*d+b*c+b*d,f=(1-g-h-e*this.lo)/this.hi;var i=e+f;return new Uc(i,e-i+f)},toSciNotation:function(){if(this.isZero())return Uc.SCI_NOT_ZERO;var a=this.getSpecialNumberString();if(null!==a)return a;var b=new Array(1).fill(null),c=this.extractSignificantDigits(!1,b),d=Uc.SCI_NOT_EXPONENT_CHAR+b[0];if("0"===c.charAt(0))throw new IllegalStateException("Found leading zero: "+c);var e="";c.length>1&&(e=c.substring(1));var f=c.charAt(0)+"."+e;return this.isNegative()?"-"+f+d:f+d},abs:function(){return this.isNaN()?Uc.NaN:this.isNegative()?this.negate():new Uc(this)},isPositive:function(){return this.hi>0||0===this.hi&&this.lo>0},lt:function(a){return this.hi<a.hi||this.hi===a.hi&&this.lo<a.lo},add:function(){if(arguments[0]instanceof Uc){var a=arguments[0];return Uc.copy(this).selfAdd(a)}if("number"==typeof arguments[0]){var a=arguments[0];return Uc.copy(this).selfAdd(a)}},init:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var a=arguments[0];this.hi=a,this.lo=0}else if(arguments[0]instanceof Uc){var b=arguments[0];this.hi=b.hi,this.lo=b.lo}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];this.hi=c,this.lo=d}},gt:function(a){return this.hi>a.hi||this.hi===a.hi&&this.lo>a.lo},isNegative:function(){return this.hi<0||0===this.hi&&this.lo<0},trunc:function(){return this.isNaN()?Uc.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return this.hi>0?1:this.hi<0?-1:this.lo>0?1:this.lo<0?-1:0},interfaces_:function(){return[Kc,Ic,Bc]},getClass:function(){return Uc}}),Uc.sqr=function(a){return Uc.valueOf(a).selfMultiply(a)},Uc.valueOf=function(){if("string"==typeof arguments[0]){var a=arguments[0];return Uc.parse(a)}if("number"==typeof arguments[0]){return new Uc(arguments[0])}},Uc.sqrt=function(a){return Uc.valueOf(a).sqrt()},Uc.parse=function(a){for(var b=0,c=a.length;Tc.isWhitespace(a.charAt(b));)b++;var d=!1;if(b<c){var e=a.charAt(b);"-"!==e&&"+"!==e||(b++,"-"===e&&(d=!0))}for(var f=new Uc,g=0,h=0,i=0;;){if(b>=c)break;var j=a.charAt(b);if(b++,Tc.isDigit(j)){var k=j-"0";f.selfMultiply(Uc.TEN),f.selfAdd(k),g++}else{if("."!==j){if("e"===j||"E"===j){var l=a.substring(b);try{i=Sc.parseInt(l)}catch(b){throw b instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+l+" in string "+a):b}break}throw new NumberFormatException("Unexpected character '"+j+"' at position "+b+" in string "+a)}h=g}}var m=f,n=g-h-i;if(0===n)m=f;else if(n>0){var o=Uc.TEN.pow(n);m=f.divide(o)}else if(n<0){var o=Uc.TEN.pow(-n);m=f.multiply(o)}return d?m.negate():m},Uc.createNaN=function(){return new Uc(Hc.NaN,Hc.NaN)},Uc.copy=function(a){return new Uc(a)},Uc.magnitude=function(a){var b=Math.abs(a),c=Math.log(b)/Math.log(10),d=Math.trunc(Math.floor(c));return 10*Math.pow(10,d)<=b&&(d+=1),d},Uc.stringOfChar=function(a,b){for(var c=new Rc,d=0;d<b;d++)c.append(a);return c.toString()},Uc.PI=new Uc(3.141592653589793,1.2246467991473532e-16),Uc.TWO_PI=new Uc(6.283185307179586,2.4492935982947064e-16),Uc.PI_2=new Uc(1.5707963267948966,6.123233995736766e-17),Uc.E=new Uc(2.718281828459045,1.4456468917292502e-16),Uc.NaN=new Uc(Hc.NaN,Hc.NaN),Uc.EPS=1.23259516440783e-32,Uc.SPLIT=134217729,Uc.MAX_PRINT_DIGITS=32,Uc.TEN=Uc.valueOf(10),Uc.ONE=Uc.valueOf(1),Uc.SCI_NOT_EXPONENT_CHAR="E",Uc.SCI_NOT_ZERO="0.0E0",Jn(Vc.prototype,{interfaces_:function(){return[]},getClass:function(){return Vc}}),Vc.orientationIndex=function(a,b,c){var d=Vc.orientationIndexFilter(a,b,c);if(d<=1)return d;var e=Uc.valueOf(b.x).selfAdd(-a.x),f=Uc.valueOf(b.y).selfAdd(-a.y),g=Uc.valueOf(c.x).selfAdd(-b.x),h=Uc.valueOf(c.y).selfAdd(-b.y);return e.selfMultiply(h).selfSubtract(f.selfMultiply(g)).signum()},Vc.signOfDet2x2=function(a,b,c,d){return a.multiply(d).selfSubtract(b.multiply(c)).signum()},Vc.intersection=function(a,b,c,d){var e=Uc.valueOf(d.y).selfSubtract(c.y).selfMultiply(Uc.valueOf(b.x).selfSubtract(a.x)),f=Uc.valueOf(d.x).selfSubtract(c.x).selfMultiply(Uc.valueOf(b.y).selfSubtract(a.y)),g=e.subtract(f),h=Uc.valueOf(d.x).selfSubtract(c.x).selfMultiply(Uc.valueOf(a.y).selfSubtract(c.y)),i=Uc.valueOf(d.y).selfSubtract(c.y).selfMultiply(Uc.valueOf(a.x).selfSubtract(c.x)),j=h.subtract(i),k=j.selfDivide(g).doubleValue(),l=Uc.valueOf(a.x).selfAdd(Uc.valueOf(b.x).selfSubtract(a.x).selfMultiply(k)).doubleValue(),m=Uc.valueOf(b.x).selfSubtract(a.x).selfMultiply(Uc.valueOf(a.y).selfSubtract(c.y)),n=Uc.valueOf(b.y).selfSubtract(a.y).selfMultiply(Uc.valueOf(a.x).selfSubtract(c.x)),o=m.subtract(n),p=o.selfDivide(g).doubleValue();return new Oc(l,Uc.valueOf(c.y).selfAdd(Uc.valueOf(d.y).selfSubtract(c.y).selfMultiply(p)).doubleValue())},Vc.orientationIndexFilter=function(a,b,c){var d=null,e=(a.x-c.x)*(b.y-c.y),f=(a.y-c.y)*(b.x-c.x),g=e-f;if(e>0){if(f<=0)return Vc.signum(g);d=e+f}else{if(!(e<0))return Vc.signum(g);if(f>=0)return Vc.signum(g);d=-e-f}var h=Vc.DP_SAFE_EPSILON*d;return g>=h||-g>=h?Vc.signum(g):2},Vc.signum=function(a){return a>0?1:a<0?-1:0},Vc.DP_SAFE_EPSILON=1e-15,Kn(Xc,Wc),Jn(Xc.prototype,{interfaces_:function(){return[]},getClass:function(){return Xc}}),Yc.arraycopy=function(a,b,c,d,e){for(var f=0,g=b;g<b+e;g++)c[d+f]=a[g],f++},Yc.getProperty=function(a){return{"line.separator":"\n"}[a]},Jn(Zc.prototype,{getY:function(){var a=this.y/this.w;if(Hc.isNaN(a)||Hc.isInfinite(a))throw new Xc;return a},getX:function(){var a=this.x/this.w;if(Hc.isNaN(a)||Hc.isInfinite(a))throw new Xc;return a},getCoordinate:function(){var a=new Oc;return a.x=this.getX(),a.y=this.getY(),a},interfaces_:function(){return[]},getClass:function(){return Zc}}),Zc.intersection=function(a,b,c,d){var e=a.y-b.y,f=b.x-a.x,g=a.x*b.y-b.x*a.y,h=c.y-d.y,i=d.x-c.x,j=c.x*d.y-d.x*c.y,k=f*j-i*g,l=h*g-e*j,m=e*i-h*f,n=k/m,o=l/m;if(Hc.isNaN(n)||Hc.isInfinite(n)||Hc.isNaN(o)||Hc.isInfinite(o))throw new Xc;return new Oc(n,o)},Jn($c.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(a){if(!(a instanceof $c))return!1;var b=a;return this.isNull()?b.isNull():this.maxx===b.getMaxX()&&this.maxy===b.getMaxY()&&this.minx===b.getMinX()&&this.miny===b.getMinY()},intersection:function(a){if(this.isNull()||a.isNull()||!this.intersects(a))return new $c;var b=this.minx>a.minx?this.minx:a.minx,c=this.miny>a.miny?this.miny:a.miny;return new $c(b,this.maxx<a.maxx?this.maxx:a.maxx,c,this.maxy<a.maxy?this.maxy:a.maxy)},isNull:function(){return this.maxx<this.minx},getMaxX:function(){return this.maxx},covers:function(){if(1===arguments.length){if(arguments[0]instanceof Oc){var a=arguments[0];return this.covers(a.x,a.y)}if(arguments[0]instanceof $c){var b=arguments[0];return!this.isNull()&&!b.isNull()&&(b.getMinX()>=this.minx&&b.getMaxX()<=this.maxx&&b.getMinY()>=this.miny&&b.getMaxY()<=this.maxy)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];return!this.isNull()&&(c>=this.minx&&c<=this.maxx&&d>=this.miny&&d<=this.maxy)}},intersects:function(){if(1===arguments.length){if(arguments[0]instanceof $c){var a=arguments[0];return!this.isNull()&&!a.isNull()&&!(a.minx>this.maxx||a.maxx<this.minx||a.miny>this.maxy||a.maxy<this.miny)}if(arguments[0]instanceof Oc){var b=arguments[0];return this.intersects(b.x,b.y)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];return!this.isNull()&&!(c>this.maxx||c<this.minx||d>this.maxy||d<this.miny)}},getMinY:function(){return this.miny},getMinX:function(){return this.minx},expandToInclude:function(){if(1===arguments.length){if(arguments[0]instanceof Oc){var a=arguments[0];this.expandToInclude(a.x,a.y)}else if(arguments[0]instanceof $c){var b=arguments[0];if(b.isNull())return null;this.isNull()?(this.minx=b.getMinX(),this.maxx=b.getMaxX(),this.miny=b.getMinY(),this.maxy=b.getMaxY()):(b.minx<this.minx&&(this.minx=b.minx),b.maxx>this.maxx&&(this.maxx=b.maxx),b.miny<this.miny&&(this.miny=b.miny),b.maxy>this.maxy&&(this.maxy=b.maxy))}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];this.isNull()?(this.minx=c,this.maxx=c,this.miny=d,this.maxy=d):(c<this.minx&&(this.minx=c),c>this.maxx&&(this.maxx=c),d<this.miny&&(this.miny=d),d>this.maxy&&(this.maxy=d))}},minExtent:function(){if(this.isNull())return 0;var a=this.getWidth(),b=this.getHeight();return a<b?a:b},getWidth:function(){return this.isNull()?0:this.maxx-this.minx},compareTo:function(a){var b=a;return this.isNull()?b.isNull()?0:-1:b.isNull()?1:this.minx<b.minx?-1:this.minx>b.minx?1:this.miny<b.miny?-1:this.miny>b.miny?1:this.maxx<b.maxx?-1:this.maxx>b.maxx?1:this.maxy<b.maxy?-1:this.maxy>b.maxy?1:0},translate:function(a,b){if(this.isNull())return null;this.init(this.getMinX()+a,this.getMaxX()+a,this.getMinY()+b,this.getMaxY()+b)},toString:function(){return"Env["+this.minx+" : "+this.maxx+", "+this.miny+" : "+this.maxy+"]"},setToNull:function(){this.minx=0,this.maxx=-1,this.miny=0,this.maxy=-1},getHeight:function(){return this.isNull()?0:this.maxy-this.miny},maxExtent:function(){if(this.isNull())return 0;var a=this.getWidth(),b=this.getHeight();return a>b?a:b},expandBy:function(){if(1===arguments.length){var a=arguments[0];this.expandBy(a,a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];if(this.isNull())return null;this.minx-=b,this.maxx+=b,this.miny-=c,this.maxy+=c,(this.minx>this.maxx||this.miny>this.maxy)&&this.setToNull()}},contains:function(){if(1===arguments.length){if(arguments[0]instanceof $c){var a=arguments[0];return this.covers(a)}if(arguments[0]instanceof Oc){var b=arguments[0];return this.covers(b)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];return this.covers(c,d)}},centre:function(){return this.isNull()?null:new Oc((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof Oc){var a=arguments[0];this.init(a.x,a.x,a.y,a.y)}else if(arguments[0]instanceof $c){var b=arguments[0];this.minx=b.minx,this.maxx=b.maxx,this.miny=b.miny,this.maxy=b.maxy}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];this.init(c.x,d.x,c.y,d.y)}else if(4===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2],h=arguments[3];e<f?(this.minx=e,this.maxx=f):(this.minx=f,this.maxx=e),g<h?(this.miny=g,this.maxy=h):(this.miny=h,this.maxy=g)}},getMaxY:function(){return this.maxy},distance:function(a){if(this.intersects(a))return 0;var b=0;this.maxx<a.minx?b=a.minx-this.maxx:this.minx>a.maxx&&(b=this.minx-a.maxx);var c=0;return this.maxy<a.miny?c=a.miny-this.maxy:this.miny>a.maxy&&(c=this.miny-a.maxy),0===b?c:0===c?b:Math.sqrt(b*b+c*c)},hashCode:function(){var a=17;return a=37*a+Oc.hashCode(this.minx),a=37*a+Oc.hashCode(this.maxx),a=37*a+Oc.hashCode(this.miny),a=37*a+Oc.hashCode(this.maxy)},interfaces_:function(){return[Ic,Kc]},getClass:function(){return $c}}),$c.intersects=function(){if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];return c.x>=(a.x<b.x?a.x:b.x)&&c.x<=(a.x>b.x?a.x:b.x)&&c.y>=(a.y<b.y?a.y:b.y)&&c.y<=(a.y>b.y?a.y:b.y)}if(4===arguments.length){var a=arguments[0],b=arguments[1],d=arguments[2],e=arguments[3],f=Math.min(d.x,e.x),g=Math.max(d.x,e.x),h=Math.min(a.x,b.x),i=Math.max(a.x,b.x);return!(h>g)&&(!(i<f)&&(f=Math.min(d.y,e.y),g=Math.max(d.y,e.y),h=Math.min(a.y,b.y),i=Math.max(a.y,b.y),!(h>g)&&!(i<f)))}},$c.serialVersionUID=0x51845cd552189800;var Ln={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};Jn(_c.prototype,{read:function(a){var b,c,d;a=a.replace(/[\n\r]/g," ");var e=Ln.typeStr.exec(a);if(-1!==a.search("EMPTY")&&(e=Ln.emptyTypeStr.exec(a),e[2]=void 0),e&&(c=e[1].toLowerCase(),d=e[2],Nn[c]&&(b=Nn[c].apply(this,[d]))),void 0===b)throw new Error("Could not parse WKT "+a);return b},write:function(a){return this.extractGeometry(a)},extractGeometry:function(a){var b=a.getGeometryType().toLowerCase();if(!Mn[b])return null;var c=b.toUpperCase();return a.isEmpty()?c+" EMPTY":c+"("+Mn[b].apply(this,[a])+")"}});var Mn={coordinate:function(a){return a.x+" "+a.y},point:function(a){return Mn.coordinate.call(this,a.coordinates.coordinates[0])},multipoint:function(a){for(var b=[],c=0,d=a.geometries.length;c<d;++c)b.push("("+Mn.point.apply(this,[a.geometries[c]])+")");return b.join(",")},linestring:function(a){for(var b=[],c=0,d=a.points.coordinates.length;c<d;++c)b.push(Mn.coordinate.apply(this,[a.points.coordinates[c]]));return b.join(",")},linearring:function(a){for(var b=[],c=0,d=a.points.coordinates.length;c<d;++c)b.push(Mn.coordinate.apply(this,[a.points.coordinates[c]]));return b.join(",")},multilinestring:function(a){for(var b=[],c=0,d=a.geometries.length;c<d;++c)b.push("("+Mn.linestring.apply(this,[a.geometries[c]])+")");return b.join(",")},polygon:function(a){var b=[];b.push("("+Mn.linestring.apply(this,[a.shell])+")");for(var c=0,d=a.holes.length;c<d;++c)b.push("("+Mn.linestring.apply(this,[a.holes[c]])+")");return b.join(",")},multipolygon:function(a){for(var b=[],c=0,d=a.geometries.length;c<d;++c)b.push("("+Mn.polygon.apply(this,[a.geometries[c]])+")");return b.join(",")},geometrycollection:function(a){for(var b=[],c=0,d=a.geometries.length;c<d;++c)b.push(this.extractGeometry(a.geometries[c]));return b.join(",")}},Nn={point:function(a){if(void 0===a)return this.geometryFactory.createPoint();var b=a.trim().split(Ln.spaces);return this.geometryFactory.createPoint(new Oc(Number.parseFloat(b[0]),Number.parseFloat(b[1])))},multipoint:function(a){if(void 0===a)return this.geometryFactory.createMultiPoint();for(var b,c=a.trim().split(","),d=[],e=0,f=c.length;e<f;++e)b=c[e].replace(Ln.trimParens,"$1"),d.push(Nn.point.apply(this,[b]));return this.geometryFactory.createMultiPoint(d)},linestring:function(a){if(void 0===a)return this.geometryFactory.createLineString();for(var b,c=a.trim().split(","),d=[],e=0,f=c.length;e<f;++e)b=c[e].trim().split(Ln.spaces),d.push(new Oc(Number.parseFloat(b[0]),Number.parseFloat(b[1])));return this.geometryFactory.createLineString(d)},linearring:function(a){if(void 0===a)return this.geometryFactory.createLinearRing();for(var b,c=a.trim().split(","),d=[],e=0,f=c.length;e<f;++e)b=c[e].trim().split(Ln.spaces),d.push(new Oc(Number.parseFloat(b[0]),Number.parseFloat(b[1])));return this.geometryFactory.createLinearRing(d)},multilinestring:function(a){if(void 0===a)return this.geometryFactory.createMultiLineString();for(var b,c=a.trim().split(Ln.parenComma),d=[],e=0,f=c.length;e<f;++e)b=c[e].replace(Ln.trimParens,"$1"),d.push(Nn.linestring.apply(this,[b]));return this.geometryFactory.createMultiLineString(d)},polygon:function(a){if(void 0===a)return this.geometryFactory.createPolygon();for(var b,c,d,e,f=a.trim().split(Ln.parenComma),g=[],h=0,i=f.length;h<i;++h)b=f[h].replace(Ln.trimParens,"$1"),c=Nn.linestring.apply(this,[b]),d=this.geometryFactory.createLinearRing(c.points),0===h?e=d:g.push(d);return this.geometryFactory.createPolygon(e,g)},multipolygon:function(a){if(void 0===a)return this.geometryFactory.createMultiPolygon();for(var b,c=a.trim().split(Ln.doubleParenComma),d=[],e=0,f=c.length;e<f;++e)b=c[e].replace(Ln.trimParens,"$1"),d.push(Nn.polygon.apply(this,[b]));return this.geometryFactory.createMultiPolygon(d)},geometrycollection:function(a){if(void 0===a)return this.geometryFactory.createGeometryCollection();a=a.replace(/,\s*([A-Za-z])/g,"|$1");for(var b=a.trim().split("|"),c=[],d=0,e=b.length;d<e;++d)c.push(this.read(b[d]));return this.geometryFactory.createGeometryCollection(c)}};Jn(ad.prototype,{write:function(a){return this.parser.write(a)}}),Jn(ad,{toLineString:function(a,b){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+a.x+" "+a.y+", "+b.x+" "+b.y+" )"}}),Jn(bd.prototype,{getIndexAlongSegment:function(a,b){return this.computeIntLineIndex(),this.intLineIndex[a][b]},getTopologySummary:function(){var a=new Rc;return this.isEndPoint()&&a.append(" endpoint"),this._isProper&&a.append(" proper"),this.isCollinear()&&a.append(" collinear"),a.toString()},computeIntersection:function(a,b,c,d){this.inputLines[0][0]=a,this.inputLines[0][1]=b,this.inputLines[1][0]=c,this.inputLines[1][1]=d,this.result=this.computeIntersect(a,b,c,d)},getIntersectionNum:function(){return this.result},computeIntLineIndex:function(){if(0===arguments.length)null===this.intLineIndex&&(this.intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var a=arguments[0],b=this.getEdgeDistance(a,0),c=this.getEdgeDistance(a,1);b>c?(this.intLineIndex[a][0]=0,this.intLineIndex[a][1]=1):(this.intLineIndex[a][0]=1,this.intLineIndex[a][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(a){this.precisionModel=a},isInteriorIntersection:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var a=arguments[0],b=0;b<this.result;b++)if(!this.intPt[b].equals2D(this.inputLines[a][0])&&!this.intPt[b].equals2D(this.inputLines[a][1]))return!0;return!1}},getIntersection:function(a){return this.intPt[a]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this.result!==bd.NO_INTERSECTION},getEdgeDistance:function(a,b){return bd.computeEdgeDistance(this.intPt[b],this.inputLines[a][0],this.inputLines[a][1])},isCollinear:function(){return this.result===bd.COLLINEAR_INTERSECTION},toString:function(){return ad.toLineString(this.inputLines[0][0],this.inputLines[0][1])+" - "+ad.toLineString(this.inputLines[1][0],this.inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(a,b){return this.inputLines[a][b]},isIntersection:function(a){for(var b=0;b<this.result;b++)if(this.intPt[b].equals2D(a))return!0;return!1},getIntersectionAlongSegment:function(a,b){return this.computeIntLineIndex(),this.intPt[this.intLineIndex[a][b]]},interfaces_:function(){return[]},getClass:function(){return bd}}),bd.computeEdgeDistance=function(a,b,c){var d=Math.abs(c.x-b.x),e=Math.abs(c.y-b.y),f=-1;if(a.equals(b))f=0;else if(a.equals(c))f=d>e?d:e;else{var g=Math.abs(a.x-b.x),h=Math.abs(a.y-b.y);f=d>e?g:h,0!==f||a.equals(b)||(f=Math.max(g,h))}return Nc.isTrue(!(0===f&&!a.equals(b)),"Bad distance calculation"),f},bd.nonRobustComputeEdgeDistance=function(a,b,c){var d=a.x-b.x,e=a.y-b.y,f=Math.sqrt(d*d+e*e);return Nc.isTrue(!(0===f&&!a.equals(b)),"Invalid distance calculation"),f},bd.DONT_INTERSECT=0,bd.DO_INTERSECT=1,bd.COLLINEAR=2,bd.NO_INTERSECTION=0,bd.POINT_INTERSECTION=1,bd.COLLINEAR_INTERSECTION=2,Kn(cd,bd),Jn(cd.prototype,{isInSegmentEnvelopes:function(a){var b=new $c(this.inputLines[0][0],this.inputLines[0][1]),c=new $c(this.inputLines[1][0],this.inputLines[1][1]);return b.contains(a)&&c.contains(a)},computeIntersection:function(){if(3!==arguments.length)return bd.prototype.computeIntersection.apply(this,arguments);var a=arguments[0],b=arguments[1],c=arguments[2];if(this._isProper=!1,$c.intersects(b,c,a)&&0===fd.orientationIndex(b,c,a)&&0===fd.orientationIndex(c,b,a))return this._isProper=!0,(a.equals(b)||a.equals(c))&&(this._isProper=!1),this.result=bd.POINT_INTERSECTION,null;this.result=bd.NO_INTERSECTION},normalizeToMinimum:function(a,b,c,d,e){e.x=this.smallestInAbsValue(a.x,b.x,c.x,d.x),e.y=this.smallestInAbsValue(a.y,b.y,c.y,d.y),a.x-=e.x,a.y-=e.y,b.x-=e.x,b.y-=e.y,c.x-=e.x,c.y-=e.y,d.x-=e.x,d.y-=e.y},safeHCoordinateIntersection:function(a,b,c,d){var e=null;try{e=Zc.intersection(a,b,c,d)}catch(f){if(!(f instanceof Xc))throw f;e=cd.nearestEndpoint(a,b,c,d)}return e},intersection:function(a,b,c,d){var e=this.intersectionWithNormalization(a,b,c,d);return this.isInSegmentEnvelopes(e)||(e=new Oc(cd.nearestEndpoint(a,b,c,d))),null!==this.precisionModel&&this.precisionModel.makePrecise(e),e},smallestInAbsValue:function(a,b,c,d){var e=a,f=Math.abs(e);return Math.abs(b)<f&&(e=b,f=Math.abs(b)),Math.abs(c)<f&&(e=c,f=Math.abs(c)),Math.abs(d)<f&&(e=d),e},checkDD:function(a,b,c,d,e){var f=Vc.intersection(a,b,c,d),g=this.isInSegmentEnvelopes(f);Yc.out.println("DD in env = "+g+"  --------------------- "+f),e.distance(f)>1e-4&&Yc.out.println("Distance = "+e.distance(f))},intersectionWithNormalization:function(a,b,c,d){var e=new Oc(a),f=new Oc(b),g=new Oc(c),h=new Oc(d),i=new Oc;this.normalizeToEnvCentre(e,f,g,h,i);var j=this.safeHCoordinateIntersection(e,f,g,h);return j.x+=i.x,j.y+=i.y,j},computeCollinearIntersection:function(a,b,c,d){var e=$c.intersects(a,b,c),f=$c.intersects(a,b,d),g=$c.intersects(c,d,a),h=$c.intersects(c,d,b);return e&&f?(this.intPt[0]=c,this.intPt[1]=d,bd.COLLINEAR_INTERSECTION):g&&h?(this.intPt[0]=a,this.intPt[1]=b,bd.COLLINEAR_INTERSECTION):e&&g?(this.intPt[0]=c,this.intPt[1]=a,!c.equals(a)||f||h?bd.COLLINEAR_INTERSECTION:bd.POINT_INTERSECTION):e&&h?(this.intPt[0]=c,this.intPt[1]=b,!c.equals(b)||f||g?bd.COLLINEAR_INTERSECTION:bd.POINT_INTERSECTION):f&&g?(this.intPt[0]=d,this.intPt[1]=a,!d.equals(a)||e||h?bd.COLLINEAR_INTERSECTION:bd.POINT_INTERSECTION):f&&h?(this.intPt[0]=d,this.intPt[1]=b,!d.equals(b)||e||g?bd.COLLINEAR_INTERSECTION:bd.POINT_INTERSECTION):bd.NO_INTERSECTION},normalizeToEnvCentre:function(a,b,c,d,e){var f=a.x<b.x?a.x:b.x,g=a.y<b.y?a.y:b.y,h=a.x>b.x?a.x:b.x,i=a.y>b.y?a.y:b.y,j=c.x<d.x?c.x:d.x,k=c.y<d.y?c.y:d.y,l=c.x>d.x?c.x:d.x,m=c.y>d.y?c.y:d.y,n=f>j?f:j,o=h<l?h:l,p=g>k?g:k,q=i<m?i:m,r=(n+o)/2,s=(p+q)/2;e.x=r,e.y=s,a.x-=e.x,a.y-=e.y,b.x-=e.x,b.y-=e.y,c.x-=e.x,c.y-=e.y,d.x-=e.x,d.y-=e.y},computeIntersect:function(a,b,c,d){if(this._isProper=!1,!$c.intersects(a,b,c,d))return bd.NO_INTERSECTION;var e=fd.orientationIndex(a,b,c),f=fd.orientationIndex(a,b,d);if(e>0&&f>0||e<0&&f<0)return bd.NO_INTERSECTION;var g=fd.orientationIndex(c,d,a),h=fd.orientationIndex(c,d,b);return g>0&&h>0||g<0&&h<0?bd.NO_INTERSECTION:0===e&&0===f&&0===g&&0===h?this.computeCollinearIntersection(a,b,c,d):(0===e||0===f||0===g||0===h?(this._isProper=!1,a.equals2D(c)||a.equals2D(d)?this.intPt[0]=a:b.equals2D(c)||b.equals2D(d)?this.intPt[0]=b:0===e?this.intPt[0]=new Oc(c):0===f?this.intPt[0]=new Oc(d):0===g?this.intPt[0]=new Oc(a):0===h&&(this.intPt[0]=new Oc(b))):(this._isProper=!0,this.intPt[0]=this.intersection(a,b,c,d)),bd.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return cd}}),cd.nearestEndpoint=function(a,b,c,d){var e=a,f=fd.distancePointLine(a,c,d),g=fd.distancePointLine(b,c,d);return g<f&&(f=g,e=b),g=fd.distancePointLine(c,a,b),g<f&&(f=g,e=c),g=fd.distancePointLine(d,a,b),g<f&&(f=g,e=d),e},Jn(dd.prototype,{interfaces_:function(){return[]},getClass:function(){return dd}}),dd.orientationIndex=function(a,b,c){var d=b.x-a.x,e=b.y-a.y,f=c.x-b.x,g=c.y-b.y;return dd.signOfDet2x2(d,e,f,g)},dd.signOfDet2x2=function(a,b,c,d){var e=null,f=null,g=null;if(e=1,0===a||0===d)return 0===b||0===c?0:b>0?c>0?-e:e:c>0?e:-e;if(0===b||0===c)return d>0?a>0?e:-e:a>0?-e:e;if(0<b?0<d?b<=d||(e=-e,f=a,a=c,c=f,f=b,b=d,d=f):b<=-d?(e=-e,c=-c,d=-d):(f=a,a=-c,c=f,f=b,b=-d,d=f):0<d?-b<=d?(e=-e,a=-a,b=-b):(f=-a,a=c,c=f,f=-b,b=d,d=f):b>=d?(a=-a,b=-b,c=-c,d=-d):(e=-e,f=-a,a=-c,c=f,f=-b,b=-d,d=f),0<a){if(!(0<c))return e;if(!(a<=c))return e}else{if(0<c)return-e;if(!(a>=c))return-e;e=-e,a=-a,c=-c}for(;;){if(g=Math.floor(c/a),c-=g*a,(d-=g*b)<0)return-e;if(d>b)return e;if(a>c+c){if(b<d+d)return e}else{if(b>d+d)return-e;c=a-c,d=b-d,e=-e}if(0===d)return 0===c?0:-e;if(0===c)return e;if(g=Math.floor(a/c),a-=g*c,(b-=g*d)<0)return e;if(b>d)return-e;if(c>a+a){if(d<b+b)return-e}else{if(d>b+b)return e;a=c-a,b=d-b,e=-e}if(0===b)return 0===a?0:e;if(0===a)return-e}},Jn(ed.prototype,{countSegment:function(a,b){if(a.x<this.p.x&&b.x<this.p.x)return null;if(this.p.x===b.x&&this.p.y===b.y)return this.isPointOnSegment=!0,null;if(a.y===this.p.y&&b.y===this.p.y){var c=a.x,d=b.x;return c>d&&(c=b.x,d=a.x),this.p.x>=c&&this.p.x<=d&&(this.isPointOnSegment=!0),null}if(a.y>this.p.y&&b.y<=this.p.y||b.y>this.p.y&&a.y<=this.p.y){var e=a.x-this.p.x,f=a.y-this.p.y,g=b.x-this.p.x,h=b.y-this.p.y,i=dd.signOfDet2x2(e,f,g,h);if(0===i)return this.isPointOnSegment=!0,null;h<f&&(i=-i),i>0&&this.crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==Fc.EXTERIOR},getLocation:function(){return this.isPointOnSegment?Fc.BOUNDARY:this.crossingCount%2==1?Fc.INTERIOR:Fc.EXTERIOR},isOnSegment:function(){return this.isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return ed}}),ed.locatePointInRing=function(){if(arguments[0]instanceof Oc&&In(arguments[1],Cc)){for(var a=arguments[0],b=arguments[1],c=new ed(a),d=new Oc,e=new Oc,f=1;f<b.size();f++)if(b.getCoordinate(f,d),b.getCoordinate(f-1,e),c.countSegment(d,e),c.isOnSegment())return c.getLocation();return c.getLocation()}if(arguments[0]instanceof Oc&&arguments[1]instanceof Array){for(var a=arguments[0],b=arguments[1],c=new ed(a),f=1;f<b.length;f++){var d=b[f],e=b[f-1];if(c.countSegment(d,e),c.isOnSegment())return c.getLocation()}return c.getLocation()}},Jn(fd.prototype,{interfaces_:function(){return[]},getClass:function(){return fd}}),fd.orientationIndex=function(a,b,c){return Vc.orientationIndex(a,b,c)},fd.signedArea=function(){if(arguments[0]instanceof Array){var a=arguments[0];if(a.length<3)return 0;for(var b=0,c=a[0].x,d=1;d<a.length-1;d++){var e=a[d].x-c,f=a[d+1].y;b+=e*(a[d-1].y-f)}return b/2}if(In(arguments[0],Cc)){var a=arguments[0],g=a.size();if(g<3)return 0;var h=new Oc,i=new Oc,j=new Oc;a.getCoordinate(0,i),a.getCoordinate(1,j);var c=i.x;j.x-=c;for(var b=0,d=1;d<g-1;d++)h.y=i.y,i.x=j.x,i.y=j.y,a.getCoordinate(d+1,j),j.x-=c,b+=i.x*(h.y-j.y);return b/2}},fd.distanceLineLine=function(a,b,c,d){if(a.equals(b))return fd.distancePointLine(a,c,d);if(c.equals(d))return fd.distancePointLine(d,a,b);var e=!1;if($c.intersects(a,b,c,d)){var f=(b.x-a.x)*(d.y-c.y)-(b.y-a.y)*(d.x-c.x);if(0===f)e=!0;else{var g=(a.y-c.y)*(d.x-c.x)-(a.x-c.x)*(d.y-c.y),h=(a.y-c.y)*(b.x-a.x)-(a.x-c.x)*(b.y-a.y),i=h/f,j=g/f;(j<0||j>1||i<0||i>1)&&(e=!0)}}else e=!0;return e?Qc.min(fd.distancePointLine(a,c,d),fd.distancePointLine(b,c,d),fd.distancePointLine(c,a,b),fd.distancePointLine(d,a,b)):0},fd.isPointInRing=function(a,b){return fd.locatePointInRing(a,b)!==Fc.EXTERIOR},fd.computeLength=function(a){var b=a.size();if(b<=1)return 0;var c=0,d=new Oc;a.getCoordinate(0,d);for(var e=d.x,f=d.y,g=1;g<b;g++){a.getCoordinate(g,d);var h=d.x,i=d.y,j=h-e,k=i-f;c+=Math.sqrt(j*j+k*k),e=h,f=i}return c},fd.isCCW=function(a){var b=a.length-1;if(b<3)throw new Ec("Ring has fewer than 4 points, so orientation cannot be determined");for(var c=a[0],d=0,e=1;e<=b;e++){var f=a[e];f.y>c.y&&(c=f,d=e)}var g=d;do{(g-=1)<0&&(g=b)}while(a[g].equals2D(c)&&g!==d);var h=d;do{h=(h+1)%b}while(a[h].equals2D(c)&&h!==d);var i=a[g],j=a[h];if(i.equals2D(c)||j.equals2D(c)||i.equals2D(j))return!1;var k=fd.computeOrientation(i,c,j);return 0===k?i.x>j.x:k>0},fd.locatePointInRing=function(a,b){return ed.locatePointInRing(a,b)},fd.distancePointLinePerpendicular=function(a,b,c){var d=(c.x-b.x)*(c.x-b.x)+(c.y-b.y)*(c.y-b.y),e=((b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y))/d;return Math.abs(e)*Math.sqrt(d)},fd.computeOrientation=function(a,b,c){return fd.orientationIndex(a,b,c)},fd.distancePointLine=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(0===b.length)throw new Ec("Line array must contain at least one vertex");for(var c=a.distance(b[0]),d=0;d<b.length-1;d++){var e=fd.distancePointLine(a,b[d],b[d+1]);e<c&&(c=e)}return c}if(3===arguments.length){var a=arguments[0],f=arguments[1],g=arguments[2];if(f.x===g.x&&f.y===g.y)return a.distance(f);var h=(g.x-f.x)*(g.x-f.x)+(g.y-f.y)*(g.y-f.y),i=((a.x-f.x)*(g.x-f.x)+(a.y-f.y)*(g.y-f.y))/h;if(i<=0)return a.distance(f);if(i>=1)return a.distance(g);var j=((f.y-a.y)*(g.x-f.x)-(f.x-a.x)*(g.y-f.y))/h;return Math.abs(j)*Math.sqrt(h)}},fd.isOnLine=function(a,b){for(var c=new cd,d=1;d<b.length;d++){var e=b[d-1],f=b[d];if(c.computeIntersection(a,e,f),c.hasIntersection())return!0}return!1},fd.CLOCKWISE=-1,fd.RIGHT=fd.CLOCKWISE,fd.COUNTERCLOCKWISE=1,fd.LEFT=fd.COUNTERCLOCKWISE,fd.COLLINEAR=0,fd.STRAIGHT=fd.COLLINEAR,Jn(gd.prototype,{filter:function(a){},interfaces_:function(){return[]},getClass:function(){return gd}}),Jn(hd.prototype,{isGeometryCollection:function(){return this.getSortIndex()===hd.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this.factory},getGeometryN:function(a){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(1===arguments.length){if(arguments[0]instanceof hd){var a=arguments[0];return null!==a&&this.equalsTopo(a)}if(arguments[0]instanceof Object){var b=arguments[0];if(!(b instanceof hd))return!1;var a=b;return this.equalsExact(a)}}},equalsExact:function(a){return this===a||this.equalsExact(a,0)},geometryChanged:function(){this.apply(hd.geometryChangedFilter)},geometryChangedAction:function(){this.envelope=null},equalsNorm:function(a){return null!==a&&this.norm().equalsExact(a.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(1===arguments.length){var a=arguments[0],b=a;return this.getSortIndex()!==b.getSortIndex()?this.getSortIndex()-b.getSortIndex():this.isEmpty()&&b.isEmpty()?0:this.isEmpty()?-1:b.isEmpty()?1:this.compareToSameClass(a)}if(2===arguments.length){var a=arguments[0],c=arguments[1],b=a;return this.getSortIndex()!==b.getSortIndex()?this.getSortIndex()-b.getSortIndex():this.isEmpty()&&b.isEmpty()?0:this.isEmpty()?-1:b.isEmpty()?1:this.compareToSameClass(a,c)}},getUserData:function(){return this.userData},getSRID:function(){return this.SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(a){if(a.getSortIndex()===hd.SORTINDEX_GEOMETRYCOLLECTION)throw new Ec("This method does not support GeometryCollection arguments")},equal:function(a,b,c){return 0===c?a.equals(b):a.distance(b)<=c},norm:function(){var a=this.copy();return a.normalize(),a},getPrecisionModel:function(){return this.factory.getPrecisionModel()},getEnvelopeInternal:function(){return null===this.envelope&&(this.envelope=this.computeEnvelopeInternal()),new $c(this.envelope)},setSRID:function(a){this.SRID=a},setUserData:function(a){this.userData=a},compare:function(a,b){for(var c=a.iterator(),d=b.iterator();c.hasNext()&&d.hasNext();){var e=c.next(),f=d.next(),g=e.compareTo(f);if(0!==g)return g}return c.hasNext()?1:d.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===hd.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===hd.SORTINDEX_MULTIPOINT||this.getSortIndex()===hd.SORTINDEX_MULTILINESTRING||this.getSortIndex()===hd.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[Bc,Ic,Kc]},getClass:function(){return hd}}),hd.hasNonEmptyElements=function(a){for(var b=0;b<a.length;b++)if(!a[b].isEmpty())return!0;return!1},hd.hasNullElements=function(a){for(var b=0;b<a.length;b++)if(null===a[b])return!0;return!1},hd.serialVersionUID=0x799ea46522854c00,hd.SORTINDEX_POINT=0,hd.SORTINDEX_MULTIPOINT=1,hd.SORTINDEX_LINESTRING=2,hd.SORTINDEX_LINEARRING=3,hd.SORTINDEX_MULTILINESTRING=4,hd.SORTINDEX_POLYGON=5,hd.SORTINDEX_MULTIPOLYGON=6,hd.SORTINDEX_GEOMETRYCOLLECTION=7,hd.geometryChangedFilter={interfaces_:function(){return[gd]},filter:function(a){a.geometryChangedAction()}},Jn(id.prototype,{filter:function(a){},interfaces_:function(){return[]},getClass:function(){return id}}),Jn(jd.prototype,{isInBoundary:function(a){},interfaces_:function(){return[]},getClass:function(){return jd}}),Jn(kd.prototype,{isInBoundary:function(a){return a%2==1},interfaces_:function(){return[jd]},getClass:function(){return kd}}),Jn(ld.prototype,{isInBoundary:function(a){return a>0},interfaces_:function(){return[jd]},getClass:function(){return ld}}),Jn(md.prototype,{isInBoundary:function(a){return a>1},interfaces_:function(){return[jd]},getClass:function(){return md}}),Jn(nd.prototype,{isInBoundary:function(a){return 1===a},interfaces_:function(){return[jd]},getClass:function(){return nd}}),jd.Mod2BoundaryNodeRule=kd,jd.EndPointBoundaryNodeRule=ld,jd.MultiValentEndPointBoundaryNodeRule=md,jd.MonoValentEndPointBoundaryNodeRule=nd,jd.MOD2_BOUNDARY_RULE=new kd,jd.ENDPOINT_BOUNDARY_RULE=new ld,jd.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new md,jd.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new nd,jd.OGC_SFS_BOUNDARY_RULE=jd.MOD2_BOUNDARY_RULE,od.prototype.hasNext=function(){},od.prototype.next=function(){},od.prototype.remove=function(){},pd.prototype.add=function(){},pd.prototype.addAll=function(){},pd.prototype.isEmpty=function(){},pd.prototype.iterator=function(){},pd.prototype.size=function(){},pd.prototype.toArray=function(){},pd.prototype.remove=function(){},qd.prototype=new Error,qd.prototype.name="IndexOutOfBoundsException",rd.prototype=Object.create(pd.prototype),rd.prototype.constructor=rd,rd.prototype.get=function(){},rd.prototype.set=function(){},rd.prototype.isEmpty=function(){},sd.prototype=new Error,sd.prototype.name="NoSuchElementException",td.prototype=new Error,td.prototype.name="OperationNotSupported",ud.prototype=Object.create(rd.prototype),ud.prototype.constructor=ud,ud.prototype.ensureCapacity=function(){},ud.prototype.interfaces_=function(){return[rd,pd]},ud.prototype.add=function(a){return 1===arguments.length?this.array_.push(a):this.array_.splice(arguments[0],arguments[1]),!0},ud.prototype.clear=function(){this.array_=[]},ud.prototype.addAll=function(a){for(var b=a.iterator();b.hasNext();)this.add(b.next());return!0},ud.prototype.set=function(a,b){var c=this.array_[a];return this.array_[a]=b,c},ud.prototype.iterator=function(){return new On(this)},ud.prototype.get=function(a){if(a<0||a>=this.size())throw new qd;return this.array_[a]},ud.prototype.isEmpty=function(){return 0===this.array_.length},ud.prototype.size=function(){return this.array_.length},ud.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a},ud.prototype.remove=function(a){for(var b=!1,c=0,d=this.array_.length;c<d;c++)if(this.array_[c]===a){this.array_.splice(c,1),b=!0;break}return b};var On=function(a){this.arrayList_=a,this.position_=0};On.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new sd;return this.arrayList_.get(this.position_++)},On.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},On.prototype.set=function(a){return this.arrayList_.set(this.position_-1,a)},On.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},Kn(vd,ud),Jn(vd.prototype,{getCoordinate:function(a){return this.get(a)},addAll:function(){if(2===arguments.length){for(var a=arguments[0],b=arguments[1],c=!1,d=a.iterator();d.hasNext();)this.add(d.next(),b),c=!0;return c}return ud.prototype.addAll.apply(this,arguments)},clone:function(){for(var a=ud.prototype.clone.call(this),b=0;b<this.size();b++)a.add(b,this.get(b).copy());return a},toCoordinateArray:function(){return this.toArray(vd.coordArrayType)},add:function(){if(1===arguments.length){var a=arguments[0];ud.prototype.add.call(this,a)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],b=arguments[1];return this.add(a,b,!0),!0}if(arguments[0]instanceof Oc&&"boolean"==typeof arguments[1]){var a=arguments[0],b=arguments[1];if(!b&&this.size()>=1){var c=this.get(this.size()-1);if(c.equals2D(a))return null}ud.prototype.add.call(this,a)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var d=arguments[0],b=arguments[1];return this.add(d,b),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],b=arguments[1],e=arguments[2];if(e)for(var f=0;f<a.length;f++)this.add(a[f],b);else for(var f=a.length-1;f>=0;f--)this.add(a[f],b);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof Oc){var f=arguments[0],a=arguments[1],b=arguments[2];if(!b){var g=this.size();if(g>0){if(f>0){var h=this.get(f-1);if(h.equals2D(a))return null}if(f<g){var i=this.get(f);if(i.equals2D(a))return null}}}ud.prototype.add.call(this,f,a)}}else if(4===arguments.length){var a=arguments[0],b=arguments[1],j=arguments[2],k=arguments[3],l=1;j>k&&(l=-1);for(var f=j;f!==k;f+=l)this.add(a[f],b);return!0}},closeRing:function(){this.size()>0&&this.add(new Oc(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return vd}}),vd.coordArrayType=new Array(0).fill(null),Jn(wd.prototype,{interfaces_:function(){return[]},getClass:function(){return wd}}),wd.isRing=function(a){return!(a.length<4)&&!!a[0].equals2D(a[a.length-1])},wd.ptNotInList=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(wd.indexOf(d,b)<0)return d}return null},wd.scroll=function(a,b){var c=wd.indexOf(b,a);if(c<0)return null;var d=new Array(a.length).fill(null);Yc.arraycopy(a,c,d,0,a.length-c),Yc.arraycopy(a,0,d,a.length-c,c),Yc.arraycopy(d,0,a,0,a.length)},wd.equals=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(a===b)return!0;if(null===a||null===b)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(!a[c].equals(b[c]))return!1;return!0}if(3===arguments.length){var a=arguments[0],b=arguments[1],d=arguments[2];if(a===b)return!0;if(null===a||null===b)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(0!==d.compare(a[c],b[c]))return!1;return!0}},wd.intersection=function(a,b){for(var c=new vd,d=0;d<a.length;d++)b.intersects(a[d])&&c.add(a[d],!0);return c.toCoordinateArray()},wd.hasRepeatedPoints=function(a){for(var b=1;b<a.length;b++)if(a[b-1].equals(a[b]))return!0;return!1},wd.removeRepeatedPoints=function(a){return wd.hasRepeatedPoints(a)?new vd(a,!1).toCoordinateArray():a},wd.reverse=function(a){for(var b=a.length-1,c=Math.trunc(b/2),d=0;d<=c;d++){var e=a[d];a[d]=a[b-d],a[b-d]=e}},wd.removeNull=function(a){for(var b=0,c=0;c<a.length;c++)null!==a[c]&&b++;var d=new Array(b).fill(null);if(0===b)return d;for(var e=0,c=0;c<a.length;c++)null!==a[c]&&(d[e++]=a[c]);return d},wd.copyDeep=function(){if(1===arguments.length){for(var a=arguments[0],b=new Array(a.length).fill(null),c=0;c<a.length;c++)b[c]=new Oc(a[c]);return b}if(5===arguments.length)for(var d=arguments[0],e=arguments[1],f=arguments[2],g=arguments[3],h=arguments[4],c=0;c<h;c++)f[g+c]=new Oc(d[e+c])},wd.isEqualReversed=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=b[a.length-c-1];if(0!==d.compareTo(e))return!1}return!0},wd.envelope=function(a){for(var b=new $c,c=0;c<a.length;c++)b.expandToInclude(a[c]);return b},wd.toCoordinateArray=function(a){return a.toArray(wd.coordArrayType)},wd.atLeastNCoordinatesOrNothing=function(a,b){return b.length>=a?b:[]},wd.indexOf=function(a,b){for(var c=0;c<b.length;c++)if(a.equals(b[c]))return c;return-1},wd.increasingDirection=function(a){for(var b=0;b<Math.trunc(a.length/2);b++){var c=a.length-1-b,d=a[b].compareTo(a[c]);if(0!==d)return d}return 1},wd.compare=function(a,b){for(var c=0;c<a.length&&c<b.length;){var d=a[c].compareTo(b[c]);if(0!==d)return d;c++}return c<b.length?-1:c<a.length?1:0},wd.minCoordinate=function(a){for(var b=null,c=0;c<a.length;c++)(null===b||b.compareTo(a[c])>0)&&(b=a[c]);return b},wd.extract=function(a,b,c){b=Qc.clamp(b,0,a.length),c=Qc.clamp(c,-1,a.length);var d=c-b+1;c<0&&(d=0),b>=a.length&&(d=0),c<b&&(d=0);var e=new Array(d).fill(null);if(0===d)return e;for(var f=0,g=b;g<=c;g++)e[f++]=a[g];return e},Jn(xd.prototype,{compare:function(a,b){var c=a,d=b;return wd.compare(c,d)},interfaces_:function(){return[Jc]},getClass:function(){return xd}}),Jn(yd.prototype,{compare:function(a,b){var c=a,d=b;if(c.length<d.length)return-1;if(c.length>d.length)return 1;if(0===c.length)return 0;var e=wd.compare(c,d);return wd.isEqualReversed(c,d)?0:e},OLDcompare:function(a,b){var c=a,d=b;if(c.length<d.length)return-1;if(c.length>d.length)return 1;if(0===c.length)return 0;for(var e=wd.increasingDirection(c),f=wd.increasingDirection(d),g=e>0?0:c.length-1,h=f>0?0:c.length-1,i=0;i<c.length;i++){var j=c[g].compareTo(d[h]);if(0!==j)return j;g+=e,h+=f}return 0},interfaces_:function(){return[Jc]},getClass:function(){return yd}}),wd.ForwardComparator=xd,wd.BidirectionalComparator=yd,wd.coordArrayType=new Array(0).fill(null),zd.prototype.get=function(){},zd.prototype.put=function(){},zd.prototype.size=function(){},zd.prototype.values=function(){},zd.prototype.entrySet=function(){},Ad.prototype=new zd,Bd.prototype=new pd,Bd.prototype.contains=function(){},Cd.prototype=new Bd,Cd.prototype.contains=function(a){for(var b=0,c=this.array_.length;b<c;b++){if(this.array_[b]===a)return!0}return!1},Cd.prototype.add=function(a){return!this.contains(a)&&(this.array_.push(a),!0)},Cd.prototype.addAll=function(a){for(var b=a.iterator();b.hasNext();)this.add(b.next());return!0},Cd.prototype.remove=function(a){throw new javascript.util.OperationNotSupported},Cd.prototype.size=function(){return this.array_.length},Cd.prototype.isEmpty=function(){return 0===this.array_.length},Cd.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a},Cd.prototype.iterator=function(){return new Pn(this)};var Pn=function(a){this.hashSet_=a,this.position_=0};Pn.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new sd;return this.hashSet_.array_[this.position_++]},Pn.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},Pn.prototype.remove=function(){throw new td};var Qn=0,Rn=1;Id.prototype=new Ad,Id.prototype.get=function(a){for(var b=this.root_;null!==b;){var c=a.compareTo(b.key);if(c<0)b=b.left;else{if(!(c>0))return b.value;b=b.right}}return null},Id.prototype.put=function(a,b){if(null===this.root_)return this.root_={key:a,value:b,left:null,right:null,parent:null,color:Qn,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var c,d,e=this.root_;do{if(c=e,(d=a.compareTo(e.key))<0)e=e.left;else{if(!(d>0)){var f=e.value;return e.value=b,f}e=e.right}}while(null!==e);var g={key:a,left:null,right:null,value:b,parent:c,color:Qn,getValue:function(){return this.value},getKey:function(){return this.key}};return d<0?c.left=g:c.right=g,this.fixAfterInsertion(g),this.size_++,null},Id.prototype.fixAfterInsertion=function(a){for(a.color=Rn;null!=a&&a!=this.root_&&a.parent.color==Rn;)if(Ed(a)==Gd(Ed(Ed(a)))){var b=Hd(Ed(Ed(a)));Dd(b)==Rn?(Fd(Ed(a),Qn),Fd(b,Qn),Fd(Ed(Ed(a)),Rn),a=Ed(Ed(a))):(a==Hd(Ed(a))&&(a=Ed(a),this.rotateLeft(a)),Fd(Ed(a),Qn),Fd(Ed(Ed(a)),Rn),this.rotateRight(Ed(Ed(a))))}else{var b=Gd(Ed(Ed(a)));Dd(b)==Rn?(Fd(Ed(a),Qn),Fd(b,Qn),Fd(Ed(Ed(a)),Rn),a=Ed(Ed(a))):(a==Gd(Ed(a))&&(a=Ed(a),this.rotateRight(a)),Fd(Ed(a),Qn),Fd(Ed(Ed(a)),Rn),this.rotateLeft(Ed(Ed(a))))}this.root_.color=Qn},Id.prototype.values=function(){var a=new ud,b=this.getFirstEntry();if(null!==b)for(a.add(b.value);null!==(b=Id.successor(b));)a.add(b.value);return a},Id.prototype.entrySet=function(){var a=new Cd,b=this.getFirstEntry();if(null!==b)for(a.add(b);null!==(b=Id.successor(b));)a.add(b);return a},Id.prototype.rotateLeft=function(a){if(null!=a){var b=a.right;a.right=b.left,null!=b.left&&(b.left.parent=a),b.parent=a.parent,null==a.parent?this.root_=b:a.parent.left==a?a.parent.left=b:a.parent.right=b,b.left=a,a.parent=b}},Id.prototype.rotateRight=function(a){if(null!=a){var b=a.left;a.left=b.right,null!=b.right&&(b.right.parent=a),b.parent=a.parent,null==a.parent?this.root_=b:a.parent.right==a?a.parent.right=b:a.parent.left=b,b.right=a,a.parent=b}},Id.prototype.getFirstEntry=function(){var a=this.root_;if(null!=a)for(;null!=a.left;)a=a.left;return a},Id.successor=function(a){if(null===a)return null;if(null!==a.right){for(var b=a.right;null!==b.left;)b=b.left;return b}for(var b=a.parent,c=a;null!==b&&c===b.right;)c=b,b=b.parent;return b},Id.prototype.size=function(){return this.size_},Jn(Jd.prototype,{interfaces_:function(){return[]},getClass:function(){return Jd}}),Kd.prototype=new Bd,Ld.prototype=new Kd,Ld.prototype.contains=function(a){for(var b=0,c=this.array_.length;b<c;b++){if(0===this.array_[b].compareTo(a))return!0}return!1},Ld.prototype.add=function(a){if(this.contains(a))return!1;for(var b=0,c=this.array_.length;b<c;b++){if(1===this.array_[b].compareTo(a))return this.array_.splice(b,0,a),!0}return this.array_.push(a),!0},Ld.prototype.addAll=function(a){for(var b=a.iterator();b.hasNext();)this.add(b.next());return!0},Ld.prototype.remove=function(a){throw new td},Ld.prototype.size=function(){return this.array_.length},Ld.prototype.isEmpty=function(){return 0===this.array_.length},Ld.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a},Ld.prototype.iterator=function(){return new Sn(this)};var Sn=function(a){this.treeSet_=a,this.position_=0};Sn.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new sd;return this.treeSet_.array_[this.position_++]},Sn.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Sn.prototype.remove=function(){throw new td},Md.sort=function(){var a,b,c,d,e=arguments[0];if(1===arguments.length)return d=function(a,b){return a.compareTo(b)},void e.sort(d);if(2===arguments.length)c=arguments[1],d=function(a,b){return c.compare(a,b)},e.sort(d);else{if(3===arguments.length){b=e.slice(arguments[1],arguments[2]),b.sort();var f=e.slice(0,arguments[1]).concat(b,e.slice(arguments[2],e.length));for(e.splice(0,e.length),a=0;a<f.length;a++)e.push(f[a]);return}if(4===arguments.length){for(b=e.slice(arguments[1],arguments[2]),c=arguments[3],d=function(a,b){return c.compare(a,b)},b.sort(d),f=e.slice(0,arguments[1]).concat(b,e.slice(arguments[2],e.length)),e.splice(0,e.length),a=0;a<f.length;a++)e.push(f[a]);return}}},Md.asList=function(a){for(var b=new ud,c=0,d=a.length;c<d;c++)b.add(a[c]);return b},Jn(Nd.prototype,{interfaces_:function(){return[]},getClass:function(){return Nd}}),Nd.toDimensionSymbol=function(a){switch(a){case Nd.FALSE:return Nd.SYM_FALSE;case Nd.TRUE:return Nd.SYM_TRUE;case Nd.DONTCARE:return Nd.SYM_DONTCARE;case Nd.P:return Nd.SYM_P;case Nd.L:return Nd.SYM_L;case Nd.A:return Nd.SYM_A}throw new Ec("Unknown dimension value: "+a)},Nd.toDimensionValue=function(a){switch(Tc.toUpperCase(a)){case Nd.SYM_FALSE:return Nd.FALSE;case Nd.SYM_TRUE:return Nd.TRUE;case Nd.SYM_DONTCARE:return Nd.DONTCARE;case Nd.SYM_P:return Nd.P;case Nd.SYM_L:return Nd.L;case Nd.SYM_A:return Nd.A}throw new Ec("Unknown dimension symbol: "+a)},Nd.P=0,Nd.L=1,Nd.A=2,Nd.FALSE=-1,Nd.TRUE=-2,Nd.DONTCARE=-3,Nd.SYM_FALSE="F",Nd.SYM_TRUE="T",Nd.SYM_DONTCARE="*",Nd.SYM_P="0",Nd.SYM_L="1",Nd.SYM_A="2",Jn(Od.prototype,{filter:function(a){},interfaces_:function(){return[]},getClass:function(){return Od}}),Jn(Pd.prototype,{filter:function(a,b){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return Pd}}),Kn(Qd,hd),Jn(Qd.prototype,{computeEnvelopeInternal:function(){for(var a=new $c,b=0;b<this.geometries.length;b++)a.expandToInclude(this.geometries[b].getEnvelopeInternal());return a},getGeometryN:function(a){return this.geometries[a]},getSortIndex:function(){return hd.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var a=new Array(this.getNumPoints()).fill(null),b=-1,c=0;c<this.geometries.length;c++)for(var d=this.geometries[c].getCoordinates(),e=0;e<d.length;e++)b++,a[b]=d[e];return a},getArea:function(){for(var a=0,b=0;b<this.geometries.length;b++)a+=this.geometries[b].getArea();return a},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(!this.isEquivalentClass(a))return!1;var c=a;if(this.geometries.length!==c.geometries.length)return!1;for(var d=0;d<this.geometries.length;d++)if(!this.geometries[d].equalsExact(c.geometries[d],b))return!1;return!0}return hd.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var a=0;a<this.geometries.length;a++)this.geometries[a].normalize();Md.sort(this.geometries)},getCoordinate:function(){return this.isEmpty()?null:this.geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var a=Nd.FALSE,b=0;b<this.geometries.length;b++)a=Math.max(a,this.geometries[b].getBoundaryDimension());return a},getDimension:function(){for(var a=Nd.FALSE,b=0;b<this.geometries.length;b++)a=Math.max(a,this.geometries[b].getDimension());return a},getLength:function(){for(var a=0,b=0;b<this.geometries.length;b++)a+=this.geometries[b].getLength();return a},getNumPoints:function(){for(var a=0,b=0;b<this.geometries.length;b++)a+=this.geometries[b].getNumPoints();return a},getNumGeometries:function(){return this.geometries.length},reverse:function(){for(var a=this.geometries.length,b=new Array(a).fill(null),c=0;c<this.geometries.length;c++)b[c]=this.geometries[c].reverse();return this.getFactory().createGeometryCollection(b)},compareToSameClass:function(){if(1===arguments.length){var a=arguments[0],b=new Ld(Md.asList(this.geometries)),c=new Ld(Md.asList(a.geometries));return this.compare(b,c)}if(2===arguments.length){for(var a=arguments[0],d=arguments[1],e=a,f=this.getNumGeometries(),g=e.getNumGeometries(),h=0;h<f&&h<g;){var i=this.getGeometryN(h),j=e.getGeometryN(h),k=i.compareToSameClass(j,d);if(0!==k)return k;h++}return h<f?1:h<g?-1:0}},apply:function(){if(In(arguments[0],id))for(var a=arguments[0],b=0;b<this.geometries.length;b++)this.geometries[b].apply(a);else if(In(arguments[0],Pd)){var a=arguments[0];if(0===this.geometries.length)return null;for(var b=0;b<this.geometries.length&&(this.geometries[b].apply(a),!a.isDone());b++);a.isGeometryChanged()&&this.geometryChanged()}else if(In(arguments[0],Od)){var a=arguments[0];a.filter(this);for(var b=0;b<this.geometries.length;b++)this.geometries[b].apply(a)}else if(In(arguments[0],gd)){var a=arguments[0];a.filter(this);for(var b=0;b<this.geometries.length;b++)this.geometries[b].apply(a)}},getBoundary:function(){return this.checkNotGeometryCollection(this),Nc.shouldNeverReachHere(),null},clone:function(){var a=hd.prototype.clone.call(this);a.geometries=new Array(this.geometries.length).fill(null);for(var b=0;b<this.geometries.length;b++)a.geometries[b]=this.geometries[b].clone();return a},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var a=new Array(this.geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this.geometries[b].copy();return new Qd(a,this.factory)},isEmpty:function(){for(var a=0;a<this.geometries.length;a++)if(!this.geometries[a].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return Qd}}),Qd.serialVersionUID=-0x4f07bcb1f857d800,Kn(Rd,Qd),Jn(Rd.prototype,{getSortIndex:function(){return hd.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return!!this.isEquivalentClass(a)&&Qd.prototype.equalsExact.call(this,a,b)}return Qd.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?Nd.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var a=0;a<this.geometries.length;a++)if(!this.geometries[a].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var a=this.geometries.length,b=new Array(a).fill(null),c=0;c<this.geometries.length;c++)b[a-1-c]=this.geometries[c].reverse();return this.getFactory().createMultiLineString(b)},getBoundary:function(){return new Sd(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){for(var a=new Array(this.geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this.geometries[b].copy();return new Rd(a,this.factory)},interfaces_:function(){return[Jd]},getClass:function(){return Rd}}),Rd.serialVersionUID=0x7155d2ab4afa8000,Jn(Sd.prototype,{boundaryMultiLineString:function(a){if(this.geom.isEmpty())return this.getEmptyMultiPoint();var b=this.computeBoundaryCoordinates(a);return 1===b.length?this.geomFact.createPoint(b[0]):this.geomFact.createMultiPointFromCoords(b)},getBoundary:function(){return this.geom instanceof ae?this.boundaryLineString(this.geom):this.geom instanceof Rd?this.boundaryMultiLineString(this.geom):this.geom.getBoundary()},boundaryLineString:function(a){if(this.geom.isEmpty())return this.getEmptyMultiPoint();if(a.isClosed()){return this.bnRule.isInBoundary(2)?a.getStartPoint():this.geomFact.createMultiPoint()}return this.geomFact.createMultiPoint([a.getStartPoint(),a.getEndPoint()])},getEmptyMultiPoint:function(){return this.geomFact.createMultiPoint()},computeBoundaryCoordinates:function(a){var b=new ud;this.endpointMap=new Id;for(var c=0;c<a.getNumGeometries();c++){var d=a.getGeometryN(c);0!==d.getNumPoints()&&(this.addEndpoint(d.getCoordinateN(0)),this.addEndpoint(d.getCoordinateN(d.getNumPoints()-1)))}for(var e=this.endpointMap.entrySet().iterator();e.hasNext();){var f=e.next(),g=f.getValue(),h=g.count;this.bnRule.isInBoundary(h)&&b.add(f.getKey())}return wd.toCoordinateArray(b)},addEndpoint:function(a){var b=this.endpointMap.get(a);null===b&&(b=new Td,this.endpointMap.put(a,b)),b.count++},interfaces_:function(){return[]},getClass:function(){return Sd}}),Sd.getBoundary=function(){if(1===arguments.length){var a=arguments[0],b=new Sd(a);return b.getBoundary()}if(2===arguments.length){var a=arguments[0],c=arguments[1],b=new Sd(a,c);return b.getBoundary()}},Jn(Td.prototype,{interfaces_:function(){return[]},getClass:function(){return Td}}),Jn($d.prototype,{interfaces_:function(){return[]},getClass:function(){return $d}}),$d.chars=function(a,b){for(var c=new Array(b).fill(null),d=0;d<b;d++)c[d]=a;return new String(c)},$d.getStackTrace=function(){if(1===arguments.length){var a=arguments[0],b=new Xd,c=new Ud(b);return a.printStackTrace(c),b.toString()}if(2===arguments.length){for(var a=arguments[0],d=arguments[1],e="",f=new Vd($d.getStackTrace(a)),g=new Zd(f),h=0;h<d;h++)try{e+=g.readLine()+$d.NEWLINE}catch(a){if(!(a instanceof Yd))throw a;Nc.shouldNeverReachHere()}return e}},$d.split=function(a,b){for(var c=b.length,d=new ud,e=""+a,f=e.indexOf(b);f>=0;){var g=e.substring(0,f);d.add(g),e=e.substring(f+c),f=e.indexOf(b)}e.length>0&&d.add(e);for(var h=new Array(d.size()).fill(null),i=0;i<h.length;i++)h[i]=d.get(i);return h},$d.toString=function(){if(1===arguments.length){var a=arguments[0];return $d.SIMPLE_ORDINATE_FORMAT.format(a)}},$d.spaces=function(a){return $d.chars(" ",a)},$d.NEWLINE=Yc.getProperty("line.separator"),$d.SIMPLE_ORDINATE_FORMAT=new Wd("0.#"),Jn(_d.prototype,{interfaces_:function(){return[]},getClass:function(){return _d}}),_d.copyCoord=function(a,b,c,d){for(var e=Math.min(a.getDimension(),c.getDimension()),f=0;f<e;f++)c.setOrdinate(d,f,a.getOrdinate(b,f))},_d.isRing=function(a){var b=a.size();return 0===b||!(b<=3)&&(a.getOrdinate(0,Cc.X)===a.getOrdinate(b-1,Cc.X)&&a.getOrdinate(0,Cc.Y)===a.getOrdinate(b-1,Cc.Y))},_d.isEqual=function(a,b){var c=a.size();if(c!==b.size())return!1;for(var d=Math.min(a.getDimension(),b.getDimension()),e=0;e<c;e++)for(var f=0;f<d;f++){var g=a.getOrdinate(e,f),h=b.getOrdinate(e,f);if(a.getOrdinate(e,f)!==b.getOrdinate(e,f)&&(!Hc.isNaN(g)||!Hc.isNaN(h)))return!1}return!0},_d.extend=function(a,b,c){var d=a.create(c,b.getDimension()),e=b.size();if(_d.copy(b,0,d,0,e),e>0)for(var f=e;f<c;f++)_d.copy(b,e-1,d,f,1);return d},_d.reverse=function(a){for(var b=a.size()-1,c=Math.trunc(b/2),d=0;d<=c;d++)_d.swap(a,d,b-d)},_d.swap=function(a,b,c){if(b===c)return null;for(var d=0;d<a.getDimension();d++){var e=a.getOrdinate(b,d);a.setOrdinate(b,d,a.getOrdinate(c,d)),a.setOrdinate(c,d,e)}},_d.copy=function(a,b,c,d,e){for(var f=0;f<e;f++)_d.copyCoord(a,b+f,c,d+f)},_d.toString=function(){if(1===arguments.length){var a=arguments[0],b=a.size();if(0===b)return"()";var c=a.getDimension(),d=new Rc;d.append("(");for(var e=0;e<b;e++){e>0&&d.append(" ");for(var f=0;f<c;f++)f>0&&d.append(","),d.append($d.toString(a.getOrdinate(e,f)))}return d.append(")"),d.toString()}},_d.ensureValidRing=function(a,b){var c=b.size();return 0===c?b:c<=3?_d.createClosedRing(a,b,4):b.getOrdinate(0,Cc.X)===b.getOrdinate(c-1,Cc.X)&&b.getOrdinate(0,Cc.Y)===b.getOrdinate(c-1,Cc.Y)?b:_d.createClosedRing(a,b,c+1)},_d.createClosedRing=function(a,b,c){var d=a.create(c,b.getDimension()),e=b.size();_d.copy(b,0,d,0,e);for(var f=e;f<c;f++)_d.copy(b,0,d,f,1);return d},Kn(ae,hd),Jn(ae.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new $c:this.points.expandEnvelope(new $c)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return hd.SORTINDEX_LINESTRING},getCoordinates:function(){return this.points.toCoordinateArray()},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(!this.isEquivalentClass(a))return!1;var c=a;if(this.points.size()!==c.points.size())return!1;for(var d=0;d<this.points.size();d++)if(!this.equal(this.points.getCoordinate(d),c.points.getCoordinate(d),b))return!1;return!0}return hd.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var a=0;a<Math.trunc(this.points.size()/2);a++){var b=this.points.size()-1-a;if(!this.points.getCoordinate(a).equals(this.points.getCoordinate(b)))return this.points.getCoordinate(a).compareTo(this.points.getCoordinate(b))>0&&_d.reverse(this.points),null}},getCoordinate:function(){return this.isEmpty()?null:this.points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?Nd.FALSE:0},isClosed:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return fd.computeLength(this.points)},getNumPoints:function(){return this.points.size()},reverse:function(){var a=this.points.copy();return _d.reverse(a),this.getFactory().createLineString(a)},compareToSameClass:function(){if(1===arguments.length){for(var a=arguments[0],b=a,c=0,d=0;c<this.points.size()&&d<b.points.size();){var e=this.points.getCoordinate(c).compareTo(b.points.getCoordinate(d));if(0!==e)return e;c++,d++}return c<this.points.size()?1:d<b.points.size()?-1:0}if(2===arguments.length){var a=arguments[0],f=arguments[1],b=a;return f.compare(this.points,b.points)}},apply:function(){if(In(arguments[0],id))for(var a=arguments[0],b=0;b<this.points.size();b++)a.filter(this.points.getCoordinate(b));else if(In(arguments[0],Pd)){var a=arguments[0];if(0===this.points.size())return null;for(var b=0;b<this.points.size()&&(a.filter(this.points,b),!a.isDone());b++);a.isGeometryChanged()&&this.geometryChanged()}else if(In(arguments[0],Od)){var a=arguments[0];a.filter(this)}else if(In(arguments[0],gd)){var a=arguments[0];a.filter(this)}},getBoundary:function(){return new Sd(this).getBoundary()},isEquivalentClass:function(a){return a instanceof ae},clone:function(){var a=hd.prototype.clone.call(this);return a.points=this.points.clone(),a},getCoordinateN:function(a){return this.points.getCoordinate(a)},getGeometryType:function(){return"LineString"},copy:function(){return new ae(this.points.copy(),this.factory)},getCoordinateSequence:function(){return this.points},isEmpty:function(){return 0===this.points.size()},init:function(a){if(null===a&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),1===a.size())throw new Ec("Invalid number of points in LineString (found "+a.size()+" - must be 0 or >= 2)");this.points=a},isCoordinate:function(a){for(var b=0;b<this.points.size();b++)if(this.points.getCoordinate(b).equals(a))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(a){return this.getFactory().createPoint(this.points.getCoordinate(a))},interfaces_:function(){return[Jd]},getClass:function(){return ae}}),ae.serialVersionUID=0x2b2b51ba435c8e00,Jn(be.prototype,{interfaces_:function(){return[]},getClass:function(){return be}}),Kn(ce,hd),Jn(ce.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new $c;var a=new $c;return a.expandToInclude(this.coordinates.getX(0),this.coordinates.getY(0)),a},getSortIndex:function(){return hd.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return!!this.isEquivalentClass(a)&&(!(!this.isEmpty()||!a.isEmpty())||this.isEmpty()===a.isEmpty()&&this.equal(a.getCoordinate(),this.getCoordinate(),b))}return hd.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return 0!==this.coordinates.size()?this.coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return Nd.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(1===arguments.length){var a=arguments[0],b=a;return this.getCoordinate().compareTo(b.getCoordinate())}if(2===arguments.length){var a=arguments[0],c=arguments[1],b=a;return c.compare(this.coordinates,b.coordinates)}},apply:function(){if(In(arguments[0],id)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this.getCoordinate())}else if(In(arguments[0],Pd)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this.coordinates,0),a.isGeometryChanged()&&this.geometryChanged()}else if(In(arguments[0],Od)){var a=arguments[0];a.filter(this)}else if(In(arguments[0],gd)){var a=arguments[0];a.filter(this)}},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var a=hd.prototype.clone.call(this);return a.coordinates=this.coordinates.clone(),a},getGeometryType:function(){return"Point"},copy:function(){return new ce(this.coordinates.copy(),this.factory)},getCoordinateSequence:function(){return this.coordinates},getY:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return 0===this.coordinates.size()},init:function(a){null===a&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),Nc.isTrue(a.size()<=1),this.coordinates=a},isSimple:function(){return!0},interfaces_:function(){return[be]},getClass:function(){return ce}}),ce.serialVersionUID=0x44077bad161cbc00,Jn(de.prototype,{interfaces_:function(){return[]},getClass:function(){return de}}),Kn(ee,hd),Jn(ee.prototype,{computeEnvelopeInternal:function(){return this.shell.getEnvelopeInternal()},getSortIndex:function(){return hd.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var a=new Array(this.getNumPoints()).fill(null),b=-1,c=this.shell.getCoordinates(),d=0;d<c.length;d++)b++,a[b]=c[d];for(var e=0;e<this.holes.length;e++)for(var f=this.holes[e].getCoordinates(),g=0;g<f.length;g++)b++,a[b]=f[g];return a},getArea:function(){var a=0;a+=Math.abs(fd.signedArea(this.shell.getCoordinateSequence()));for(var b=0;b<this.holes.length;b++)a-=Math.abs(fd.signedArea(this.holes[b].getCoordinateSequence()));return a},isRectangle:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this.shell)return!1;if(5!==this.shell.getNumPoints())return!1;for(var a=this.shell.getCoordinateSequence(),b=this.getEnvelopeInternal(),c=0;c<5;c++){var d=a.getX(c);if(d!==b.getMinX()&&d!==b.getMaxX())return!1;var e=a.getY(c);if(e!==b.getMinY()&&e!==b.getMaxY())return!1}for(var f=a.getX(0),g=a.getY(0),c=1;c<=4;c++){var d=a.getX(c),e=a.getY(c);if(d!==f===(e!==g))return!1;f=d,g=e}return!0},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(!this.isEquivalentClass(a))return!1;var c=a,d=this.shell,e=c.shell;if(!d.equalsExact(e,b))return!1;if(this.holes.length!==c.holes.length)return!1;for(var f=0;f<this.holes.length;f++)if(!this.holes[f].equalsExact(c.holes[f],b))return!1;return!0}return hd.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(0===arguments.length){this.normalize(this.shell,!0);for(var a=0;a<this.holes.length;a++)this.normalize(this.holes[a],!1);Md.sort(this.holes)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];if(b.isEmpty())return null;var d=new Array(b.getCoordinates().length-1).fill(null);Yc.arraycopy(b.getCoordinates(),0,d,0,d.length);var e=wd.minCoordinate(b.getCoordinates());wd.scroll(d,e),Yc.arraycopy(d,0,b.getCoordinates(),0,d.length),b.getCoordinates()[d.length]=d[0],fd.isCCW(b.getCoordinates())===c&&wd.reverse(b.getCoordinates())}},getCoordinate:function(){return this.shell.getCoordinate()},getNumInteriorRing:function(){return this.holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var a=0;a+=this.shell.getLength();for(var b=0;b<this.holes.length;b++)a+=this.holes[b].getLength();return a},getNumPoints:function(){for(var a=this.shell.getNumPoints(),b=0;b<this.holes.length;b++)a+=this.holes[b].getNumPoints();return a},reverse:function(){var a=this.copy();a.shell=this.shell.copy().reverse(),a.holes=new Array(this.holes.length).fill(null);for(var b=0;b<this.holes.length;b++)a.holes[b]=this.holes[b].copy().reverse();return a},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(1===arguments.length){var a=arguments[0],b=this.shell,c=a.shell;return b.compareToSameClass(c)}if(2===arguments.length){var a=arguments[0],d=arguments[1],e=a,b=this.shell,c=e.shell,f=b.compareToSameClass(c,d);if(0!==f)return f;for(var g=this.getNumInteriorRing(),h=e.getNumInteriorRing(),i=0;i<g&&i<h;){var j=this.getInteriorRingN(i),k=e.getInteriorRingN(i),l=j.compareToSameClass(k,d);if(0!==l)return l;i++}return i<g?1:i<h?-1:0}},apply:function(){if(In(arguments[0],id)){var a=arguments[0];this.shell.apply(a);for(var b=0;b<this.holes.length;b++)this.holes[b].apply(a)}else if(In(arguments[0],Pd)){var a=arguments[0];if(this.shell.apply(a),!a.isDone())for(var b=0;b<this.holes.length&&(this.holes[b].apply(a),!a.isDone());b++);a.isGeometryChanged()&&this.geometryChanged()}else if(In(arguments[0],Od)){var a=arguments[0];a.filter(this)}else if(In(arguments[0],gd)){var a=arguments[0];a.filter(this),this.shell.apply(a);for(var b=0;b<this.holes.length;b++)this.holes[b].apply(a)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var a=new Array(this.holes.length+1).fill(null);a[0]=this.shell;for(var b=0;b<this.holes.length;b++)a[b+1]=this.holes[b];return a.length<=1?this.getFactory().createLinearRing(a[0].getCoordinateSequence()):this.getFactory().createMultiLineString(a)},clone:function(){var a=hd.prototype.clone.call(this);a.shell=this.shell.clone(),a.holes=new Array(this.holes.length).fill(null);for(var b=0;b<this.holes.length;b++)a.holes[b]=this.holes[b].clone();return a},getGeometryType:function(){return"Polygon"},copy:function(){for(var a=this.shell.copy(),b=new Array(this.holes.length).fill(null),c=0;c<b.length;c++)b[c]=this.holes[c].copy();return new ee(a,b,this.factory)},getExteriorRing:function(){return this.shell},isEmpty:function(){return this.shell.isEmpty()},getInteriorRingN:function(a){return this.holes[a]},interfaces_:function(){return[de]},getClass:function(){return ee}}),ee.serialVersionUID=-0x307ffefd8dc97200,Kn(fe,Qd),Jn(fe.prototype,{getSortIndex:function(){return hd.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return!!this.isEquivalentClass(a)&&Qd.prototype.equalsExact.call(this,a,b)}return Qd.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){if(1===arguments.length){var a=arguments[0];return this.geometries[a].getCoordinate()}return Qd.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return Nd.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var a=new Array(this.geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this.geometries[b].copy();return new fe(a,this.factory)},interfaces_:function(){return[be]},getClass:function(){return fe}}),fe.serialVersionUID=-0x6fb1ed4162e0fc00,Kn(ge,ae),Jn(ge.prototype,{getSortIndex:function(){return hd.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return Nd.FALSE},isClosed:function(){return!!this.isEmpty()||ae.prototype.isClosed.call(this)},reverse:function(){var a=this.points.copy();return _d.reverse(a),this.getFactory().createLinearRing(a)},validateConstruction:function(){if(!this.isEmpty()&&!ae.prototype.isClosed.call(this))throw new Ec("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<ge.MINIMUM_VALID_SIZE)throw new Ec("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return"LinearRing"},copy:function(){return new ge(this.points.copy(),this.factory)},interfaces_:function(){return[]},getClass:function(){return ge}}),ge.MINIMUM_VALID_SIZE=4,ge.serialVersionUID=-0x3b229e262367a600,Kn(he,Qd),Jn(he.prototype,{getSortIndex:function(){return hd.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return!!this.isEquivalentClass(a)&&Qd.prototype.equalsExact.call(this,a,b)}return Qd.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var a=this.geometries.length,b=new Array(a).fill(null),c=0;c<this.geometries.length;c++)b[c]=this.geometries[c].reverse();return this.getFactory().createMultiPolygon(b)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var a=new ud,b=0;b<this.geometries.length;b++)for(var c=this.geometries[b],d=c.getBoundary(),e=0;e<d.getNumGeometries();e++)a.add(d.getGeometryN(e));var f=new Array(a.size()).fill(null);return this.getFactory().createMultiLineString(a.toArray(f))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var a=new Array(this.geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this.geometries[b].copy();return new he(a,this.factory)},interfaces_:function(){return[de]},getClass:function(){return he}}),he.serialVersionUID=-0x7a5aa1369171980,Jn(ie.prototype,{setCopyUserData:function(a){this.isUserDataCopied=a},edit:function(a,b){if(null===a)return null;var c=this.editInternal(a,b);return this.isUserDataCopied&&c.setUserData(a.getUserData()),c},editInternal:function(a,b){return null===this.factory&&(this.factory=a.getFactory()),a instanceof Qd?this.editGeometryCollection(a,b):a instanceof ee?this.editPolygon(a,b):a instanceof ce?b.edit(a,this.factory):a instanceof ae?b.edit(a,this.factory):(Nc.shouldNeverReachHere("Unsupported Geometry class: "+a.getClass().getName()),null)},editGeometryCollection:function(a,b){for(var c=b.edit(a,this.factory),d=new ud,e=0;e<c.getNumGeometries();e++){var f=this.edit(c.getGeometryN(e),b);null===f||f.isEmpty()||d.add(f)}return c.getClass()===fe?this.factory.createMultiPoint(d.toArray([])):c.getClass()===Rd?this.factory.createMultiLineString(d.toArray([])):c.getClass()===he?this.factory.createMultiPolygon(d.toArray([])):this.factory.createGeometryCollection(d.toArray([]))},editPolygon:function(a,b){var c=b.edit(a,this.factory);if(null===c&&(c=this.factory.createPolygon(null)),c.isEmpty())return c;var d=this.edit(c.getExteriorRing(),b);if(null===d||d.isEmpty())return this.factory.createPolygon();for(var e=new ud,f=0;f<c.getNumInteriorRing();f++){var g=this.edit(c.getInteriorRingN(f),b);null===g||g.isEmpty()||e.add(g)}return this.factory.createPolygon(d,e.toArray([]))},interfaces_:function(){return[]},getClass:function(){return ie}}),ie.GeometryEditorOperation=je,Jn(ke.prototype,{edit:function(a,b){return a},interfaces_:function(){return[je]},getClass:function(){return ke}}),Jn(le.prototype,{edit:function(a,b){var c=this.editCoordinates(a.getCoordinates(),a);return null===c?a:a instanceof ge?b.createLinearRing(c):a instanceof ae?b.createLineString(c):a instanceof ce?c.length>0?b.createPoint(c[0]):b.createPoint():a},interfaces_:function(){return[je]},getClass:function(){return le}}),Jn(me.prototype,{edit:function(a,b){return a instanceof ge?b.createLinearRing(this.edit(a.getCoordinateSequence(),a)):a instanceof ae?b.createLineString(this.edit(a.getCoordinateSequence(),a)):a instanceof ce?b.createPoint(this.edit(a.getCoordinateSequence(),a)):a},interfaces_:function(){return[je]},getClass:function(){return me}}),ie.NoOpGeometryOperation=ke,ie.CoordinateOperation=le,ie.CoordinateSequenceOperation=me,Jn(ne.prototype,{setOrdinate:function(a,b,c){switch(b){case Cc.X:this.coordinates[a].x=c;break;case Cc.Y:this.coordinates[a].y=c;break;case Cc.Z:this.coordinates[a].z=c;break;default:throw new Ec("invalid ordinateIndex")}},size:function(){return this.coordinates.length},getOrdinate:function(a,b){switch(b){case Cc.X:return this.coordinates[a].x;case Cc.Y:return this.coordinates[a].y;case Cc.Z:return this.coordinates[a].z}return Hc.NaN},getCoordinate:function(){if(1===arguments.length){var a=arguments[0];return this.coordinates[a]}if(2===arguments.length){var b=arguments[0],c=arguments[1];c.x=this.coordinates[b].x,c.y=this.coordinates[b].y,c.z=this.coordinates[b].z}},getCoordinateCopy:function(a){return new Oc(this.coordinates[a])},getDimension:function(){return this.dimension},getX:function(a){return this.coordinates[a].x},clone:function(){for(var a=new Array(this.size()).fill(null),b=0;b<this.coordinates.length;b++)a[b]=this.coordinates[b].clone();return new ne(a,this.dimension)},expandEnvelope:function(a){for(var b=0;b<this.coordinates.length;b++)a.expandToInclude(this.coordinates[b]);return a},copy:function(){for(var a=new Array(this.size()).fill(null),b=0;b<this.coordinates.length;b++)a[b]=this.coordinates[b].copy();return new ne(a,this.dimension)},toString:function(){if(this.coordinates.length>0){var a=new Rc(17*this.coordinates.length);a.append("("),a.append(this.coordinates[0]);for(var b=1;b<this.coordinates.length;b++)a.append(", "),a.append(this.coordinates[b]);return a.append(")"),a.toString()}return"()"},getY:function(a){return this.coordinates[a].y},toCoordinateArray:function(){return this.coordinates},interfaces_:function(){return[Cc,Kc]},getClass:function(){return ne}}),ne.serialVersionUID=-0xcb44a778db18e00,Jn(oe.prototype,{readResolve:function(){return oe.instance()},create:function(){if(1===arguments.length){if(arguments[0]instanceof Array){return new ne(arguments[0])}if(In(arguments[0],Cc)){return new ne(arguments[0])}}else if(2===arguments.length){var a=arguments[0],b=arguments[1];return b>3&&(b=3),b<2?new ne(a):new ne(a,b)}},interfaces_:function(){return[Dc,Kc]},getClass:function(){return oe}}),oe.instance=function(){return oe.instanceObject},oe.serialVersionUID=-0x38e49fa6cf6f2e00,oe.instanceObject=new oe;var Tn,Un=Object.defineProperty,Vn=qe({delete:se,has:ve,get:te,set:we,keys:ye,values:ze,entries:Ae,forEach:De,clear:xe}),Wn="undefined"!=typeof Map&&Map.prototype.values?Map:Vn;Ee.prototype=new zd,Ee.prototype.get=function(a){return this.map_.get(a)||null},Ee.prototype.put=function(a,b){return this.map_.set(a,b),b},Ee.prototype.values=function(){for(var a=new ud,b=this.map_.values(),c=b.next();!c.done;)a.add(c.value),c=b.next();return a},Ee.prototype.entrySet=function(){var a=new Cd;return this.map_.entries().forEach(function(b){return a.add(b)}),a},Ee.prototype.size=function(){return this.map_.size()},Jn(Fe.prototype,{equals:function(a){if(!(a instanceof Fe))return!1;var b=a;return this.modelType===b.modelType&&this.scale===b.scale},compareTo:function(a){var b=a,c=this.getMaximumSignificantDigits(),d=b.getMaximumSignificantDigits();return new Sc(c).compareTo(new Sc(d))},getScale:function(){return this.scale},isFloating:function(){return this.modelType===Fe.FLOATING||this.modelType===Fe.FLOATING_SINGLE},getType:function(){return this.modelType},toString:function(){var a="UNKNOWN";return this.modelType===Fe.FLOATING?a="Floating":this.modelType===Fe.FLOATING_SINGLE?a="Floating-Single":this.modelType===Fe.FIXED&&(a="Fixed (Scale="+this.getScale()+")"),a},makePrecise:function(){if("number"==typeof arguments[0]){var a=arguments[0];if(Hc.isNaN(a))return a;if(this.modelType===Fe.FLOATING_SINGLE){return a}return this.modelType===Fe.FIXED?Math.round(a*this.scale)/this.scale:a}if(arguments[0]instanceof Oc){var b=arguments[0];if(this.modelType===Fe.FLOATING)return null;b.x=this.makePrecise(b.x),b.y=this.makePrecise(b.y)}},getMaximumSignificantDigits:function(){var a=16;return this.modelType===Fe.FLOATING?a=16:this.modelType===Fe.FLOATING_SINGLE?a=6:this.modelType===Fe.FIXED&&(a=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),a},setScale:function(a){this.scale=Math.abs(a)},interfaces_:function(){return[Kc,Ic]},getClass:function(){return Fe}}),Fe.mostPrecise=function(a,b){return a.compareTo(b)>=0?a:b},Jn(Ge.prototype,{readResolve:function(){return Ge.nameToTypeMap.get(this.name)},toString:function(){return this.name},interfaces_:function(){return[Kc]},getClass:function(){return Ge}}),Ge.serialVersionUID=-552860263173159e4,Ge.nameToTypeMap=new Ee,Fe.Type=Ge,Fe.serialVersionUID=0x6bee6404e9a25c00,Fe.FIXED=new Ge("FIXED"),Fe.FLOATING=new Ge("FLOATING"),Fe.FLOATING_SINGLE=new Ge("FLOATING SINGLE"),Fe.maximumPreciseValue=9007199254740992,Jn(He.prototype,{toGeometry:function(a){return a.isNull()?this.createPoint(null):a.getMinX()===a.getMaxX()&&a.getMinY()===a.getMaxY()?this.createPoint(new Oc(a.getMinX(),a.getMinY())):a.getMinX()===a.getMaxX()||a.getMinY()===a.getMaxY()?this.createLineString([new Oc(a.getMinX(),a.getMinY()),new Oc(a.getMaxX(),a.getMaxY())]):this.createPolygon(this.createLinearRing([new Oc(a.getMinX(),a.getMinY()),new Oc(a.getMinX(),a.getMaxY()),new Oc(a.getMaxX(),a.getMaxY()),new Oc(a.getMaxX(),a.getMinY()),new Oc(a.getMinX(),a.getMinY())]),null)},createLineString:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];return this.createLineString(null!==a?this.getCoordinateSequenceFactory().create(a):null)}if(In(arguments[0],Cc)){var a=arguments[0];return new ae(a,this)}}},createMultiLineString:function(){if(0===arguments.length)return new Rd(null,this);if(1===arguments.length){return new Rd(arguments[0],this)}},buildGeometry:function(a){for(var b=null,c=!1,d=!1,e=a.iterator();e.hasNext();){var f=e.next(),g=f.getClass();null===b&&(b=g),g!==b&&(c=!0),f.isGeometryCollectionOrDerived()&&(d=!0)}if(null===b)return this.createGeometryCollection();if(c||d)return this.createGeometryCollection(He.toGeometryArray(a));var h=a.iterator().next();if(a.size()>1){if(h instanceof ee)return this.createMultiPolygon(He.toPolygonArray(a));if(h instanceof ae)return this.createMultiLineString(He.toLineStringArray(a));if(h instanceof ce)return this.createMultiPoint(He.toPointArray(a));Nc.shouldNeverReachHere("Unhandled class: "+h.getClass().getName())}return h},createMultiPointFromCoords:function(a){return this.createMultiPoint(null!==a?this.getCoordinateSequenceFactory().create(a):null)},createPoint:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Oc){var a=arguments[0];return this.createPoint(null!==a?this.getCoordinateSequenceFactory().create([a]):null)}if(In(arguments[0],Cc)){return new ce(arguments[0],this)}}},getCoordinateSequenceFactory:function(){return this.coordinateSequenceFactory},createPolygon:function(){if(0===arguments.length)return new ee(null,null,this);if(1===arguments.length){if(In(arguments[0],Cc)){var a=arguments[0];return this.createPolygon(this.createLinearRing(a))}if(arguments[0]instanceof Array){var a=arguments[0];return this.createPolygon(this.createLinearRing(a))}if(arguments[0]instanceof ge){var b=arguments[0];return this.createPolygon(b,null)}}else if(2===arguments.length){var b=arguments[0],c=arguments[1];return new ee(b,c,this)}},getSRID:function(){return this.SRID},createGeometryCollection:function(){if(0===arguments.length)return new Qd(null,this);if(1===arguments.length){return new Qd(arguments[0],this)}},createGeometry:function(a){return new ie(this).edit(a,{edit:function(){if(2===arguments.length){var a=arguments[0];return this.coordinateSequenceFactory.create(a)}}})},getPrecisionModel:function(){return this.precisionModel},createLinearRing:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];return this.createLinearRing(null!==a?this.getCoordinateSequenceFactory().create(a):null)}if(In(arguments[0],Cc)){var a=arguments[0];return new ge(a,this)}}},createMultiPolygon:function(){if(0===arguments.length)return new he(null,this);if(1===arguments.length){return new he(arguments[0],this)}},createMultiPoint:function(){if(0===arguments.length)return new fe(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){return new fe(arguments[0],this)}if(arguments[0]instanceof Array){var a=arguments[0];return this.createMultiPoint(null!==a?this.getCoordinateSequenceFactory().create(a):null)}if(In(arguments[0],Cc)){var a=arguments[0];if(null===a)return this.createMultiPoint(new Array(0).fill(null));for(var b=new Array(a.size()).fill(null),c=0;c<a.size();c++){var d=this.getCoordinateSequenceFactory().create(1,a.getDimension());_d.copy(a,c,d,0,1),b[c]=this.createPoint(d)}return this.createMultiPoint(b)}}},interfaces_:function(){return[Kc]},getClass:function(){return He}}),He.toMultiPolygonArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},He.toGeometryArray=function(a){if(null===a)return null;var b=new Array(a.size()).fill(null);return a.toArray(b)},He.getDefaultCoordinateSequenceFactory=function(){return oe.instance()},He.toMultiLineStringArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},He.toLineStringArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},He.toMultiPointArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},He.toLinearRingArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},He.toPointArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},He.toPolygonArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},He.createPointFromInternalCoord=function(a,b){return b.getPrecisionModel().makePrecise(a),b.getFactory().createPoint(a)},He.serialVersionUID=-0x5ea75f2051eeb400;var Xn=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];Jn(Ie.prototype,{read:function(a){var b;b="string"==typeof a?JSON.parse(a):a;var c=b.type;if(!Yn[c])throw new Error("Unknown GeoJSON type: "+b.type);return-1!==Xn.indexOf(c)?Yn[c].apply(this,[b.coordinates]):"GeometryCollection"===c?Yn[c].apply(this,[b.geometries]):Yn[c].apply(this,[b])},write:function(a){var b=a.getGeometryType();if(!Zn[b])throw new Error("Geometry is not supported");return Zn[b].apply(this,[a])}});var Yn={Feature:function(a){var b={};for(var c in a)b[c]=a[c];if(a.geometry){var d=a.geometry.type;if(!Yn[d])throw new Error("Unknown GeoJSON type: "+a.type);b.geometry=this.read(a.geometry)}return a.bbox&&(b.bbox=Yn.bbox.apply(this,[a.bbox])),b},FeatureCollection:function(a){var b={};if(a.features){b.features=[];for(var c=0;c<a.features.length;++c)b.features.push(this.read(a.features[c]))}return a.bbox&&(b.bbox=this.parse.bbox.apply(this,[a.bbox])),b},coordinates:function(a){for(var b=[],c=0;c<a.length;++c){var d=a[c];b.push(new Oc(d[0],d[1]))}return b},bbox:function(a){return this.geometryFactory.createLinearRing([new Oc(a[0],a[1]),new Oc(a[2],a[1]),new Oc(a[2],a[3]),new Oc(a[0],a[3]),new Oc(a[0],a[1])])},Point:function(a){var b=new Oc(a[0],a[1]);return this.geometryFactory.createPoint(b)},MultiPoint:function(a){for(var b=[],c=0;c<a.length;++c)b.push(Yn.Point.apply(this,[a[c]]));return this.geometryFactory.createMultiPoint(b)},LineString:function(a){var b=Yn.coordinates.apply(this,[a]);return this.geometryFactory.createLineString(b)},MultiLineString:function(a){for(var b=[],c=0;c<a.length;++c)b.push(Yn.LineString.apply(this,[a[c]]));return this.geometryFactory.createMultiLineString(b)},Polygon:function(a){for(var b=Yn.coordinates.apply(this,[a[0]]),c=this.geometryFactory.createLinearRing(b),d=[],e=1;e<a.length;++e){var f=a[e],g=Yn.coordinates.apply(this,[f]),h=this.geometryFactory.createLinearRing(g);d.push(h)}return this.geometryFactory.createPolygon(c,d)},MultiPolygon:function(a){for(var b=[],c=0;c<a.length;++c){var d=a[c];b.push(Yn.Polygon.apply(this,[d]))}return this.geometryFactory.createMultiPolygon(b)},GeometryCollection:function(a){for(var b=[],c=0;c<a.length;++c){var d=a[c];b.push(this.read(d))}return this.geometryFactory.createGeometryCollection(b)}},Zn={coordinate:function(a){return[a.x,a.y]},Point:function(a){return{type:"Point",coordinates:Zn.coordinate.apply(this,[a.getCoordinate()])}},MultiPoint:function(a){for(var b=[],c=0;c<a.geometries.length;++c){var d=a.geometries[c],e=Zn.Point.apply(this,[d]);b.push(e.coordinates)}return{type:"MultiPoint",coordinates:b}},LineString:function(a){for(var b=[],c=a.getCoordinates(),d=0;d<c.length;++d){var e=c[d];b.push(Zn.coordinate.apply(this,[e]))}return{type:"LineString",coordinates:b}},MultiLineString:function(a){for(var b=[],c=0;c<a.geometries.length;++c){var d=a.geometries[c],e=Zn.LineString.apply(this,[d]);b.push(e.coordinates)}return{type:"MultiLineString",coordinates:b}},Polygon:function(a){var b=[],c=Zn.LineString.apply(this,[a.shell]);b.push(c.coordinates);for(var d=0;d<a.holes.length;++d){var e=a.holes[d],f=Zn.LineString.apply(this,[e]);b.push(f.coordinates)}return{type:"Polygon",coordinates:b}},MultiPolygon:function(a){for(var b=[],c=0;c<a.geometries.length;++c){var d=a.geometries[c],e=Zn.Polygon.apply(this,[d]);b.push(e.coordinates)}return{type:"MultiPolygon",coordinates:b}},GeometryCollection:function(a){for(var b=[],c=0;c<a.geometries.length;++c){var d=a.geometries[c],e=d.getGeometryType();b.push(Zn[e].apply(this,[d]))}return{type:"GeometryCollection",geometries:b}}};Jn(Je.prototype,{read:function(a){var b=this.parser.read(a);return this.precisionModel.getType()===Fe.FIXED&&this.reducePrecision(b),b},reducePrecision:function(a){var b,c;if(a.coordinate)this.precisionModel.makePrecise(a.coordinate);else if(a.points)for(b=0,c=a.points.length;b<c;b++)this.precisionModel.makePrecise(a.points[b]);else if(a.geometries)for(b=0,c=a.geometries.length;b<c;b++)this.reducePrecision(a.geometries[b])}}),Jn(Ke.prototype,{write:function(a){return this.parser.write(a)}}),Jn(Le.prototype,{read:function(a){var b=this.parser.read(a);return this.precisionModel.getType()===Fe.FIXED&&this.reducePrecision(b),b},reducePrecision:function(a){if(a.coordinate)this.precisionModel.makePrecise(a.coordinate);else if(a.points)for(var b=0,c=a.points.coordinates.length;b<c;b++)this.precisionModel.makePrecise(a.points.coordinates[b]);else if(a.geometries)for(var b=0,c=a.geometries.length;b<c;b++)this.reducePrecision(a.geometries[b])}}),Jn(Ne.prototype,{read:function(a){var b=this.ol;return a instanceof b.geom.Point?this.convertFromPoint(a):a instanceof b.geom.LineString?this.convertFromLineString(a):a instanceof b.geom.LinearRing?this.convertFromLinearRing(a):a instanceof b.geom.Polygon?this.convertFromPolygon(a):a instanceof b.geom.MultiPoint?this.convertFromMultiPoint(a):a instanceof b.geom.MultiLineString?this.convertFromMultiLineString(a):a instanceof b.geom.MultiPolygon?this.convertFromMultiPolygon(a):a instanceof b.geom.GeometryCollection?this.convertFromCollection(a):void 0},convertFromPoint:function(a){var b=a.getCoordinates();return this.geometryFactory.createPoint(new Oc(b[0],b[1]))},convertFromLineString:function(a){return this.geometryFactory.createLineString(a.getCoordinates().map(function(a){return new Oc(a[0],a[1])}))},convertFromLinearRing:function(a){return this.geometryFactory.createLinearRing(a.getCoordinates().map(function(a){return new Oc(a[0],a[1])}))},convertFromPolygon:function(a){for(var b=a.getLinearRings(),c=null,d=[],e=0;e<b.length;e++){var f=this.convertFromLinearRing(b[e]);0===e?c=f:d.push(f)}return this.geometryFactory.createPolygon(c,d)},convertFromMultiPoint:function(a){var b=a.getPoints().map(function(a){return this.convertFromPoint(a)},this);return this.geometryFactory.createMultiPoint(b)},convertFromMultiLineString:function(a){var b=a.getLineStrings().map(function(a){return this.convertFromLineString(a)},this);return this.geometryFactory.createMultiLineString(b)},convertFromMultiPolygon:function(a){var b=a.getPolygons().map(function(a){return this.convertFromPolygon(a)},this);return this.geometryFactory.createMultiPolygon(b)},convertFromCollection:function(a){var b=a.getGeometries().map(function(a){return this.read(a)},this);return this.geometryFactory.createGeometryCollection(b)},write:function(a){return"Point"===a.getGeometryType()?this.convertToPoint(a.getCoordinate()):"LineString"===a.getGeometryType()?this.convertToLineString(a):"LinearRing"===a.getGeometryType()?this.convertToLinearRing(a):"Polygon"===a.getGeometryType()?this.convertToPolygon(a):"MultiPoint"===a.getGeometryType()?this.convertToMultiPoint(a):"MultiLineString"===a.getGeometryType()?this.convertToMultiLineString(a):"MultiPolygon"===a.getGeometryType()?this.convertToMultiPolygon(a):"GeometryCollection"===a.getGeometryType()?this.convertToCollection(a):void 0},convertToPoint:function(a){return new this.ol.geom.Point([a.x,a.y])},convertToLineString:function(a){var b=a.points.coordinates.map(Me);return new this.ol.geom.LineString(b)},convertToLinearRing:function(a){var b=a.points.coordinates.map(Me);return new this.ol.geom.LinearRing(b)},convertToPolygon:function(a){for(var b=[a.shell.points.coordinates.map(Me)],c=0;c<a.holes.length;c++)b.push(a.holes[c].points.coordinates.map(Me));return new this.ol.geom.Polygon(b)},convertToMultiPoint:function(a){return new this.ol.geom.MultiPoint(a.getCoordinates().map(Me))},convertToMultiLineString:function(a){for(var b=[],c=0;c<a.geometries.length;c++)b.push(this.convertToLineString(a.geometries[c]).getCoordinates());return new this.ol.geom.MultiLineString(b)},convertToMultiPolygon:function(a){for(var b=[],c=0;c<a.geometries.length;c++)b.push(this.convertToPolygon(a.geometries[c]).getCoordinates());return new this.ol.geom.MultiPolygon(b)},convertToCollection:function(a){for(var b=[],c=0;c<a.geometries.length;c++){var d=a.geometries[c];b.push(this.write(d))}return new this.ol.geom.GeometryCollection(b)}}),Jn(Oe.prototype,{map:function(a){for(var b=new ud,c=0;c<a.getNumGeometries();c++){var d=this.mapOp.map(a.getGeometryN(c));d.isEmpty()||b.add(d)}return a.getFactory().createGeometryCollection(He.toGeometryArray(b))},interfaces_:function(){return[]},getClass:function(){return Oe}}),Oe.map=function(a,b){return new Oe(b).map(a)},Jn(Pe.prototype,{interfaces_:function(){return[]},getClass:function(){return Pe}}),Pe.opposite=function(a){return a===Pe.LEFT?Pe.RIGHT:a===Pe.RIGHT?Pe.LEFT:a},Pe.ON=0,Pe.LEFT=1,Pe.RIGHT=2,Kn(Qe,Lc),Jn(Qe.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Qe}}),Qe.msgWithCoord=function(a,b){return null!==b?a+" [ "+b+" ]":a},Jn(Re.prototype,{setAllLocations:function(a){for(var b=0;b<this.location.length;b++)this.location[b]=a},isNull:function(){for(var a=0;a<this.location.length;a++)if(this.location[a]!==Fc.NONE)return!1;return!0},setAllLocationsIfNull:function(a){for(var b=0;b<this.location.length;b++)this.location[b]===Fc.NONE&&(this.location[b]=a)},isLine:function(){return 1===this.location.length},merge:function(a){if(a.location.length>this.location.length){var b=new Array(3).fill(null);b[Pe.ON]=this.location[Pe.ON],b[Pe.LEFT]=Fc.NONE,b[Pe.RIGHT]=Fc.NONE,this.location=b}for(var c=0;c<this.location.length;c++)this.location[c]===Fc.NONE&&c<a.location.length&&(this.location[c]=a.location[c])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var a=this.location[Pe.LEFT];this.location[Pe.LEFT]=this.location[Pe.RIGHT],this.location[Pe.RIGHT]=a},toString:function(){var a=new Rc;return this.location.length>1&&a.append(Fc.toLocationSymbol(this.location[Pe.LEFT])),a.append(Fc.toLocationSymbol(this.location[Pe.ON])),this.location.length>1&&a.append(Fc.toLocationSymbol(this.location[Pe.RIGHT])),a.toString()},setLocations:function(a,b,c){this.location[Pe.ON]=a,this.location[Pe.LEFT]=b,this.location[Pe.RIGHT]=c},get:function(a){return a<this.location.length?this.location[a]:Fc.NONE},isArea:function(){return this.location.length>1},isAnyNull:function(){for(var a=0;a<this.location.length;a++)if(this.location[a]===Fc.NONE)return!0;return!1},setLocation:function(){if(1===arguments.length){var a=arguments[0];this.setLocation(Pe.ON,a)}else if(2===arguments.length){var b=arguments[0],a=arguments[1];this.location[b]=a}},init:function(a){this.location=new Array(a).fill(null),this.setAllLocations(Fc.NONE)},isEqualOnSide:function(a,b){return this.location[b]===a.location[b]},allPositionsEqual:function(a){for(var b=0;b<this.location.length;b++)if(this.location[b]!==a)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return Re}}),Jn(Se.prototype,{getGeometryCount:function(){var a=0;return this.elt[0].isNull()||a++,this.elt[1].isNull()||a++,a},setAllLocations:function(a,b){this.elt[a].setAllLocations(b)},isNull:function(a){return this.elt[a].isNull()},setAllLocationsIfNull:function(){if(1===arguments.length){var a=arguments[0];this.setAllLocationsIfNull(0,a),this.setAllLocationsIfNull(1,a)}else if(2===arguments.length){var b=arguments[0],a=arguments[1];this.elt[b].setAllLocationsIfNull(a)}},isLine:function(a){return this.elt[a].isLine()},merge:function(a){for(var b=0;b<2;b++)null===this.elt[b]&&null!==a.elt[b]?this.elt[b]=new Re(a.elt[b]):this.elt[b].merge(a.elt[b])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(1===arguments.length){var a=arguments[0];return this.elt[a].get(Pe.ON)}if(2===arguments.length){var a=arguments[0],b=arguments[1];return this.elt[a].get(b)}},toString:function(){var a=new Rc;return null!==this.elt[0]&&(a.append("A:"),a.append(this.elt[0].toString())),null!==this.elt[1]&&(a.append(" B:"),a.append(this.elt[1].toString())),a.toString()},isArea:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var a=arguments[0];return this.elt[a].isArea()}},isAnyNull:function(a){return this.elt[a].isAnyNull()},setLocation:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];this.elt[a].setLocation(Pe.ON,b)}else if(3===arguments.length){var a=arguments[0],c=arguments[1],b=arguments[2];this.elt[a].setLocation(c,b)}},isEqualOnSide:function(a,b){return this.elt[0].isEqualOnSide(a.elt[0],b)&&this.elt[1].isEqualOnSide(a.elt[1],b)},allPositionsEqual:function(a,b){return this.elt[a].allPositionsEqual(b)},toLine:function(a){this.elt[a].isArea()&&(this.elt[a]=new Re(this.elt[a].location[0]))},interfaces_:function(){return[]},getClass:function(){return Se}}),Se.toLineLabel=function(a){for(var b=new Se(Fc.NONE),c=0;c<2;c++)b.setLocation(c,a.getLocation(c));return b},Jn(Te.prototype,{computeRing:function(){if(null!==this.ring)return null;for(var a=new Array(this.pts.size()).fill(null),b=0;b<this.pts.size();b++)a[b]=this.pts.get(b);this.ring=this.geometryFactory.createLinearRing(a),this._isHole=fd.isCCW(this.ring.getCoordinates())},isIsolated:function(){return 1===this.label.getGeometryCount()},computePoints:function(a){this.startDe=a;var b=a,c=!0;do{if(null===b)throw new Qe("Found null DirectedEdge");if(b.getEdgeRing()===this)throw new Qe("Directed Edge visited twice during ring-building at "+b.getCoordinate());this.edges.add(b);var d=b.getLabel();Nc.isTrue(d.isArea()),this.mergeLabel(d),this.addPoints(b.getEdge(),b.isForward(),c),c=!1,this.setEdgeRing(b,this),b=this.getNext(b)}while(b!==this.startDe)},getLinearRing:function(){return this.ring},getCoordinate:function(a){return this.pts.get(a)},computeMaxNodeDegree:function(){this.maxNodeDegree=0;var a=this.startDe;do{var b=a.getNode(),c=b.getEdges().getOutgoingDegree(this);c>this.maxNodeDegree&&(this.maxNodeDegree=c),a=this.getNext(a)}while(a!==this.startDe);this.maxNodeDegree*=2},addPoints:function(a,b,c){var d=a.getCoordinates();if(b){var e=1;c&&(e=0);for(var f=e;f<d.length;f++)this.pts.add(d[f])}else{var e=d.length-2;c&&(e=d.length-1);for(var f=e;f>=0;f--)this.pts.add(d[f])}},isHole:function(){return this._isHole},setInResult:function(){var a=this.startDe;do{a.getEdge().setInResult(!0),a=a.getNext()}while(a!==this.startDe)},containsPoint:function(a){var b=this.getLinearRing();if(!b.getEnvelopeInternal().contains(a))return!1;if(!fd.isPointInRing(a,b.getCoordinates()))return!1;for(var c=this.holes.iterator();c.hasNext();){if(c.next().containsPoint(a))return!1}return!0},addHole:function(a){this.holes.add(a)},isShell:function(){return null===this.shell},getLabel:function(){return this.label},getEdges:function(){return this.edges},getMaxNodeDegree:function(){return this.maxNodeDegree<0&&this.computeMaxNodeDegree(),this.maxNodeDegree},getShell:function(){return this.shell},mergeLabel:function(){if(1===arguments.length){var a=arguments[0];this.mergeLabel(a,0),this.mergeLabel(a,1)}else if(2===arguments.length){var a=arguments[0],b=arguments[1],c=a.getLocation(b,Pe.RIGHT);if(c===Fc.NONE)return null;if(this.label.getLocation(b)===Fc.NONE)return this.label.setLocation(b,c),null}},setShell:function(a){this.shell=a,null!==a&&a.addHole(this)},toPolygon:function(a){for(var b=new Array(this.holes.size()).fill(null),c=0;c<this.holes.size();c++)b[c]=this.holes.get(c).getLinearRing();return a.createPolygon(this.getLinearRing(),b)},interfaces_:function(){return[]},getClass:function(){return Te}}),Kn(Ue,Te),Jn(Ue.prototype,{setEdgeRing:function(a,b){a.setMinEdgeRing(b)},getNext:function(a){return a.getNextMin()},interfaces_:function(){return[]},getClass:function(){return Ue}}),Kn(Ve,Te),Jn(Ve.prototype,{buildMinimalRings:function(){var a=new ud,b=this.startDe;do{if(null===b.getMinEdgeRing()){var c=new Ue(b,this.geometryFactory);a.add(c)}b=b.getNext()}while(b!==this.startDe);return a},setEdgeRing:function(a,b){a.setEdgeRing(b)},linkDirectedEdgesForMinimalEdgeRings:function(){var a=this.startDe;do{a.getNode().getEdges().linkMinimalDirectedEdges(this),a=a.getNext()}while(a!==this.startDe)},getNext:function(a){return a.getNext()},interfaces_:function(){return[]},getClass:function(){return Ve}}),Jn(We.prototype,{locate:function(a){},interfaces_:function(){return[]},getClass:function(){return We}}),Jn(Xe.prototype,{next:function(){if(this.atStart)return this.atStart=!1,Xe.isAtomic(this.parent)&&this.index++,this.parent;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return this.subcollectionIterator.next();this.subcollectionIterator=null}if(this.index>=this.max)throw new sd;var a=this.parent.getGeometryN(this.index++);return a instanceof Qd?(this.subcollectionIterator=new Xe(a),this.subcollectionIterator.next()):a},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this.atStart)return!0;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return!0;this.subcollectionIterator=null}return!(this.index>=this.max)},interfaces_:function(){return[od]},getClass:function(){return Xe}}),Xe.isAtomic=function(a){return!(a instanceof Qd)},Jn(Ye.prototype,{locate:function(a){return Ye.locate(a,this.geom)},interfaces_:function(){return[We]},getClass:function(){return Ye}}),Ye.isPointInRing=function(a,b){return!!b.getEnvelopeInternal().intersects(a)&&fd.isPointInRing(a,b.getCoordinates())},Ye.containsPointInPolygon=function(a,b){if(b.isEmpty())return!1;var c=b.getExteriorRing();if(!Ye.isPointInRing(a,c))return!1;for(var d=0;d<b.getNumInteriorRing();d++){var e=b.getInteriorRingN(d);if(Ye.isPointInRing(a,e))return!1}return!0},Ye.containsPoint=function(a,b){if(b instanceof ee)return Ye.containsPointInPolygon(a,b);if(b instanceof Qd)for(var c=new Xe(b);c.hasNext();){var d=c.next();if(d!==b&&Ye.containsPoint(a,d))return!0}return!1},Ye.locate=function(a,b){return b.isEmpty()?Fc.EXTERIOR:Ye.containsPoint(a,b)?Fc.INTERIOR:Fc.EXTERIOR},Jn(Ze.prototype,{getNextCW:function(a){this.getEdges();var b=this.edgeList.indexOf(a),c=b-1;return 0===b&&(c=this.edgeList.size()-1),this.edgeList.get(c)},propagateSideLabels:function(a){for(var b=Fc.NONE,c=this.iterator();c.hasNext();){var d=c.next(),e=d.getLabel();e.isArea(a)&&e.getLocation(a,Pe.LEFT)!==Fc.NONE&&(b=e.getLocation(a,Pe.LEFT))}if(b===Fc.NONE)return null;for(var f=b,c=this.iterator();c.hasNext();){var d=c.next(),e=d.getLabel();if(e.getLocation(a,Pe.ON)===Fc.NONE&&e.setLocation(a,Pe.ON,f),e.isArea(a)){var g=e.getLocation(a,Pe.LEFT),h=e.getLocation(a,Pe.RIGHT);if(h!==Fc.NONE){if(h!==f)throw new Qe("side location conflict",d.getCoordinate());g===Fc.NONE&&Nc.shouldNeverReachHere("found single null side (at "+d.getCoordinate()+")"),f=g}else Nc.isTrue(e.getLocation(a,Pe.LEFT)===Fc.NONE,"found single null side"),e.setLocation(a,Pe.RIGHT,f),e.setLocation(a,Pe.LEFT,f)}}},getCoordinate:function(){var a=this.iterator();return a.hasNext()?a.next().getCoordinate():null},print:function(a){Yc.out.println("EdgeEndStar:   "+this.getCoordinate());for(var b=this.iterator();b.hasNext();){b.next().print(a)}},isAreaLabelsConsistent:function(a){return this.computeEdgeEndLabels(a.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(a){var b=this.getEdges();if(b.size()<=0)return!0;var c=b.size()-1,d=b.get(c).getLabel(),e=d.getLocation(a,Pe.LEFT);Nc.isTrue(e!==Fc.NONE,"Found unlabelled area edge");for(var f=e,g=this.iterator();g.hasNext();){var h=g.next(),i=h.getLabel();Nc.isTrue(i.isArea(a),"Found non-area edge");var j=i.getLocation(a,Pe.LEFT),k=i.getLocation(a,Pe.RIGHT);if(j===k)return!1;if(k!==f)return!1;f=j}return!0},findIndex:function(a){this.iterator();for(var b=0;b<this.edgeList.size();b++){if(this.edgeList.get(b)===a)return b}return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return null===this.edgeList&&(this.edgeList=new ud(this.edgeMap.values())),this.edgeList},getLocation:function(a,b,c){return this.ptInAreaLocation[a]===Fc.NONE&&(this.ptInAreaLocation[a]=Ye.locate(b,c[a].getGeometry())),this.ptInAreaLocation[a]},toString:function(){var a=new Rc;a.append("EdgeEndStar:   "+this.getCoordinate()),a.append("\n");for(var b=this.iterator();b.hasNext();){var c=b.next();a.append(c),a.append("\n")}return a.toString()},computeEdgeEndLabels:function(a){for(var b=this.iterator();b.hasNext();){b.next().computeLabel(a)}},computeLabelling:function(a){this.computeEdgeEndLabels(a[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var b=[!1,!1],c=this.iterator();c.hasNext();)for(var d=c.next(),e=d.getLabel(),f=0;f<2;f++)e.isLine(f)&&e.getLocation(f)===Fc.BOUNDARY&&(b[f]=!0);for(var c=this.iterator();c.hasNext();)for(var d=c.next(),e=d.getLabel(),f=0;f<2;f++)if(e.isAnyNull(f)){var g=Fc.NONE;if(b[f])g=Fc.EXTERIOR;else{var h=d.getCoordinate();g=this.getLocation(f,h,a)}e.setAllLocationsIfNull(f,g)}},getDegree:function(){return this.edgeMap.size()},insertEdgeEnd:function(a,b){this.edgeMap.put(a,b),this.edgeList=null},interfaces_:function(){return[]},getClass:function(){return Ze}}),Jn($e.prototype,{interfaces_:function(){return[]},getClass:function(){return $e}}),$e.isNorthern=function(a){return a===$e.NE||a===$e.NW},$e.isOpposite=function(a,b){return a!==b&&2==(a-b+4)%4},$e.commonHalfPlane=function(a,b){if(a===b)return a;if(2==(a-b+4)%4)return-1;var c=a<b?a:b,d=a>b?a:b;return 0===c&&3===d?3:c},$e.isInHalfPlane=function(a,b){return b===$e.SE?a===$e.SE||a===$e.SW:a===b||a===b+1},$e.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1];if(0===a&&0===b)throw new Ec("Cannot compute the quadrant for point ( "+a+", "+b+" )");return a>=0?b>=0?$e.NE:$e.SE:b>=0?$e.NW:$e.SW}if(arguments[0]instanceof Oc&&arguments[1]instanceof Oc){var c=arguments[0],d=arguments[1];if(d.x===c.x&&d.y===c.y)throw new Ec("Cannot compute the quadrant for two identical points "+c);return d.x>=c.x?d.y>=c.y?$e.NE:$e.SE:d.y>=c.y?$e.NW:$e.SW}},$e.NE=0,$e.NW=1,$e.SW=2,$e.SE=3,Kn(_e,Ze),Jn(_e.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var a=null,b=null,c=this.SCANNING_FOR_INCOMING,d=0;d<this.resultAreaEdgeList.size();d++){var e=this.resultAreaEdgeList.get(d),f=e.getSym();if(e.getLabel().isArea())switch(null===a&&e.isInResult()&&(a=e),c){case this.SCANNING_FOR_INCOMING:if(!f.isInResult())continue;b=f,c=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(!e.isInResult())continue;b.setNext(e),c=this.SCANNING_FOR_INCOMING}}if(c===this.LINKING_TO_OUTGOING){if(null===a)throw new Qe("no outgoing dirEdge found",this.getCoordinate());Nc.isTrue(a.isInResult(),"unable to link last incoming dirEdge"),b.setNext(a)}},insert:function(a){var b=a;this.insertEdgeEnd(b,b)},getRightmostEdge:function(){var a=this.getEdges(),b=a.size();if(b<1)return null;var c=a.get(0);if(1===b)return c;var d=a.get(b-1),e=c.getQuadrant(),f=d.getQuadrant();return $e.isNorthern(e)&&$e.isNorthern(f)?c:$e.isNorthern(e)||$e.isNorthern(f)?0!==c.getDy()?c:0!==d.getDy()?d:(Nc.shouldNeverReachHere("found two horizontal edges incident on node"),null):d},print:function(a){Yc.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var b=this.iterator();b.hasNext();){var c=b.next();a.print("out "),c.print(a),a.println(),a.print("in "),c.getSym().print(a),a.println()}},getResultAreaEdges:function(){if(null!==this.resultAreaEdgeList)return this.resultAreaEdgeList;this.resultAreaEdgeList=new ud;for(var a=this.iterator();a.hasNext();){var b=a.next();(b.isInResult()||b.getSym().isInResult())&&this.resultAreaEdgeList.add(b)}return this.resultAreaEdgeList},updateLabelling:function(a){for(var b=this.iterator();b.hasNext();){var c=b.next(),d=c.getLabel();d.setAllLocationsIfNull(0,a.getLocation(0)),d.setAllLocationsIfNull(1,a.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var a=null,b=null,c=this.edgeList.size()-1;c>=0;c--){var d=this.edgeList.get(c),e=d.getSym();null===b&&(b=e),null!==a&&e.setNext(a),a=d}b.setNext(a)},computeDepths:function(){if(1===arguments.length){var a=arguments[0],b=this.findIndex(a),c=(a.getLabel(),a.getDepth(Pe.LEFT)),d=a.getDepth(Pe.RIGHT),e=this.computeDepths(b+1,this.edgeList.size(),c);if(this.computeDepths(0,b,e)!==d)throw new Qe("depth mismatch at "+a.getCoordinate())}else if(3===arguments.length){for(var f=arguments[0],g=arguments[1],c=arguments[2],h=c,i=f;i<g;i++){var j=this.edgeList.get(i);j.getLabel();j.setEdgeDepths(Pe.RIGHT,h),h=j.getDepth(Pe.LEFT)}return h}},mergeSymLabels:function(){for(var a=this.iterator();a.hasNext();){var b=a.next();b.getLabel().merge(b.getSym().getLabel())}},linkMinimalDirectedEdges:function(a){for(var b=null,c=null,d=this.SCANNING_FOR_INCOMING,e=this.resultAreaEdgeList.size()-1;e>=0;e--){var f=this.resultAreaEdgeList.get(e),g=f.getSym();switch(null===b&&f.getEdgeRing()===a&&(b=f),d){case this.SCANNING_FOR_INCOMING:if(g.getEdgeRing()!==a)continue;c=g,d=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(f.getEdgeRing()!==a)continue;c.setNextMin(f),d=this.SCANNING_FOR_INCOMING}}d===this.LINKING_TO_OUTGOING&&(Nc.isTrue(null!==b,"found null for first outgoing dirEdge"),Nc.isTrue(b.getEdgeRing()===a,"unable to link last incoming dirEdge"),c.setNextMin(b))},getOutgoingDegree:function(){if(0===arguments.length){for(var a=0,b=this.iterator();b.hasNext();){var c=b.next();c.isInResult()&&a++}return a}if(1===arguments.length){for(var d=arguments[0],a=0,b=this.iterator();b.hasNext();){var c=b.next();c.getEdgeRing()===d&&a++}return a}},getLabel:function(){return this.label},findCoveredLineEdges:function(){for(var a=Fc.NONE,b=this.iterator();b.hasNext();){var c=b.next(),d=c.getSym();if(!c.isLineEdge()){if(c.isInResult()){a=Fc.INTERIOR;break}if(d.isInResult()){a=Fc.EXTERIOR;break}}}if(a===Fc.NONE)return null;for(var e=a,b=this.iterator();b.hasNext();){var c=b.next(),d=c.getSym();c.isLineEdge()?c.getEdge().setCovered(e===Fc.INTERIOR):(c.isInResult()&&(e=Fc.EXTERIOR),d.isInResult()&&(e=Fc.INTERIOR))}},computeLabelling:function(a){Ze.prototype.computeLabelling.call(this,a),this.label=new Se(Fc.NONE);for(var b=this.iterator();b.hasNext();)for(var c=b.next(),d=c.getEdge(),e=d.getLabel(),f=0;f<2;f++){var g=e.getLocation(f);g!==Fc.INTERIOR&&g!==Fc.BOUNDARY||this.label.setLocation(f,Fc.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return _e}}),Jn(af.prototype,{setVisited:function(a){this._isVisited=a},setInResult:function(a){this._isInResult=a},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(a){this.label=a},getLabel:function(){return this.label},setCovered:function(a){this._isCovered=a,this._isCoveredSet=!0},updateIM:function(a){Nc.isTrue(this.label.getGeometryCount()>=2,"found partial label"),this.computeIM(a)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return af}}),Kn(bf,af),Jn(bf.prototype,{isIncidentEdgeInResult:function(){for(var a=this.getEdges().getEdges().iterator();a.hasNext();){if(a.next().getEdge().isInResult())return!0}return!1},isIsolated:function(){return 1===this.label.getGeometryCount()},getCoordinate:function(){return this.coord},print:function(a){a.println("node "+this.coord+" lbl: "+this.label)},computeIM:function(a){},computeMergedLocation:function(a,b){var c=Fc.NONE;if(c=this.label.getLocation(b),!a.isNull(b)){var d=a.getLocation(b);c!==Fc.BOUNDARY&&(c=d)}return c},setLabel:function(){if(2!==arguments.length)return af.prototype.setLabel.apply(this,arguments);var a=arguments[0],b=arguments[1];null===this.label?this.label=new Se(a,b):this.label.setLocation(a,b)},getEdges:function(){return this.edges},mergeLabel:function(){if(arguments[0]instanceof bf){var a=arguments[0];this.mergeLabel(a.label)}else if(arguments[0]instanceof Se)for(var b=arguments[0],c=0;c<2;c++){var d=this.computeMergedLocation(b,c),e=this.label.getLocation(c);e===Fc.NONE&&this.label.setLocation(c,d)}},add:function(a){this.edges.insert(a),a.setNode(this)},setLabelBoundary:function(a){if(null===this.label)return null;var b=Fc.NONE;null!==this.label&&(b=this.label.getLocation(a));var c=null;switch(b){case Fc.BOUNDARY:c=Fc.INTERIOR;break;case Fc.INTERIOR:default:c=Fc.BOUNDARY}this.label.setLocation(a,c)},interfaces_:function(){return[]},getClass:function(){return bf}}),Jn(cf.prototype,{createNode:function(a){return new bf(a,null)},interfaces_:function(){return[]},getClass:function(){return cf}}),Kn(df,cf),Jn(df.prototype,{createNode:function(a){return new bf(a,new _e)},interfaces_:function(){return[]},getClass:function(){return df}}),Jn(ef.prototype,{find:function(a){return this.nodeMap.get(a)},addNode:function(){if(arguments[0]instanceof Oc){var a=arguments[0],b=this.nodeMap.get(a);return null===b&&(b=this.nodeFact.createNode(a),this.nodeMap.put(a,b)),b}if(arguments[0]instanceof bf){var c=arguments[0],b=this.nodeMap.get(c.getCoordinate());return null===b?(this.nodeMap.put(c.getCoordinate(),c),c):(b.mergeLabel(c),b)}},print:function(a){for(var b=this.iterator();b.hasNext();){b.next().print(a)}},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(a){for(var b=new ud,c=this.iterator();c.hasNext();){var d=c.next();d.getLabel().getLocation(a)===Fc.BOUNDARY&&b.add(d)}return b},add:function(a){var b=a.getCoordinate();this.addNode(b).add(a)},interfaces_:function(){return[]},getClass:function(){return ef}}),Jn(ff.prototype,{compareDirection:function(a){return this.dx===a.dx&&this.dy===a.dy?0:this.quadrant>a.quadrant?1:this.quadrant<a.quadrant?-1:fd.computeOrientation(a.p0,a.p1,this.p1)},getDy:function(){return this.dy},getCoordinate:function(){return this.p0},setNode:function(a){this.node=a},print:function(a){var b=Math.atan2(this.dy,this.dx),c=this.getClass().getName(),d=c.lastIndexOf("."),e=c.substring(d+1);a.print("  "+e+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+b+"   "+this.label)},compareTo:function(a){var b=a;return this.compareDirection(b)},getDirectedCoordinate:function(){return this.p1},getDx:function(){return this.dx},getLabel:function(){return this.label},getEdge:function(){return this.edge},getQuadrant:function(){return this.quadrant},getNode:function(){return this.node},toString:function(){var a=Math.atan2(this.dy,this.dx),b=this.getClass().getName(),c=b.lastIndexOf(".");return"  "+b.substring(c+1)+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+a+"   "+this.label},computeLabel:function(a){},init:function(a,b){this.p0=a,this.p1=b,this.dx=b.x-a.x,this.dy=b.y-a.y,this.quadrant=$e.quadrant(this.dx,this.dy),Nc.isTrue(!(0===this.dx&&0===this.dy),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[Ic]},getClass:function(){return ff}}),Kn(gf,ff),Jn(gf.prototype,{getNextMin:function(){return this.nextMin},getDepth:function(a){return this.depth[a]},setVisited:function(a){this._isVisited=a},computeDirectedLabel:function(){this.label=new Se(this.edge.getLabel()),this._isForward||this.label.flip()},getNext:function(){return this.next},setDepth:function(a,b){if(-999!==this.depth[a]&&this.depth[a]!==b)throw new Qe("assigned depths do not match",this.getCoordinate());this.depth[a]=b},isInteriorAreaEdge:function(){for(var a=!0,b=0;b<2;b++)this.label.isArea(b)&&this.label.getLocation(b,Pe.LEFT)===Fc.INTERIOR&&this.label.getLocation(b,Pe.RIGHT)===Fc.INTERIOR||(a=!1);return a},setNextMin:function(a){this.nextMin=a},print:function(a){ff.prototype.print.call(this,a),a.print(" "+this.depth[Pe.LEFT]+"/"+this.depth[Pe.RIGHT]),a.print(" ("+this.getDepthDelta()+")"),this._isInResult&&a.print(" inResult")},setMinEdgeRing:function(a){this.minEdgeRing=a},isLineEdge:function(){var a=this.label.isLine(0)||this.label.isLine(1),b=!this.label.isArea(0)||this.label.allPositionsEqual(0,Fc.EXTERIOR),c=!this.label.isArea(1)||this.label.allPositionsEqual(1,Fc.EXTERIOR);return a&&b&&c},setEdgeRing:function(a){this.edgeRing=a},getMinEdgeRing:function(){return this.minEdgeRing},getDepthDelta:function(){var a=this.edge.getDepthDelta();return this._isForward||(a=-a),a},setInResult:function(a){this._isInResult=a},getSym:function(){return this.sym},isForward:function(){return this._isForward},getEdge:function(){return this.edge},printEdge:function(a){this.print(a),a.print(" "),this._isForward?this.edge.print(a):this.edge.printReverse(a)},setSym:function(a){this.sym=a},setVisitedEdge:function(a){this.setVisited(a),this.sym.setVisited(a)},setEdgeDepths:function(a,b){var c=this.getEdge().getDepthDelta();this._isForward||(c=-c);var d=1;a===Pe.LEFT&&(d=-1);var e=Pe.opposite(a),f=c*d,g=b+f;this.setDepth(a,b),this.setDepth(e,g)},getEdgeRing:function(){return this.edgeRing},isInResult:function(){return this._isInResult},setNext:function(a){this.next=a},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return gf}}),gf.depthFactor=function(a,b){return a===Fc.EXTERIOR&&b===Fc.INTERIOR?1:a===Fc.INTERIOR&&b===Fc.EXTERIOR?-1:0},Jn(hf.prototype,{printEdges:function(a){a.println("Edges:");for(var b=0;b<this.edges.size();b++){a.println("edge "+b+":");var c=this.edges.get(b);c.print(a),c.eiList.print(a)}},find:function(a){return this.nodes.find(a)},addNode:function(){if(arguments[0]instanceof bf){var a=arguments[0];return this.nodes.addNode(a)}if(arguments[0]instanceof Oc){var b=arguments[0];return this.nodes.addNode(b)}},getNodeIterator:function(){return this.nodes.iterator()},linkResultDirectedEdges:function(){for(var a=this.nodes.iterator();a.hasNext();){a.next().getEdges().linkResultDirectedEdges()}},debugPrintln:function(a){Yc.out.println(a)},isBoundaryNode:function(a,b){var c=this.nodes.find(b);if(null===c)return!1;var d=c.getLabel();return null!==d&&d.getLocation(a)===Fc.BOUNDARY},linkAllDirectedEdges:function(){for(var a=this.nodes.iterator();a.hasNext();){a.next().getEdges().linkAllDirectedEdges()}},matchInSameDirection:function(a,b,c,d){return!!a.equals(c)&&(fd.computeOrientation(a,b,d)===fd.COLLINEAR&&$e.quadrant(a,b)===$e.quadrant(c,d))},getEdgeEnds:function(){return this.edgeEndList},debugPrint:function(a){Yc.out.print(a)},getEdgeIterator:function(){return this.edges.iterator()},findEdgeInSameDirection:function(a,b){for(var c=0;c<this.edges.size();c++){var d=this.edges.get(c),e=d.getCoordinates();if(this.matchInSameDirection(a,b,e[0],e[1]))return d;if(this.matchInSameDirection(a,b,e[e.length-1],e[e.length-2]))return d}return null},insertEdge:function(a){this.edges.add(a)},findEdgeEnd:function(a){for(var b=this.getEdgeEnds().iterator();b.hasNext();){var c=b.next();if(c.getEdge()===a)return c}return null},addEdges:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();this.edges.add(c);var d=new gf(c,!0),e=new gf(c,!1);d.setSym(e),e.setSym(d),this.add(d),this.add(e)}},add:function(a){this.nodes.add(a),this.edgeEndList.add(a)},getNodes:function(){return this.nodes.values()},findEdge:function(a,b){for(var c=0;c<this.edges.size();c++){var d=this.edges.get(c),e=d.getCoordinates();if(a.equals(e[0])&&b.equals(e[1]))return d}return null},interfaces_:function(){return[]},getClass:function(){return hf}}),hf.linkResultDirectedEdges=function(a){for(var b=a.iterator();b.hasNext();){b.next().getEdges().linkResultDirectedEdges()}},Jn(jf.prototype,{visitInteriorRing:function(a,b){var c=a.getCoordinates(),d=c[0],e=jf.findDifferentPoint(c,d),f=b.findEdgeInSameDirection(d,e),g=b.findEdgeEnd(f),h=null;g.getLabel().getLocation(0,Pe.RIGHT)===Fc.INTERIOR?h=g:g.getSym().getLabel().getLocation(0,Pe.RIGHT)===Fc.INTERIOR&&(h=g.getSym()),Nc.isTrue(null!==h,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(h)},visitShellInteriors:function(a,b){if(a instanceof ee){var c=a;this.visitInteriorRing(c.getExteriorRing(),b)}if(a instanceof he)for(var d=a,e=0;e<d.getNumGeometries();e++){var c=d.getGeometryN(e);this.visitInteriorRing(c.getExteriorRing(),b)}},getCoordinate:function(){return this.disconnectedRingcoord},setInteriorEdgesInResult:function(a){for(var b=a.getEdgeEnds().iterator();b.hasNext();){var c=b.next();c.getLabel().getLocation(0,Pe.RIGHT)===Fc.INTERIOR&&c.setInResult(!0)}},visitLinkedDirectedEdges:function(a){var b=a,c=a;do{Nc.isTrue(null!==c,"found null Directed Edge"),c.setVisited(!0),c=c.getNext()}while(c!==b)},buildEdgeRings:function(a){for(var b=new ud,c=a.iterator();c.hasNext();){var d=c.next();if(d.isInResult()&&null===d.getEdgeRing()){var e=new Ve(d,this.geometryFactory);e.linkDirectedEdgesForMinimalEdgeRings();var f=e.buildMinimalRings();b.addAll(f)}}return b},hasUnvisitedShellEdge:function(a){for(var b=0;b<a.size();b++){var c=a.get(b);if(!c.isHole()){var d=c.getEdges(),e=d.get(0);if(e.getLabel().getLocation(0,Pe.RIGHT)===Fc.INTERIOR)for(var f=0;f<d.size();f++)if(e=d.get(f),!e.isVisited())return this.disconnectedRingcoord=e.getCoordinate(),!0}}return!1},isInteriorsConnected:function(){var a=new ud;this.geomGraph.computeSplitEdges(a);var b=new hf(new df);b.addEdges(a),this.setInteriorEdgesInResult(b),b.linkResultDirectedEdges();var c=this.buildEdgeRings(b.getEdgeEnds());return this.visitShellInteriors(this.geomGraph.getGeometry(),b),!this.hasUnvisitedShellEdge(c)},interfaces_:function(){return[]},getClass:function(){return jf}}),jf.findDifferentPoint=function(a,b){for(var c=0;c<a.length;c++)if(!a[c].equals(b))return a[c];return null},Jn(kf.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof kf){var a=arguments[0],b=fd.orientationIndex(this.p0,this.p1,a.p0),c=fd.orientationIndex(this.p0,this.p1,a.p1);return b>=0&&c>=0?Math.max(b,c):b<=0&&c<=0?Math.max(b,c):0}if(arguments[0]instanceof Oc){var d=arguments[0];return fd.orientationIndex(this.p0,this.p1,d)}},toGeometry:function(a){return a.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(a){if(!(a instanceof kf))return!1;var b=a;return this.p0.equals(b.p0)&&this.p1.equals(b.p1)},intersection:function(a){var b=new cd;return b.computeIntersection(this.p0,this.p1,a.p0,a.p1),b.hasIntersection()?b.getIntersection(0):null},project:function(){if(arguments[0]instanceof Oc){var a=arguments[0];if(a.equals(this.p0)||a.equals(this.p1))return new Oc(a);var b=this.projectionFactor(a),c=new Oc;return c.x=this.p0.x+b*(this.p1.x-this.p0.x),c.y=this.p0.y+b*(this.p1.y-this.p0.y),c}if(arguments[0]instanceof kf){var d=arguments[0],e=this.projectionFactor(d.p0),f=this.projectionFactor(d.p1);if(e>=1&&f>=1)return null;if(e<=0&&f<=0)return null;var g=this.project(d.p0);e<0&&(g=this.p0),e>1&&(g=this.p1);var h=this.project(d.p1);return f<0&&(h=this.p0),f>1&&(h=this.p1),new kf(g,h)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(a){return 0===a?this.p0:this.p1},distancePerpendicular:function(a){return fd.distancePointLinePerpendicular(a,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return kf.midPoint(this.p0,this.p1)},projectionFactor:function(a){if(a.equals(this.p0))return 0;if(a.equals(this.p1))return 1;var b=this.p1.x-this.p0.x,c=this.p1.y-this.p0.y,d=b*b+c*c;return d<=0?Hc.NaN:((a.x-this.p0.x)*b+(a.y-this.p0.y)*c)/d},closestPoints:function(a){var b=this.intersection(a);if(null!==b)return[b,b];var c=new Array(2).fill(null),d=Hc.MAX_VALUE,e=null,f=this.closestPoint(a.p0);d=f.distance(a.p0),c[0]=f,c[1]=a.p0;var g=this.closestPoint(a.p1);(e=g.distance(a.p1))<d&&(d=e,c[0]=g,c[1]=a.p1);var h=a.closestPoint(this.p0);(e=h.distance(this.p0))<d&&(d=e,c[0]=this.p0,c[1]=h);var i=a.closestPoint(this.p1);return e=i.distance(this.p1),e<d&&(d=e,c[0]=this.p1,c[1]=i),c},closestPoint:function(a){var b=this.projectionFactor(a);return b>0&&b<1?this.project(a):this.p0.distance(a)<this.p1.distance(a)?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(a){var b=a,c=this.p0.compareTo(b.p0);return 0!==c?c:this.p1.compareTo(b.p1)},reverse:function(){var a=this.p0;this.p0=this.p1,this.p1=a},equalsTopo:function(a){return this.p0.equals(a.p0)&&this.p1.equals(a.p1)||this.p0.equals(a.p1)&&this.p1.equals(a.p0)},lineIntersection:function(a){try{return Zc.intersection(this.p0,this.p1,a.p0,a.p1)}catch(a){if(!(a instanceof Xc))throw a}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(a,b){var c=this.p0.x+a*(this.p1.x-this.p0.x),d=this.p0.y+a*(this.p1.y-this.p0.y),e=this.p1.x-this.p0.x,f=this.p1.y-this.p0.y,g=Math.sqrt(e*e+f*f),h=0,i=0;if(0!==b){if(g<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");h=b*e/g,i=b*f/g}return new Oc(c-i,d+h)},setCoordinates:function(){if(1===arguments.length){var a=arguments[0];this.setCoordinates(a.p0,a.p1)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.p0.x=b.x,this.p0.y=b.y,this.p1.x=c.x,this.p1.y=c.y}},segmentFraction:function(a){var b=this.projectionFactor(a);return b<0?b=0:(b>1||Hc.isNaN(b))&&(b=1),b},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof kf){var a=arguments[0];return fd.distanceLineLine(this.p0,this.p1,a.p0,a.p1)}if(arguments[0]instanceof Oc){var b=arguments[0];return fd.distancePointLine(b,this.p0,this.p1)}},pointAlong:function(a){var b=new Oc;return b.x=this.p0.x+a*(this.p1.x-this.p0.x),b.y=this.p0.y+a*(this.p1.y-this.p0.y),b},hashCode:function(){var a=java.lang.Double.doubleToLongBits(this.p0.x);a^=31*java.lang.Double.doubleToLongBits(this.p0.y);var b=Math.trunc(a)^Math.trunc(a>>32),c=java.lang.Double.doubleToLongBits(this.p1.x);return c^=31*java.lang.Double.doubleToLongBits(this.p1.y),b^Math.trunc(c)^Math.trunc(c>>32)},interfaces_:function(){return[Ic,Kc]},getClass:function(){return kf}}),kf.midPoint=function(a,b){return new Oc((a.x+b.x)/2,(a.y+b.y)/2)},kf.serialVersionUID=0x2d2172135f411c00,Jn(lf.prototype,{select:function(){if(1===arguments.length);else if(2===arguments.length){var a=arguments[0],b=arguments[1];a.getLineSegment(b,this.selectedSegment),this.select(this.selectedSegment)}},interfaces_:function(){return[]},getClass:function(){return lf}}),Jn(mf.prototype,{hasChildren:function(){for(var a=0;a<2;a++)if(null!==this.subnode[a])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(a){a.addAll(this.items);for(var b=0;b<2;b++)null!==this.subnode[b]&&this.subnode[b].addAllItems(a);return a},size:function(){for(var a=0,b=0;b<2;b++)null!==this.subnode[b]&&(a+=this.subnode[b].size());return a+this.items.size()},addAllItemsFromOverlapping:function(a,b){if(null!==a&&!this.isSearchMatch(a))return null;b.addAll(this.items),null!==this.subnode[0]&&this.subnode[0].addAllItemsFromOverlapping(a,b),null!==this.subnode[1]&&this.subnode[1].addAllItemsFromOverlapping(a,b)},hasItems:function(){return!this.items.isEmpty()},remove:function(a,b){if(!this.isSearchMatch(a))return!1;for(var c=!1,d=0;d<2;d++)if(null!==this.subnode[d]&&(c=this.subnode[d].remove(a,b))){this.subnode[d].isPrunable()&&(this.subnode[d]=null);break}return c||(c=this.items.remove(b))},getItems:function(){return this.items},depth:function(){for(var a=0,b=0;b<2;b++)if(null!==this.subnode[b]){var c=this.subnode[b].depth();c>a&&(a=c)}return a+1},nodeSize:function(){for(var a=0,b=0;b<2;b++)null!==this.subnode[b]&&(a+=this.subnode[b].nodeSize());return a+1},add:function(a){this.items.add(a)},interfaces_:function(){return[]},getClass:function(){return mf}}),mf.getSubnodeIndex=function(a,b){var c=-1;return a.min>=b&&(c=1),a.max<=b&&(c=0),c},Jn(nf.prototype,{expandToInclude:function(a){a.max>this.max&&(this.max=a.max),a.min<this.min&&(this.min=a.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(1===arguments.length){var a=arguments[0];return this.overlaps(a.min,a.max)}if(2===arguments.length){var b=arguments[0],c=arguments[1];return!(this.min>c||this.max<b)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(1===arguments.length){if(arguments[0]instanceof nf){var a=arguments[0];return this.contains(a.min,a.max)}if("number"==typeof arguments[0]){var b=arguments[0];return b>=this.min&&b<=this.max}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];return c>=this.min&&d<=this.max}},init:function(a,b){this.min=a,this.max=b,a>b&&(this.min=b,this.max=a)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return nf}}),of.exponent=function(a){return pf(64,a)-1023},of.powerOf2=function(a){return Math.pow(2,a)},Jn(qf.prototype,{getInterval:function(){return this.interval},getLevel:function(){return this.level},computeKey:function(a){for(this.level=qf.computeLevel(a),this.interval=new nf,this.computeInterval(this.level,a);!this.interval.contains(a);)this.level+=1,this.computeInterval(this.level,a)},computeInterval:function(a,b){var c=of.powerOf2(a);this.pt=Math.floor(b.getMin()/c)*c,this.interval.init(this.pt,this.pt+c)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return qf}}),qf.computeLevel=function(a){var b=a.getWidth();return of.exponent(b)+1},Kn(rf,mf),Jn(rf.prototype,{getInterval:function(){return this.interval},find:function(a){var b=mf.getSubnodeIndex(a,this.centre);if(-1===b)return this;if(null!==this.subnode[b]){return this.subnode[b].find(a)}return this},insert:function(a){Nc.isTrue(null===this.interval||this.interval.contains(a.interval));var b=mf.getSubnodeIndex(a.interval,this.centre);if(a.level===this.level-1)this.subnode[b]=a;else{var c=this.createSubnode(b);c.insert(a),this.subnode[b]=c}},isSearchMatch:function(a){return a.overlaps(this.interval)},getSubnode:function(a){return null===this.subnode[a]&&(this.subnode[a]=this.createSubnode(a)),this.subnode[a]},getNode:function(a){var b=mf.getSubnodeIndex(a,this.centre);if(-1!==b){return this.getSubnode(b).getNode(a)}return this},createSubnode:function(a){var b=0,c=0;switch(a){case 0:b=this.interval.getMin(),c=this.centre;break;case 1:b=this.centre,c=this.interval.getMax()}return new rf(new nf(b,c),this.level-1)},interfaces_:function(){return[]},getClass:function(){return rf}}),rf.createNode=function(a){var b=new qf(a);return new rf(b.getInterval(),b.getLevel())},rf.createExpanded=function(a,b){var c=new nf(b);null!==a&&c.expandToInclude(a.interval);var d=rf.createNode(c);return null!==a&&d.insert(a),d},Jn(sf.prototype,{interfaces_:function(){return[]},getClass:function(){return sf}}),sf.isZeroWidth=function(a,b){var c=b-a;if(0===c)return!0;var d=Math.max(Math.abs(a),Math.abs(b)),e=c/d;return of.exponent(e)<=sf.MIN_BINARY_EXPONENT},sf.MIN_BINARY_EXPONENT=-50,Kn(tf,mf),Jn(tf.prototype,{insert:function(a,b){var c=mf.getSubnodeIndex(a,tf.origin);if(-1===c)return this.add(b),null;var d=this.subnode[c];if(null===d||!d.getInterval().contains(a)){var e=rf.createExpanded(d,a);this.subnode[c]=e}this.insertContained(this.subnode[c],a,b)},isSearchMatch:function(a){return!0},insertContained:function(a,b,c){Nc.isTrue(a.getInterval().contains(b));var d=sf.isZeroWidth(b.getMin(),b.getMax()),e=null;e=d?a.find(b):a.getNode(b),e.add(c)},interfaces_:function(){return[]},getClass:function(){return tf}}),tf.origin=0,Jn(uf.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(a,b){this.collectStats(a);var c=uf.ensureExtent(a,this.minExtent);this.root.insert(c,b)},query:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var a=arguments[0];return this.query(new nf(a,a))}if(arguments[0]instanceof nf){var b=arguments[0],c=new ud;return this.query(b,c),c}}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.root.addAllItemsFromOverlapping(b,c)}},iterator:function(){var a=new ud;return this.root.addAllItems(a),a.iterator()},remove:function(a,b){var c=uf.ensureExtent(a,this.minExtent);return this.root.remove(c,b)},collectStats:function(a){var b=a.getWidth();b<this.minExtent&&b>0&&(this.minExtent=b)},depth:function(){return null!==this.root?this.root.depth():0},nodeSize:function(){return null!==this.root?this.root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return uf}}),uf.ensureExtent=function(a,b){var c=a.getMin(),d=a.getMax();return c!==d?a:(c===d&&(c-=b/2,d=c+b/2),new nf(c,d))},Jn(vf.prototype,{getLineSegment:function(a,b){b.p0=this.pts[a],b.p1=this.pts[a+1]},computeSelect:function(a,b,c,d){var e=this.pts[b],f=this.pts[c];if(d.tempEnv1.init(e,f),c-b==1)return d.select(this,b),null;if(!a.intersects(d.tempEnv1))return null;var g=Math.trunc((b+c)/2);b<g&&this.computeSelect(a,b,g,d),g<c&&this.computeSelect(a,g,c,d)},getCoordinates:function(){for(var a=new Array(this.end-this.start+1).fill(null),b=0,c=this.start;c<=this.end;c++)a[b++]=this.pts[c];return a},computeOverlaps:function(a,b){this.computeOverlapsInternal(this.start,this.end,a,a.start,a.end,b)},setId:function(a){this.id=a},select:function(a,b){this.computeSelect(a,this.start,this.end,b)},getEnvelope:function(){if(null===this.env){var a=this.pts[this.start],b=this.pts[this.end];this.env=new $c(a,b)}return this.env},getEndIndex:function(){return this.end},getStartIndex:function(){return this.start},getContext:function(){return this.context},getId:function(){return this.id},computeOverlapsInternal:function(a,b,c,d,e,f){var g=this.pts[a],h=this.pts[b],i=c.pts[d],j=c.pts[e];if(b-a==1&&e-d==1)return f.overlap(this,a,c,d),null;if(f.tempEnv1.init(g,h),f.tempEnv2.init(i,j),!f.tempEnv1.intersects(f.tempEnv2))return null;var k=Math.trunc((a+b)/2),l=Math.trunc((d+e)/2);a<k&&(d<l&&this.computeOverlapsInternal(a,k,c,d,l,f),l<e&&this.computeOverlapsInternal(a,k,c,l,e,f)),k<b&&(d<l&&this.computeOverlapsInternal(k,b,c,d,l,f),l<e&&this.computeOverlapsInternal(k,b,c,l,e,f))},interfaces_:function(){return[]},getClass:function(){return vf}}),Jn(wf.prototype,{interfaces_:function(){return[]},getClass:function(){return wf}}),wf.getChainStartIndices=function(a){var b=0,c=new ud;c.add(new Sc(b));do{var d=wf.findChainEnd(a,b);c.add(new Sc(d)),b=d}while(b<a.length-1);return wf.toIntArray(c)},wf.findChainEnd=function(a,b){for(var c=b;c<a.length-1&&a[c].equals2D(a[c+1]);)c++;if(c>=a.length-1)return a.length-1;for(var d=$e.quadrant(a[c],a[c+1]),e=b+1;e<a.length;){if(!a[e-1].equals2D(a[e])){if($e.quadrant(a[e-1],a[e])!==d)break}e++}return e-1},wf.getChains=function(){if(1===arguments.length){var a=arguments[0];return wf.getChains(a,null)}if(2===arguments.length){for(var a=arguments[0],b=arguments[1],c=new ud,d=wf.getChainStartIndices(a),e=0;e<d.length-1;e++){var f=new vf(a,d[e],d[e+1],b);c.add(f)}return c}},wf.toIntArray=function(a){for(var b=new Array(a.size()).fill(null),c=0;c<b.length;c++)b[c]=a.get(c).intValue();return b},Jn(xf.prototype,{isInside:function(a){},interfaces_:function(){return[]},getClass:function(){return xf}}),Jn(yf.prototype,{testLineSegment:function(a,b){var c=null,d=null,e=null,f=null,g=b.p0,h=b.p1;c=g.x-a.x,d=g.y-a.y,e=h.x-a.x,f=h.y-a.y,(d>0&&f<=0||f>0&&d<=0)&&0<dd.signOfDet2x2(c,d,e,f)/(f-d)&&this.crossings++},buildIndex:function(){this.tree=new uf;for(var a=wd.removeRepeatedPoints(this.ring.getCoordinates()),b=wf.getChains(a),c=0;c<b.size();c++){var d=b.get(c),e=d.getEnvelope();this.interval.min=e.getMinY(),this.interval.max=e.getMaxY(),this.tree.insert(this.interval,d)}},testMonotoneChain:function(a,b,c){c.select(a,b)},isInside:function(a){this.crossings=0;var b=new $c(Hc.NEGATIVE_INFINITY,Hc.POSITIVE_INFINITY,a.y,a.y);this.interval.min=a.y,this.interval.max=a.y;for(var c=this.tree.query(this.interval),d=new zf(this,a),e=c.iterator();e.hasNext();){var f=e.next();this.testMonotoneChain(b,d,f)}return this.crossings%2==1},interfaces_:function(){return[xf]},getClass:function(){return yf}}),Kn(zf,lf),Jn(zf.prototype,{select:function(){if(1!==arguments.length)return lf.prototype.select.apply(this,arguments);var a=arguments[0];this.mcp.testLineSegment(this.p,a)},interfaces_:function(){return[]},getClass:function(){return zf}}),yf.MCSelecter=zf,Jn(Af.prototype,{locateInternal:function(){if(arguments[0]instanceof Oc&&arguments[1]instanceof ee){var a=arguments[0],b=arguments[1];if(b.isEmpty())return Fc.EXTERIOR;var c=b.getExteriorRing(),d=this.locateInPolygonRing(a,c);if(d===Fc.EXTERIOR)return Fc.EXTERIOR;if(d===Fc.BOUNDARY)return Fc.BOUNDARY;for(var e=0;e<b.getNumInteriorRing();e++){var f=b.getInteriorRingN(e),g=this.locateInPolygonRing(a,f);if(g===Fc.INTERIOR)return Fc.EXTERIOR;if(g===Fc.BOUNDARY)return Fc.BOUNDARY}return Fc.INTERIOR}if(arguments[0]instanceof Oc&&arguments[1]instanceof ae){var a=arguments[0],h=arguments[1];if(!h.getEnvelopeInternal().intersects(a))return Fc.EXTERIOR;var i=h.getCoordinates();return h.isClosed()||!a.equals(i[0])&&!a.equals(i[i.length-1])?fd.isOnLine(a,i)?Fc.INTERIOR:Fc.EXTERIOR:Fc.BOUNDARY}if(arguments[0]instanceof Oc&&arguments[1]instanceof ce){var a=arguments[0],i=arguments[1];return i.getCoordinate().equals2D(a)?Fc.INTERIOR:Fc.EXTERIOR}},locateInPolygonRing:function(a,b){return b.getEnvelopeInternal().intersects(a)?fd.locatePointInRing(a,b.getCoordinates()):Fc.EXTERIOR},intersects:function(a,b){return this.locate(a,b)!==Fc.EXTERIOR},updateLocationInfo:function(a){a===Fc.INTERIOR&&(this.isIn=!0),a===Fc.BOUNDARY&&this.numBoundaries++},computeLocation:function(a,b){if(b instanceof ce&&this.updateLocationInfo(this.locateInternal(a,b)),b instanceof ae)this.updateLocationInfo(this.locateInternal(a,b));else if(b instanceof ee)this.updateLocationInfo(this.locateInternal(a,b));else if(b instanceof Rd)for(var c=b,d=0;d<c.getNumGeometries();d++){var e=c.getGeometryN(d);this.updateLocationInfo(this.locateInternal(a,e))}else if(b instanceof he)for(var f=b,d=0;d<f.getNumGeometries();d++){var g=f.getGeometryN(d);this.updateLocationInfo(this.locateInternal(a,g))}else if(b instanceof Qd)for(var h=new Xe(b);h.hasNext();){var i=h.next();i!==b&&this.computeLocation(a,i)}},locate:function(a,b){return b.isEmpty()?Fc.EXTERIOR:b instanceof ae?this.locateInternal(a,b):b instanceof ee?this.locateInternal(a,b):(this.isIn=!1,this.numBoundaries=0,this.computeLocation(a,b),this.boundaryRule.isInBoundary(this.numBoundaries)?Fc.BOUNDARY:this.numBoundaries>0||this.isIn?Fc.INTERIOR:Fc.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return Af}}),Jn(Bf.prototype,{computeIntersections:function(a,b){this.mce.computeIntersectsForChain(this.chainIndex,a.mce,a.chainIndex,b)},interfaces_:function(){return[]},getClass:function(){return Bf}}),Jn(Cf.prototype,{isDelete:function(){return this.eventType===Cf.DELETE},setDeleteEventIndex:function(a){this.deleteEventIndex=a},getObject:function(){return this.obj},compareTo:function(a){var b=a;return this.xValue<b.xValue?-1:this.xValue>b.xValue?1:this.eventType<b.eventType?-1:this.eventType>b.eventType?1:0},getInsertEvent:function(){return this.insertEvent},isInsert:function(){return this.eventType===Cf.INSERT},isSameLabel:function(a){return null!==this.label&&this.label===a.label},getDeleteEventIndex:function(){return this.deleteEventIndex},interfaces_:function(){return[Ic]},getClass:function(){return Cf}}),Cf.INSERT=1,Cf.DELETE=2,Jn(Df.prototype,{interfaces_:function(){return[]},getClass:function(){return Df}});var $n={reverseOrder:function(){return{compare:function(a,b){return b.compareTo(a)}}},min:function(a){return $n.sort(a),a.get(0)},sort:function(a,b){var c=a.toArray();b?Md.sort(c,b):Md.sort(c);for(var d=a.iterator(),e=0,f=c.length;e<f;e++)d.next(),d.set(c[e])},singletonList:function(a){var b=new ud;return b.add(a),b}};Jn(Ef.prototype,{isTrivialIntersection:function(a,b,c,d){if(a===c&&1===this.li.getIntersectionNum()){if(Ef.isAdjacentSegments(b,d))return!0;if(a.isClosed()){var e=a.getNumPoints()-1;if(0===b&&d===e||0===d&&b===e)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},setIsDoneIfProperInt:function(a){this.isDoneWhenProperInt=a},hasProperInteriorIntersection:function(){return this.hasProperInterior},isBoundaryPointInternal:function(a,b){for(var c=b.iterator();c.hasNext();){var d=c.next(),e=d.getCoordinate();if(a.isIntersection(e))return!0}return!1},hasProperIntersection:function(){return this.hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(a,b){return null!==b&&(!!this.isBoundaryPointInternal(a,b[0])||!!this.isBoundaryPointInternal(a,b[1]))},setBoundaryNodes:function(a,b){this.bdyNodes=new Array(2).fill(null),this.bdyNodes[0]=a,this.bdyNodes[1]=b},addIntersections:function(a,b,c,d){if(a===c&&b===d)return null;this.numTests++;var e=a.getCoordinates()[b],f=a.getCoordinates()[b+1],g=c.getCoordinates()[d],h=c.getCoordinates()[d+1];this.li.computeIntersection(e,f,g,h),this.li.hasIntersection()&&(this.recordIsolated&&(a.setIsolated(!1),c.setIsolated(!1)),this.numIntersections++,this.isTrivialIntersection(a,b,c,d)||(this._hasIntersection=!0,!this.includeProper&&this.li.isProper()||(a.addIntersections(this.li,b,0),c.addIntersections(this.li,d,1)),this.li.isProper()&&(this.properIntersectionPoint=this.li.getIntersection(0).copy(),this.hasProper=!0,this.isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this.li,this.bdyNodes)||(this.hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return Ef}}),Ef.isAdjacentSegments=function(a,b){return 1===Math.abs(a-b)},Kn(Ff,Df),Jn(Ff.prototype,{prepareEvents:function(){$n.sort(this.events);for(var a=0;a<this.events.size();a++){var b=this.events.get(a);b.isDelete()&&b.getInsertEvent().setDeleteEventIndex(a)}},computeIntersections:function(){if(1===arguments.length){var a=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var b=0;b<this.events.size();b++){var c=this.events.get(b);if(c.isInsert()&&this.processOverlaps(b,c.getDeleteEventIndex(),c,a),a.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Ef&&In(arguments[0],rd)&&In(arguments[1],rd)){var d=arguments[0],e=arguments[1],a=arguments[2];this.addEdges(d,d),this.addEdges(e,e),this.computeIntersections(a)}else if("boolean"==typeof arguments[2]&&In(arguments[0],rd)&&arguments[1]instanceof Ef){var f=arguments[0],a=arguments[1],g=arguments[2];g?this.addEdges(f,null):this.addEdges(f),this.computeIntersections(a)}},addEdge:function(a,b){for(var c=a.getMonotoneChainEdge(),d=c.getStartIndexes(),e=0;e<d.length-1;e++){var f=new Bf(c,e),g=new Cf(b,c.getMinX(e),f);this.events.add(g),this.events.add(new Cf(c.getMaxX(e),g))}},processOverlaps:function(a,b,c,d){for(var e=c.getObject(),f=a;f<b;f++){var g=this.events.get(f);if(g.isInsert()){var h=g.getObject();c.isSameLabel(g)||(e.computeIntersections(h,d),this.nOverlaps++)}}},addEdges:function(){if(1===arguments.length)for(var a=arguments[0],b=a.iterator();b.hasNext();){var c=b.next();this.addEdge(c,c)}else if(2===arguments.length)for(var a=arguments[0],d=arguments[1],b=a.iterator();b.hasNext();){var c=b.next();this.addEdge(c,d)}},interfaces_:function(){return[]},getClass:function(){return Ff}}),Jn(Gf.prototype,{visitItem:function(a){},interfaces_:function(){return[]},getClass:function(){return Gf}}),Jn(Hf.prototype,{getMin:function(){return this.min},intersects:function(a,b){return!(this.min>b||this.max<a)},getMax:function(){return this.max},toString:function(){return ad.toLineString(new Oc(this.min,0),new Oc(this.max,0))},interfaces_:function(){return[]},getClass:function(){return Hf}}),Jn(If.prototype,{compare:function(a,b){var c=a,d=b,e=(c.min+c.max)/2,f=(d.min+d.max)/2;return e<f?-1:e>f?1:0},interfaces_:function(){return[Jc]},getClass:function(){return If}}),Hf.NodeComparator=If,Kn(Jf,Hf),Jn(Jf.prototype,{query:function(a,b,c){if(!this.intersects(a,b))return null;c.visitItem(this.item)},interfaces_:function(){return[]},getClass:function(){return Jf}}),Kn(Kf,Hf),Jn(Kf.prototype,{buildExtent:function(a,b){this.min=Math.min(a.min,b.min),this.max=Math.max(a.max,b.max)},query:function(a,b,c){if(!this.intersects(a,b))return null;null!==this.node1&&this.node1.query(a,b,c),null!==this.node2&&this.node2.query(a,b,c)},interfaces_:function(){return[]},getClass:function(){return Kf}}),Jn(Lf.prototype,{buildTree:function(){$n.sort(this.leaves,new IntervalRTreeNode.NodeComparator);for(var a=this.leaves,b=null,c=new ud;;){if(this.buildLevel(a,c),1===c.size())return c.get(0);b=a,a=c,c=b}},insert:function(a,b,c){if(null!==this.root)throw new IllegalStateException("Index cannot be added to once it has been queried");this.leaves.add(new Jf(a,b,c))},query:function(a,b,c){this.init(),this.root.query(a,b,c)},buildRoot:function(){if(null!==this.root)return null;this.root=this.buildTree()},printNode:function(a){Yc.out.println(ad.toLineString(new Oc(a.min,this.level),new Oc(a.max,this.level)))},init:function(){if(null!==this.root)return null;this.buildRoot()},buildLevel:function(a,b){this.level++,b.clear();for(var c=0;c<a.size();c+=2){var d=a.get(c);if(null===(c+1<a.size()?a.get(c):null))b.add(d);else{var e=new Kf(a.get(c),a.get(c+1));b.add(e)}}},interfaces_:function(){return[]},getClass:function(){return Lf}}),Jn(Mf.prototype,{filter:function(a){if(this.isForcedToLineString&&a instanceof ge){var b=a.getFactory().createLineString(a.getCoordinateSequence());return this.lines.add(b),null}a instanceof ae&&this.lines.add(a)},setForceToLineString:function(a){this.isForcedToLineString=a},interfaces_:function(){return[gd]},getClass:function(){return Mf}}),Mf.getGeometry=function(){if(1===arguments.length){var a=arguments[0];return a.getFactory().buildGeometry(Mf.getLines(a))}if(2===arguments.length){var a=arguments[0],b=arguments[1];return a.getFactory().buildGeometry(Mf.getLines(a,b))}},Mf.getLines=function(){if(1===arguments.length){var a=arguments[0];return Mf.getLines(a,!1)}if(2===arguments.length){if(In(arguments[0],pd)&&In(arguments[1],pd)){for(var b=arguments[0],c=arguments[1],d=b.iterator();d.hasNext();){var e=d.next();Mf.getLines(e,c)}return c}if(arguments[0]instanceof hd&&"boolean"==typeof arguments[1]){var a=arguments[0],f=arguments[1],c=new ud;return a.apply(new Mf(c,f)),c}if(arguments[0]instanceof hd&&In(arguments[1],pd)){var a=arguments[0],c=arguments[1];return a instanceof ae?c.add(a):a.apply(new Mf(c)),c}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&In(arguments[0],pd)&&In(arguments[1],pd)){for(var b=arguments[0],c=arguments[1],f=arguments[2],d=b.iterator();d.hasNext();){var e=d.next();Mf.getLines(e,c,f)}return c}if("boolean"==typeof arguments[2]&&arguments[0]instanceof hd&&In(arguments[1],pd)){var a=arguments[0],c=arguments[1],f=arguments[2];return a.apply(new Mf(c,f)),c}}},Jn(Nf.prototype,{visitItem:function(a){this.items.add(a)},getItems:function(){return this.items},interfaces_:function(){return[Gf]},getClass:function(){return Nf}}),Jn(Of.prototype,{locate:function(a){var b=new ed(a),c=new Pf(b);return this.index.query(a.y,a.y,c),b.getLocation()},interfaces_:function(){return[We]},getClass:function(){return Of}}),Jn(Pf.prototype,{visitItem:function(a){var b=a;this.counter.countSegment(b.getCoordinate(0),b.getCoordinate(1))},interfaces_:function(){return[Gf]},getClass:function(){return Pf}}),Jn(Qf.prototype,{init:function(a){for(var b=Mf.getLines(a),c=b.iterator();c.hasNext();){var d=c.next(),e=d.getCoordinates();this.addLine(e)}},addLine:function(a){for(var b=1;b<a.length;b++){var c=new kf(a[b-1],a[b]),d=Math.min(c.p0.y,c.p1.y),e=Math.max(c.p0.y,c.p1.y);this.index.insert(d,e,c)}},query:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new Nf;return this.index.query(a,b,c),c.getItems()}if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];this.index.query(a,b,c)}},interfaces_:function(){return[]},getClass:function(){return Qf}}),Of.SegmentVisitor=Pf,Of.IntervalIndexedGeometry=Qf,Jn(Rf.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex),a.println(" dist = "+this.dist)},compareTo:function(a){var b=a;return this.compare(b.segmentIndex,b.dist)},isEndPoint:function(a){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===a},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(a,b){return this.segmentIndex<a?-1:this.segmentIndex>a?1:this.dist<b?-1:this.dist>b?1:0},interfaces_:function(){return[Ic]},getClass:function(){return Rf}}),Jn(Sf.prototype,{print:function(a){a.println("Intersections:");for(var b=this.iterator();b.hasNext();){b.next().print(a)}},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(a){this.addEndpoints();for(var b=this.iterator(),c=b.next();b.hasNext();){var d=b.next(),e=this.createSplitEdge(c,d);a.add(e),c=d}},addEndpoints:function(){var a=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[a],a,0)},createSplitEdge:function(a,b){var c=b.segmentIndex-a.segmentIndex+2,d=this.edge.pts[b.segmentIndex],e=b.dist>0||!b.coord.equals2D(d);e||c--;var f=new Array(c).fill(null),g=0;f[g++]=new Oc(a.coord);for(var h=a.segmentIndex+1;h<=b.segmentIndex;h++)f[g++]=this.edge.pts[h];return e&&(f[g]=b.coord),new Wf(f,new Se(this.edge.label))},add:function(a,b,c){var d=new Rf(a,b,c),e=this.nodeMap.get(d);return null!==e?e:(this.nodeMap.put(d,d),d)},isIntersection:function(a){for(var b=this.iterator();b.hasNext();){if(b.next().coord.equals(a))return!0}return!1},interfaces_:function(){return[]},getClass:function(){return Sf}}),Jn(Tf.prototype,{getChainStartIndices:function(a){var b=0,c=new ud;c.add(new Sc(b));do{var d=this.findChainEnd(a,b);c.add(new Sc(d)),b=d}while(b<a.length-1);return Tf.toIntArray(c)},findChainEnd:function(a,b){for(var c=$e.quadrant(a[b],a[b+1]),d=b+1;d<a.length;){if($e.quadrant(a[d-1],a[d])!==c)break;d++}return d-1},interfaces_:function(){return[]},getClass:function(){return Tf}}),Tf.toIntArray=function(a){for(var b=new Array(a.size()).fill(null),c=0;c<b.length;c++)b[c]=a.get(c).intValue();return b},Jn(Uf.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(a){var b=this.pts[this.startIndex[a]].x,c=this.pts[this.startIndex[a+1]].x;return b>c?b:c},getMinX:function(a){var b=this.pts[this.startIndex[a]].x,c=this.pts[this.startIndex[a+1]].x;return b<c?b:c},computeIntersectsForChain:function(){if(4===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];this.computeIntersectsForChain(this.startIndex[a],this.startIndex[a+1],b,b.startIndex[c],b.startIndex[c+1],d)}else if(6===arguments.length){var e=arguments[0],f=arguments[1],b=arguments[2],g=arguments[3],h=arguments[4],i=arguments[5],j=this.pts[e],k=this.pts[f],l=b.pts[g],m=b.pts[h];if(f-e==1&&h-g==1)return i.addIntersections(this.e,e,b.e,g),null;if(this.env1.init(j,k),this.env2.init(l,m),!this.env1.intersects(this.env2))return null;var n=Math.trunc((e+f)/2),o=Math.trunc((g+h)/2);e<n&&(g<o&&this.computeIntersectsForChain(e,n,b,g,o,i),o<h&&this.computeIntersectsForChain(e,n,b,o,h,i)),n<f&&(g<o&&this.computeIntersectsForChain(n,f,b,g,o,i),o<h&&this.computeIntersectsForChain(n,f,b,o,h,i))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(a,b){for(var c=0;c<this.startIndex.length-1;c++)for(var d=0;d<a.startIndex.length-1;d++)this.computeIntersectsForChain(c,a,d,b)},interfaces_:function(){return[]},getClass:function(){return Uf}}),Jn(Vf.prototype,{getDepth:function(a,b){return this.depth[a][b]},setDepth:function(a,b,c){this.depth[a][b]=c},isNull:function(){if(0===arguments.length){for(var a=0;a<2;a++)for(var b=0;b<3;b++)if(this.depth[a][b]!==Vf.NULL_VALUE)return!1;return!0}if(1===arguments.length){var c=arguments[0];return this.depth[c][1]===Vf.NULL_VALUE}if(2===arguments.length){var c=arguments[0],d=arguments[1];return this.depth[c][d]===Vf.NULL_VALUE}},normalize:function(){for(var a=0;a<2;a++)if(!this.isNull(a)){var b=this.depth[a][1];this.depth[a][2]<b&&(b=this.depth[a][2]),b<0&&(b=0);for(var c=1;c<3;c++){var d=0;this.depth[a][c]>b&&(d=1),this.depth[a][c]=d}}},getDelta:function(a){return this.depth[a][Pe.RIGHT]-this.depth[a][Pe.LEFT]},getLocation:function(a,b){return this.depth[a][b]<=0?Fc.EXTERIOR:Fc.INTERIOR},toString:function(){return"A: "+this.depth[0][1]+","+this.depth[0][2]+" B: "+this.depth[1][1]+","+this.depth[1][2]},add:function(){if(1===arguments.length)for(var a=arguments[0],b=0;b<2;b++)for(var c=1;c<3;c++){var d=a.getLocation(b,c);d!==Fc.EXTERIOR&&d!==Fc.INTERIOR||(this.isNull(b,c)?this.depth[b][c]=Vf.depthAtLocation(d):this.depth[b][c]+=Vf.depthAtLocation(d))}else if(3===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2];g===Fc.INTERIOR&&this.depth[e][f]++}},interfaces_:function(){return[]},getClass:function(){return Vf}}),Vf.depthAtLocation=function(a){return a===Fc.EXTERIOR?0:a===Fc.INTERIOR?1:Vf.NULL_VALUE},Vf.NULL_VALUE=-1,Kn(Wf,af),Jn(Wf.prototype,{getDepth:function(){return this.depth},getCollapsedEdge:function(){var a=new Array(2).fill(null);return a[0]=this.pts[0],a[1]=this.pts[1],new Wf(a,Se.toLineLabel(this.label))},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(a){this._isIsolated=a},setName:function(a){this.name=a},equals:function(a){if(!(a instanceof Wf))return!1;var b=a;if(this.pts.length!==b.pts.length)return!1;for(var c=!0,d=!0,e=this.pts.length,f=0;f<this.pts.length;f++)if(this.pts[f].equals2D(b.pts[f])||(c=!1),this.pts[f].equals2D(b.pts[--e])||(d=!1),!c&&!d)return!1;return!0},getCoordinate:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var a=arguments[0];return this.pts[a]}},print:function(a){a.print("edge "+this.name+": "),a.print("LINESTRING (");for(var b=0;b<this.pts.length;b++)b>0&&a.print(","),a.print(this.pts[b].x+" "+this.pts[b].y);a.print(")  "+this.label+" "+this.depthDelta)},computeIM:function(a){Wf.updateIM(this.label,a)},isCollapsed:function(){return!!this.label.isArea()&&(3===this.pts.length&&!!this.pts[0].equals(this.pts[2]))},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this.depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(a){a.print("edge "+this.name+": ");for(var b=this.pts.length-1;b>=0;b--)a.print(this.pts[b]+" ");a.println("")},getMonotoneChainEdge:function(){return null===this.mce&&(this.mce=new Uf(this)),this.mce},getEnvelope:function(){if(null===this.env){this.env=new $c;for(var a=0;a<this.pts.length;a++)this.env.expandToInclude(this.pts[a])}return this.env},addIntersection:function(a,b,c,d){var e=new Oc(a.getIntersection(d)),f=b,g=a.getEdgeDistance(c,d),h=f+1;if(h<this.pts.length){var i=this.pts[h];e.equals2D(i)&&(f=h,g=0)}this.eiList.add(e,f,g)},toString:function(){var a=new Rc;a.append("edge "+this.name+": "),a.append("LINESTRING (");for(var b=0;b<this.pts.length;b++)b>0&&a.append(","),a.append(this.pts[b].x+" "+this.pts[b].y);return a.append(")  "+this.label+" "+this.depthDelta),a.toString()},isPointwiseEqual:function(a){if(this.pts.length!==a.pts.length)return!1;for(var b=0;b<this.pts.length;b++)if(!this.pts[b].equals2D(a.pts[b]))return!1;return!0},setDepthDelta:function(a){this.depthDelta=a},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(a,b,c){for(var d=0;d<a.getIntersectionNum();d++)this.addIntersection(a,b,c,d)},interfaces_:function(){return[]},getClass:function(){return Wf}}),Wf.updateIM=function(){if(2!==arguments.length)return af.prototype.updateIM.apply(this,arguments);var a=arguments[0],b=arguments[1];b.setAtLeastIfValid(a.getLocation(0,Pe.ON),a.getLocation(1,Pe.ON),1),a.isArea()&&(b.setAtLeastIfValid(a.getLocation(0,Pe.LEFT),a.getLocation(1,Pe.LEFT),2),b.setAtLeastIfValid(a.getLocation(0,Pe.RIGHT),a.getLocation(1,Pe.RIGHT),2))},Kn(Xf,hf),Jn(Xf.prototype,{insertBoundaryPoint:function(a,b){var c=this.nodes.addNode(b),d=c.getLabel(),e=1,f=Fc.NONE;(f=d.getLocation(a,Pe.ON))===Fc.BOUNDARY&&e++;var g=Xf.determineBoundary(this.boundaryNodeRule,e);d.setLocation(a,g)},computeSelfNodes:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return this.computeSelfNodes(a,b,!1)}if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=new Ef(a,!0,!1);d.setIsDoneIfProperInt(c);var e=this.createEdgeSetIntersector(),f=this.parentGeom instanceof ge||this.parentGeom instanceof ee||this.parentGeom instanceof he,g=b||!f;return e.computeIntersections(this.edges,d,g),this.addSelfIntersectionNodes(this.argIndex),d}},computeSplitEdges:function(a){for(var b=this.edges.iterator();b.hasNext();){b.next().eiList.addSplitEdges(a)}},computeEdgeIntersections:function(a,b,c){var d=new Ef(b,c,!0);return d.setBoundaryNodes(this.getBoundaryNodes(),a.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this.edges,a.edges,d),d},getGeometry:function(){return this.parentGeom},getBoundaryNodeRule:function(){return this.boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof ce){var a=arguments[0],b=a.getCoordinate();this.insertPoint(this.argIndex,b,Fc.INTERIOR)}else if(arguments[0]instanceof Oc){var c=arguments[0];this.insertPoint(this.argIndex,c,Fc.INTERIOR)}},addPolygon:function(a){this.addPolygonRing(a.getExteriorRing(),Fc.EXTERIOR,Fc.INTERIOR);for(var b=0;b<a.getNumInteriorRing();b++){var c=a.getInteriorRingN(b);this.addPolygonRing(c,Fc.INTERIOR,Fc.EXTERIOR)}},addEdge:function(a){this.insertEdge(a);var b=a.getCoordinates();this.insertPoint(this.argIndex,b[0],Fc.BOUNDARY),this.insertPoint(this.argIndex,b[b.length-1],Fc.BOUNDARY)},addLineString:function(a){var b=wd.removeRepeatedPoints(a.getCoordinates());if(b.length<2)return this._hasTooFewPoints=!0,this.invalidPoint=b[0],null;var c=new Wf(b,new Se(this.argIndex,Fc.INTERIOR));this.lineEdgeMap.put(a,c),this.insertEdge(c),Nc.isTrue(b.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this.argIndex,b[0]),this.insertBoundaryPoint(this.argIndex,b[b.length-1])},getInvalidPoint:function(){return this.invalidPoint},getBoundaryPoints:function(){for(var a=this.getBoundaryNodes(),b=new Array(a.size()).fill(null),c=0,d=a.iterator();d.hasNext();){var e=d.next();b[c++]=e.getCoordinate().copy()}return b},getBoundaryNodes:function(){return null===this.boundaryNodes&&(this.boundaryNodes=this.nodes.getBoundaryNodes(this.argIndex)),this.boundaryNodes},addSelfIntersectionNode:function(a,b,c){if(this.isBoundaryNode(a,b))return null;c===Fc.BOUNDARY&&this.useBoundaryDeterminationRule?this.insertBoundaryPoint(a,b):this.insertPoint(a,b,c)},addPolygonRing:function(a,b,c){if(a.isEmpty())return null;var d=wd.removeRepeatedPoints(a.getCoordinates());if(d.length<4)return this._hasTooFewPoints=!0,this.invalidPoint=d[0],null;var e=b,f=c;fd.isCCW(d)&&(e=c,f=b);var g=new Wf(d,new Se(this.argIndex,Fc.BOUNDARY,e,f));this.lineEdgeMap.put(a,g),this.insertEdge(g),this.insertPoint(this.argIndex,d[0],Fc.BOUNDARY)},insertPoint:function(a,b,c){var d=this.nodes.addNode(b),e=d.getLabel();null===e?d.label=new Se(a,c):e.setLocation(a,c)},createEdgeSetIntersector:function(){return new Ff},addSelfIntersectionNodes:function(a){for(var b=this.edges.iterator();b.hasNext();)for(var c=b.next(),d=c.getLabel().getLocation(a),e=c.eiList.iterator();e.hasNext();){var f=e.next();this.addSelfIntersectionNode(a,f.coord,d)}},add:function(){if(1!==arguments.length)return hf.prototype.add.apply(this,arguments);var a=arguments[0];if(a.isEmpty())return null;if(a instanceof he&&(this.useBoundaryDeterminationRule=!1),a instanceof ee)this.addPolygon(a);else if(a instanceof ae)this.addLineString(a);else if(a instanceof ce)this.addPoint(a);else if(a instanceof fe)this.addCollection(a);else if(a instanceof Rd)this.addCollection(a);else if(a instanceof he)this.addCollection(a);else{if(!(a instanceof Qd))throw new UnsupportedOperationException(a.getClass().getName());this.addCollection(a)}},addCollection:function(a){for(var b=0;b<a.getNumGeometries();b++){var c=a.getGeometryN(b);this.add(c)}},locate:function(a){return In(this.parentGeom,de)&&this.parentGeom.getNumGeometries()>50?(null===this.areaPtLocator&&(this.areaPtLocator=new Of(this.parentGeom)),this.areaPtLocator.locate(a)):this.ptLocator.locate(a,this.parentGeom)},findEdge:function(){if(1===arguments.length){var a=arguments[0];return this.lineEdgeMap.get(a)}return hf.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return Xf}}),Xf.determineBoundary=function(a,b){return a.isInBoundary(b)?Fc.BOUNDARY:Fc.INTERIOR},Jn(Yf.prototype,{createEdgeEndForNext:function(a,b,c,d){var e=c.segmentIndex+1;if(e>=a.getNumPoints()&&null===d)return null;var f=a.getCoordinate(e);null!==d&&d.segmentIndex===c.segmentIndex&&(f=d.coord);var g=new ff(a,c.coord,f,new Se(a.getLabel()));b.add(g)},createEdgeEndForPrev:function(a,b,c,d){var e=c.segmentIndex;if(0===c.dist){if(0===e)return null;e--}var f=a.getCoordinate(e);null!==d&&d.segmentIndex>=e&&(f=d.coord);var g=new Se(a.getLabel());g.flip();var h=new ff(a,c.coord,f,g);b.add(h)},computeEdgeEnds:function(){if(1===arguments.length){for(var a=arguments[0],b=new ud,c=a;c.hasNext();){var d=c.next();this.computeEdgeEnds(d,b)}return b}if(2===arguments.length){var e=arguments[0],b=arguments[1],f=e.getEdgeIntersectionList();f.addEndpoints();var g=f.iterator(),h=null,i=null;if(!g.hasNext())return null;var j=g.next();do{h=i,i=j,j=null,g.hasNext()&&(j=g.next()),null!==i&&(this.createEdgeEndForPrev(e,b,i,h),this.createEdgeEndForNext(e,b,i,j))}while(null!==i)}},interfaces_:function(){return[]},getClass:function(){return Yf}}),Kn(Zf,ff),Jn(Zf.prototype,{insert:function(a){this.edgeEnds.add(a)},print:function(a){a.println("EdgeEndBundle--\x3e Label: "+this.label);for(var b=this.iterator();b.hasNext();){b.next().print(a),a.println()}},iterator:function(){return this.edgeEnds.iterator()},getEdgeEnds:function(){return this.edgeEnds},computeLabelOn:function(a,b){for(var c=0,d=!1,e=this.iterator();e.hasNext();){var f=e.next(),g=f.getLabel().getLocation(a);g===Fc.BOUNDARY&&c++,g===Fc.INTERIOR&&(d=!0)}var g=Fc.NONE;d&&(g=Fc.INTERIOR),c>0&&(g=Xf.determineBoundary(b,c)),this.label.setLocation(a,g)},computeLabelSide:function(a,b){for(var c=this.iterator();c.hasNext();){var d=c.next();if(d.getLabel().isArea()){var e=d.getLabel().getLocation(a,b);if(e===Fc.INTERIOR)return this.label.setLocation(a,b,Fc.INTERIOR),null;e===Fc.EXTERIOR&&this.label.setLocation(a,b,Fc.EXTERIOR)}}},getLabel:function(){return this.label},computeLabelSides:function(a){this.computeLabelSide(a,Pe.LEFT),this.computeLabelSide(a,Pe.RIGHT)},updateIM:function(a){Wf.updateIM(this.label,a)},computeLabel:function(a){for(var b=!1,c=this.iterator();c.hasNext();){c.next().getLabel().isArea()&&(b=!0)}this.label=b?new Se(Fc.NONE,Fc.NONE,Fc.NONE):new Se(Fc.NONE);for(var d=0;d<2;d++)this.computeLabelOn(d,a),b&&this.computeLabelSides(d)},interfaces_:function(){return[]},getClass:function(){return Zf}}),Kn($f,Ze),Jn($f.prototype,{updateIM:function(a){for(var b=this.iterator();b.hasNext();){b.next().updateIM(a)}},insert:function(a){var b=this.edgeMap.get(a);null===b?(b=new Zf(a),this.insertEdgeEnd(a,b)):b.insert(a)},interfaces_:function(){return[]},getClass:function(){return $f}}),Kn(_f,bf),Jn(_f.prototype,{updateIMFromEdges:function(a){this.edges.updateIM(a)},computeIM:function(a){a.setAtLeastIfValid(this.label.getLocation(0),this.label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return _f}}),Kn(ag,cf),Jn(ag.prototype,{createNode:function(a){return new _f(a,new $f)},interfaces_:function(){return[]},getClass:function(){return ag}}),Jn(bg.prototype,{insertEdgeEnds:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();this.nodes.add(c)}},getNodeIterator:function(){return this.nodes.iterator()},copyNodesAndLabels:function(a,b){for(var c=a.getNodeIterator();c.hasNext();){var d=c.next();this.nodes.addNode(d.getCoordinate()).setLabel(b,d.getLabel().getLocation(b))}},build:function(a){this.computeIntersectionNodes(a,0),this.copyNodesAndLabels(a,0);var b=new Yf,c=b.computeEdgeEnds(a.getEdgeIterator());this.insertEdgeEnds(c)},computeIntersectionNodes:function(a,b){for(var c=a.getEdgeIterator();c.hasNext();)for(var d=c.next(),e=d.getLabel().getLocation(b),f=d.getEdgeIntersectionList().iterator();f.hasNext();){var g=f.next(),h=this.nodes.addNode(g.coord);e===Fc.BOUNDARY?h.setLabelBoundary(b):h.getLabel().isNull(b)&&h.setLabel(b,Fc.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return bg}}),Jn(cg.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var a=this.nodeGraph.getNodeIterator();a.hasNext();){var b=a.next();if(!b.getEdges().isAreaLabelsConsistent(this.geomGraph))return this.invalidPoint=b.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this.invalidPoint},hasDuplicateRings:function(){for(var a=this.nodeGraph.getNodeIterator();a.hasNext();)for(var b=a.next(),c=b.getEdges().iterator();c.hasNext();){var d=c.next();if(d.getEdgeEnds().size()>1)return this.invalidPoint=d.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var a=this.geomGraph.computeSelfNodes(this.li,!0,!0);return a.hasProperIntersection()?(this.invalidPoint=a.getProperIntersectionPoint(),!1):(this.nodeGraph.build(this.geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return cg}}),Jn(dg.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return dg}}),Jn(eg.prototype,{getItem:function(){return this.item},getBounds:function(){return this.bounds},interfaces_:function(){return[dg,Kc]},getClass:function(){return eg}}),Jn(fg.prototype,{poll:function(){if(this.isEmpty())return null;var a=this.items.get(1);return this.items.set(1,this.items.get(this._size)),this._size-=1,this.reorder(1),a},size:function(){return this._size},reorder:function(a){for(var b=null,c=this.items.get(a);2*a<=this._size&&(b=2*a,b!==this._size&&this.items.get(b+1).compareTo(this.items.get(b))<0&&b++,this.items.get(b).compareTo(c)<0);a=b)this.items.set(a,this.items.get(b));this.items.set(a,c)},clear:function(){this._size=0,this.items.clear()},isEmpty:function(){return 0===this._size},add:function(a){this.items.add(null),this._size+=1;var b=this._size;for(this.items.set(0,a);a.compareTo(this.items.get(Math.trunc(b/2)))<0;b/=2)this.items.set(b,this.items.get(Math.trunc(b/2)));this.items.set(b,a)},interfaces_:function(){return[]},getClass:function(){return fg}}),Jn(gg.prototype,{insert:function(a,b){},remove:function(a,b){},query:function(){},interfaces_:function(){return[]},getClass:function(){return gg}}),Jn(hg.prototype,{getLevel:function(){return this.level},size:function(){return this.childBoundables.size()},getChildBoundables:function(){return this.childBoundables},addChildBoundable:function(a){Nc.isTrue(null===this.bounds),this.childBoundables.add(a)},isEmpty:function(){return this.childBoundables.isEmpty()},getBounds:function(){return null===this.bounds&&(this.bounds=this.computeBounds()),this.bounds},interfaces_:function(){return[dg,Kc]},getClass:function(){return hg}}),hg.serialVersionUID=0x5a1e55ec41369800,Jn(ig.prototype,{expandToQueue:function(a,b){var c=ig.isComposite(this.boundable1),d=ig.isComposite(this.boundable2);if(c&&d)return ig.area(this.boundable1)>ig.area(this.boundable2)?(this.expand(this.boundable1,this.boundable2,a,b),null):(this.expand(this.boundable2,this.boundable1,a,b),null);if(c)return this.expand(this.boundable1,this.boundable2,a,b),null;if(d)return this.expand(this.boundable2,this.boundable1,a,b),null;throw new Ec("neither boundable is composite")},isLeaves:function(){return!(ig.isComposite(this.boundable1)||ig.isComposite(this.boundable2))},compareTo:function(a){var b=a;return this._distance<b._distance?-1:this._distance>b._distance?1:0},expand:function(a,b,c,d){for(var e=a.getChildBoundables(),f=e.iterator();f.hasNext();){var g=f.next(),h=new ig(g,b,this.itemDistance);h.getDistance()<d&&c.add(h)}},getBoundable:function(a){return 0===a?this.boundable1:this.boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this.itemDistance.distance(this.boundable1,this.boundable2):this.boundable1.getBounds().distance(this.boundable2.getBounds())},interfaces_:function(){return[Ic]},getClass:function(){return ig}}),ig.area=function(a){return a.getBounds().getArea()},ig.isComposite=function(a){return a instanceof hg},Jn(jg.prototype,{getNodeCapacity:function(){return this.nodeCapacity},lastNode:function(a){return a.get(a.size()-1)},size:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this.root));if(1===arguments.length){for(var a=arguments[0],b=0,c=a.getChildBoundables().iterator();c.hasNext();){var d=c.next();d instanceof hg?b+=this.size(d):d instanceof eg&&(b+=1)}return b}},removeItem:function(a,b){for(var c=null,d=a.getChildBoundables().iterator();d.hasNext();){var e=d.next();e instanceof eg&&e.getItem()===b&&(c=e)}return null!==c&&(a.getChildBoundables().remove(c),!0)},itemsTree:function(){if(0===arguments.length){this.build();var a=this.itemsTree(this.root);return null===a?new ud:a}if(1===arguments.length){for(var b=arguments[0],c=new ud,d=b.getChildBoundables().iterator();d.hasNext();){var e=d.next();if(e instanceof hg){var f=this.itemsTree(e);null!==f&&c.add(f)}else e instanceof eg?c.add(e.getItem()):Nc.shouldNeverReachHere()}return c.size()<=0?null:c}},insert:function(a,b){Nc.isTrue(!this.built,"Cannot insert items into an STR packed R-tree after it has been built."),this.itemBoundables.add(new eg(a,b))},boundablesAtLevel:function(){if(1===arguments.length){var a=arguments[0],b=new ud;return this.boundablesAtLevel(a,this.root,b),b}if(3===arguments.length){var a=arguments[0],c=arguments[1],b=arguments[2];if(Nc.isTrue(a>-2),c.getLevel()===a)return b.add(c),null;for(var d=c.getChildBoundables().iterator();d.hasNext();){var e=d.next();e instanceof hg?this.boundablesAtLevel(a,e,b):(Nc.isTrue(e instanceof eg),-1===a&&b.add(e))}return null}},query:function(){if(1===arguments.length){var a=arguments[0];this.build();var b=new ud;return this.isEmpty()?b:(this.getIntersectsOp().intersects(this.root.getBounds(),a)&&this.query(a,this.root,b),b)}if(2===arguments.length){var a=arguments[0],c=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this.root.getBounds(),a)&&this.query(a,this.root,c)}else if(3===arguments.length)if(In(arguments[2],Gf)&&arguments[0]instanceof Object&&arguments[1]instanceof hg)for(var a=arguments[0],d=arguments[1],c=arguments[2],e=d.getChildBoundables(),f=0;f<e.size();f++){var g=e.get(f);this.getIntersectsOp().intersects(g.getBounds(),a)&&(g instanceof hg?this.query(a,g,c):g instanceof eg?c.visitItem(g.getItem()):Nc.shouldNeverReachHere())}else if(In(arguments[2],rd)&&arguments[0]instanceof Object&&arguments[1]instanceof hg)for(var a=arguments[0],d=arguments[1],b=arguments[2],e=d.getChildBoundables(),f=0;f<e.size();f++){var g=e.get(f);this.getIntersectsOp().intersects(g.getBounds(),a)&&(g instanceof hg?this.query(a,g,b):g instanceof eg?b.add(g.getItem()):Nc.shouldNeverReachHere())}},build:function(){if(this.built)return null;this.root=this.itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this.itemBoundables,-1),this.itemBoundables=null,this.built=!0},getRoot:function(){return this.build(),this.root},remove:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this.root.getBounds(),a)&&this.remove(a,this.root,b)}if(3===arguments.length){var a=arguments[0],c=arguments[1],b=arguments[2],d=this.removeItem(c,b);if(d)return!0;for(var e=null,f=c.getChildBoundables().iterator();f.hasNext();){var g=f.next();if(this.getIntersectsOp().intersects(g.getBounds(),a)&&(g instanceof hg&&(d=this.remove(a,g,b)))){e=g;break}}return null!==e&&e.getChildBoundables().isEmpty()&&c.getChildBoundables().remove(e),d}},createHigherLevels:function(a,b){Nc.isTrue(!a.isEmpty());var c=this.createParentBoundables(a,b+1);return 1===c.size()?c.get(0):this.createHigherLevels(c,b+1)},depth:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this.root));if(1===arguments.length){for(var a=arguments[0],b=0,c=a.getChildBoundables().iterator();c.hasNext();){var d=c.next();if(d instanceof hg){var e=this.depth(d);e>b&&(b=e)}}return b+1}},createParentBoundables:function(a,b){Nc.isTrue(!a.isEmpty());var c=new ud;c.add(this.createNode(b));var d=new ud(a);$n.sort(d,this.getComparator());for(var e=d.iterator();e.hasNext();){var f=e.next();this.lastNode(c).getChildBoundables().size()===this.getNodeCapacity()&&c.add(this.createNode(b)),this.lastNode(c).addChildBoundable(f)}return c},isEmpty:function(){return this.built?this.root.isEmpty():this.itemBoundables.isEmpty()},interfaces_:function(){return[Kc]},getClass:function(){return jg}}),jg.compareDoubles=function(a,b){return a>b?1:a<b?-1:0},jg.IntersectsOp=kg,jg.serialVersionUID=-0x35ef64c82d4c5400,jg.DEFAULT_NODE_CAPACITY=10,Jn(lg.prototype,{distance:function(a,b){},interfaces_:function(){return[]},getClass:function(){return lg}}),Kn(mg,jg),Jn(mg.prototype,{createParentBoundablesFromVerticalSlices:function(a,b){Nc.isTrue(a.length>0);for(var c=new ud,d=0;d<a.length;d++)c.addAll(this.createParentBoundablesFromVerticalSlice(a[d],b));return c},createNode:function(a){return new ng(a)},size:function(){return 0===arguments.length?jg.prototype.size.call(this):jg.prototype.size.apply(this,arguments)},insert:function(){if(2!==arguments.length)return jg.prototype.insert.apply(this,arguments);var a=arguments[0],b=arguments[1];if(a.isNull())return null;jg.prototype.insert.call(this,a,b)},getIntersectsOp:function(){return mg.intersectsOp},verticalSlices:function(a,b){for(var c=Math.trunc(Math.ceil(a.size()/b)),d=new Array(b).fill(null),e=a.iterator(),f=0;f<b;f++){d[f]=new ud;for(var g=0;e.hasNext()&&g<c;){var h=e.next();d[f].add(h),g++}}return d},query:function(){if(1===arguments.length){var a=arguments[0];return jg.prototype.query.call(this,a)}if(2===arguments.length){var a=arguments[0],b=arguments[1];jg.prototype.query.call(this,a,b)}else if(3===arguments.length)if(In(arguments[2],Gf)&&arguments[0]instanceof Object&&arguments[1]instanceof hg){var c=arguments[0],d=arguments[1],b=arguments[2];jg.prototype.query.call(this,c,d,b)}else if(In(arguments[2],rd)&&arguments[0]instanceof Object&&arguments[1]instanceof hg){var c=arguments[0],d=arguments[1],e=arguments[2];jg.prototype.query.call(this,c,d,e)}},getComparator:function(){return mg.yComparator},createParentBoundablesFromVerticalSlice:function(a,b){return jg.prototype.createParentBoundables.call(this,a,b)},remove:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return jg.prototype.remove.call(this,a,b)}return jg.prototype.remove.apply(this,arguments)},depth:function(){return 0===arguments.length?jg.prototype.depth.call(this):jg.prototype.depth.apply(this,arguments)},createParentBoundables:function(a,b){Nc.isTrue(!a.isEmpty());var c=Math.trunc(Math.ceil(a.size()/this.getNodeCapacity())),d=new ud(a);$n.sort(d,mg.xComparator);var e=this.verticalSlices(d,Math.trunc(Math.ceil(Math.sqrt(c))));return this.createParentBoundablesFromVerticalSlices(e,b)},nearestNeighbour:function(){if(1===arguments.length){if(In(arguments[0],lg)){var a=arguments[0],b=new ig(this.getRoot(),this.getRoot(),a);return this.nearestNeighbour(b)}if(arguments[0]instanceof ig){var c=arguments[0];return this.nearestNeighbour(c,Hc.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof mg&&In(arguments[1],lg)){var d=arguments[0],a=arguments[1],b=new ig(this.getRoot(),d.getRoot(),a);return this.nearestNeighbour(b)}if(arguments[0]instanceof ig&&"number"==typeof arguments[1]){var c=arguments[0],e=arguments[1],f=e,g=null,h=new fg;for(h.add(c);!h.isEmpty()&&f>0;){var i=h.poll(),j=i.getDistance();if(j>=f)break;i.isLeaves()?(f=j,g=i):i.expandToQueue(h,f)}return[g.getBoundable(0).getItem(),g.getBoundable(1).getItem()]}}else if(3===arguments.length){var k=arguments[0],l=arguments[1],a=arguments[2],m=new eg(k,l),b=new ig(this.getRoot(),m,a);return this.nearestNeighbour(b)[0]}},interfaces_:function(){return[gg,Kc]},getClass:function(){return mg}}),mg.centreX=function(a){return mg.avg(a.getMinX(),a.getMaxX())},mg.avg=function(a,b){return(a+b)/2},mg.centreY=function(a){return mg.avg(a.getMinY(),a.getMaxY())},Kn(ng,hg),Jn(ng.prototype,{computeBounds:function(){for(var a=null,b=this.getChildBoundables().iterator();b.hasNext();){var c=b.next();null===a?a=new $c(c.getBounds()):a.expandToInclude(c.getBounds())}return a},interfaces_:function(){return[]},getClass:function(){return ng}}),mg.STRtreeNode=ng,mg.serialVersionUID=0x39920f7d5f261e0,mg.xComparator={interfaces_:function(){return[Jc]},compare:function(a,b){return jg.compareDoubles(mg.centreX(a.getBounds()),mg.centreX(b.getBounds()))}},mg.yComparator={interfaces_:function(){return[Jc]},compare:function(a,b){return jg.compareDoubles(mg.centreY(a.getBounds()),mg.centreY(b.getBounds()))}},mg.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(a,b){return a.intersects(b)}},mg.DEFAULT_NODE_CAPACITY=10,Jn(og.prototype,{buildIndex:function(){this.index=new mg;for(var a=0;a<this.rings.size();a++){var b=this.rings.get(a),c=b.getEnvelopeInternal();this.index.insert(c,b)}},getNestedPoint:function(){return this.nestedPt},isNonNested:function(){this.buildIndex();for(var a=0;a<this.rings.size();a++)for(var b=this.rings.get(a),c=b.getCoordinates(),d=this.index.query(b.getEnvelopeInternal()),e=0;e<d.size();e++){var f=d.get(e),g=f.getCoordinates();if(b!==f&&b.getEnvelopeInternal().intersects(f.getEnvelopeInternal())){var h=qg.findPtNotNode(c,f,this.graph);if(null!==h){var i=fd.isPointInRing(h,g);if(i)return this.nestedPt=h,!1}}}return!0},add:function(a){this.rings.add(a),this.totalEnv.expandToInclude(a.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return og}}),Jn(pg.prototype,{getErrorType:function(){return this.errorType},getMessage:function(){return pg.errMsg[this.errorType]},getCoordinate:function(){return this.pt},toString:function(){var a="";return null!==this.pt&&(a=" at or near point "+this.pt),this.getMessage()+a},interfaces_:function(){return[]},getClass:function(){return pg}}),pg.ERROR=0,pg.REPEATED_POINT=1,pg.HOLE_OUTSIDE_SHELL=2,pg.NESTED_HOLES=3,pg.DISCONNECTED_INTERIOR=4,pg.SELF_INTERSECTION=5,pg.RING_SELF_INTERSECTION=6,pg.NESTED_SHELLS=7,pg.DUPLICATE_RINGS=8,pg.TOO_FEW_POINTS=9,pg.INVALID_COORDINATE=10,pg.RING_NOT_CLOSED=11,pg.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"],Jn(qg.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var a=arguments[0],b=0;b<a.length;b++)if(!qg.isValid(a[b]))return this.validErr=new pg(pg.INVALID_COORDINATE,a[b]),null}else if(arguments[0]instanceof ee){var c=arguments[0];if(this.checkInvalidCoordinates(c.getExteriorRing().getCoordinates()),null!==this.validErr)return null;for(var b=0;b<c.getNumInteriorRing();b++)if(this.checkInvalidCoordinates(c.getInteriorRingN(b).getCoordinates()),null!==this.validErr)return null}},checkHolesNotNested:function(a,b){for(var c=new og(b),d=0;d<a.getNumInteriorRing();d++){var e=a.getInteriorRingN(d);c.add(e)}c.isNonNested()||(this.validErr=new pg(pg.NESTED_HOLES,c.getNestedPoint()))},checkConsistentArea:function(a){var b=new cg(a);if(!b.isNodeConsistentArea())return this.validErr=new pg(pg.SELF_INTERSECTION,b.getInvalidPoint()),null;b.hasDuplicateRings()&&(this.validErr=new pg(pg.DUPLICATE_RINGS,b.getInvalidPoint()))},isValid:function(){return this.checkValid(this.parentGeometry),null===this.validErr},checkShellInsideHole:function(a,b,c){var d=a.getCoordinates(),e=b.getCoordinates(),f=qg.findPtNotNode(d,b,c);if(null!==f){if(!fd.isPointInRing(f,e))return f}var g=qg.findPtNotNode(e,a,c);if(null!==g){return fd.isPointInRing(g,d)?g:null}return Nc.shouldNeverReachHere("points in shell and hole appear to be equal"),null},checkNoSelfIntersectingRings:function(a){for(var b=a.getEdgeIterator();b.hasNext();){var c=b.next();if(this.checkNoSelfIntersectingRing(c.getEdgeIntersectionList()),null!==this.validErr)return null}},checkConnectedInteriors:function(a){var b=new jf(a);b.isInteriorsConnected()||(this.validErr=new pg(pg.DISCONNECTED_INTERIOR,b.getCoordinate()))},checkNoSelfIntersectingRing:function(a){for(var b=new Ld,c=!0,d=a.iterator();d.hasNext();){var e=d.next();if(c)c=!1;else{if(b.contains(e.coord))return this.validErr=new pg(pg.RING_SELF_INTERSECTION,e.coord),null;b.add(e.coord)}}},checkHolesInShell:function(a,b){for(var c=a.getExteriorRing(),d=new yf(c),e=0;e<a.getNumInteriorRing();e++){var f=a.getInteriorRingN(e),g=qg.findPtNotNode(f.getCoordinates(),c,b);if(null===g)return null;if(!d.isInside(g))return this.validErr=new pg(pg.HOLE_OUTSIDE_SHELL,g),null}},checkTooFewPoints:function(a){if(a.hasTooFewPoints())return this.validErr=new pg(pg.TOO_FEW_POINTS,a.getInvalidPoint()),null},getValidationError:function(){return this.checkValid(this.parentGeometry),this.validErr},checkValid:function(){if(arguments[0]instanceof ce){var a=arguments[0];this.checkInvalidCoordinates(a.getCoordinates())}else if(arguments[0]instanceof fe){var a=arguments[0];this.checkInvalidCoordinates(a.getCoordinates())}else if(arguments[0]instanceof ge){var a=arguments[0];if(this.checkInvalidCoordinates(a.getCoordinates()),null!==this.validErr)return null;if(this.checkClosedRing(a),null!==this.validErr)return null;var b=new Xf(0,a);if(this.checkTooFewPoints(b),null!==this.validErr)return null;var c=new cd;b.computeSelfNodes(c,!0,!0),this.checkNoSelfIntersectingRings(b)}else if(arguments[0]instanceof ae){var a=arguments[0];if(this.checkInvalidCoordinates(a.getCoordinates()),null!==this.validErr)return null;var b=new Xf(0,a);this.checkTooFewPoints(b)}else if(arguments[0]instanceof ee){var a=arguments[0];if(this.checkInvalidCoordinates(a),null!==this.validErr)return null;if(this.checkClosedRings(a),null!==this.validErr)return null;var b=new Xf(0,a);if(this.checkTooFewPoints(b),null!==this.validErr)return null;if(this.checkConsistentArea(b),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(b),null!==this.validErr))return null;if(this.checkHolesInShell(a,b),null!==this.validErr)return null;if(this.checkHolesNotNested(a,b),null!==this.validErr)return null;this.checkConnectedInteriors(b)}else if(arguments[0]instanceof he){for(var a=arguments[0],d=0;d<a.getNumGeometries();d++){var e=a.getGeometryN(d);if(this.checkInvalidCoordinates(e),null!==this.validErr)return null;if(this.checkClosedRings(e),null!==this.validErr)return null}var b=new Xf(0,a);if(this.checkTooFewPoints(b),null!==this.validErr)return null;if(this.checkConsistentArea(b),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(b),null!==this.validErr))return null;for(var d=0;d<a.getNumGeometries();d++){var e=a.getGeometryN(d);if(this.checkHolesInShell(e,b),null!==this.validErr)return null}for(var d=0;d<a.getNumGeometries();d++){var e=a.getGeometryN(d);if(this.checkHolesNotNested(e,b),null!==this.validErr)return null}if(this.checkShellsNotNested(a,b),null!==this.validErr)return null;this.checkConnectedInteriors(b)}else if(arguments[0]instanceof Qd)for(var f=arguments[0],d=0;d<f.getNumGeometries();d++){var a=f.getGeometryN(d);if(this.checkValid(a),null!==this.validErr)return null}else if(arguments[0]instanceof hd){var a=arguments[0];if(this.validErr=null,a.isEmpty())return null;if(a instanceof ce)this.checkValid(a);else if(a instanceof fe)this.checkValid(a);else if(a instanceof ge)this.checkValid(a);else if(a instanceof ae)this.checkValid(a);else if(a instanceof ee)this.checkValid(a);else if(a instanceof he)this.checkValid(a);else{if(!(a instanceof Qd))throw new UnsupportedOperationException(a.getClass().getName());this.checkValid(a)}}},setSelfTouchingRingFormingHoleValid:function(a){this.isSelfTouchingRingFormingHoleValid=a},checkShellNotNested:function(a,b,c){var d=a.getCoordinates(),e=b.getExteriorRing(),f=e.getCoordinates(),g=qg.findPtNotNode(d,e,c);if(null===g)return null;if(!fd.isPointInRing(g,f))return null;if(b.getNumInteriorRing()<=0)return this.validErr=new pg(pg.NESTED_SHELLS,g),null;for(var h=null,i=0;i<b.getNumInteriorRing();i++){var j=b.getInteriorRingN(i);if(null===(h=this.checkShellInsideHole(a,j,c)))return null}this.validErr=new pg(pg.NESTED_SHELLS,h)},checkClosedRings:function(a){if(this.checkClosedRing(a.getExteriorRing()),null!==this.validErr)return null;for(var b=0;b<a.getNumInteriorRing();b++)if(this.checkClosedRing(a.getInteriorRingN(b)),null!==this.validErr)return null},checkClosedRing:function(a){if(!a.isClosed()){var b=null;a.getNumPoints()>=1&&(b=a.getCoordinateN(0)),this.validErr=new pg(pg.RING_NOT_CLOSED,b)}},checkShellsNotNested:function(a,b){for(var c=0;c<a.getNumGeometries();c++)for(var d=a.getGeometryN(c),e=d.getExteriorRing(),f=0;f<a.getNumGeometries();f++)if(c!==f){var g=a.getGeometryN(f);if(this.checkShellNotNested(e,g,b),null!==this.validErr)return null}},interfaces_:function(){return[]},getClass:function(){return qg}}),qg.findPtNotNode=function(a,b,c){for(var d=c.findEdge(b),e=d.getEdgeIntersectionList(),f=0;f<a.length;f++){var g=a[f];if(!e.isIntersection(g))return g}return null},qg.isValid=function(){if(arguments[0]instanceof hd){return new qg(arguments[0]).isValid()}if(arguments[0]instanceof Oc){var a=arguments[0];return!Hc.isNaN(a.x)&&(!Hc.isInfinite(a.x)&&(!Hc.isNaN(a.y)&&!Hc.isInfinite(a.y)))}},Jn(rg.prototype,{transformPoint:function(a,b){return this.factory.createPoint(this.transformCoordinates(a.getCoordinateSequence(),a))},transformPolygon:function(a,b){var c=!0,d=this.transformLinearRing(a.getExteriorRing(),a);null!==d&&d instanceof ge&&!d.isEmpty()||(c=!1);for(var e=new ud,f=0;f<a.getNumInteriorRing();f++){var g=this.transformLinearRing(a.getInteriorRingN(f),a);null===g||g.isEmpty()||(g instanceof ge||(c=!1),e.add(g))}if(c)return this.factory.createPolygon(d,e.toArray([]));var h=new ud;return null!==d&&h.add(d),h.addAll(e),this.factory.buildGeometry(h)},createCoordinateSequence:function(a){return this.factory.getCoordinateSequenceFactory().create(a)},getInputGeometry:function(){return this.inputGeom},transformMultiLineString:function(a,b){for(var c=new ud,d=0;d<a.getNumGeometries();d++){var e=this.transformLineString(a.getGeometryN(d),a);null!==e&&(e.isEmpty()||c.add(e))}return this.factory.buildGeometry(c)},transformCoordinates:function(a,b){return this.copy(a)},transformLineString:function(a,b){return this.factory.createLineString(this.transformCoordinates(a.getCoordinateSequence(),a))},transformMultiPoint:function(a,b){for(var c=new ud,d=0;d<a.getNumGeometries();d++){var e=this.transformPoint(a.getGeometryN(d),a);null!==e&&(e.isEmpty()||c.add(e))}return this.factory.buildGeometry(c)},transformMultiPolygon:function(a,b){for(var c=new ud,d=0;d<a.getNumGeometries();d++){var e=this.transformPolygon(a.getGeometryN(d),a);null!==e&&(e.isEmpty()||c.add(e))}return this.factory.buildGeometry(c)},copy:function(a){return a.copy()},transformGeometryCollection:function(a,b){for(var c=new ud,d=0;d<a.getNumGeometries();d++){var e=this.transform(a.getGeometryN(d));null!==e&&(this.pruneEmptyGeometry&&e.isEmpty()||c.add(e))}return this.preserveGeometryCollectionType?this.factory.createGeometryCollection(He.toGeometryArray(c)):this.factory.buildGeometry(c)},transform:function(a){if(this.inputGeom=a,this.factory=a.getFactory(),a instanceof ce)return this.transformPoint(a,null);if(a instanceof fe)return this.transformMultiPoint(a,null);if(a instanceof ge)return this.transformLinearRing(a,null);if(a instanceof ae)return this.transformLineString(a,null);if(a instanceof Rd)return this.transformMultiLineString(a,null);if(a instanceof ee)return this.transformPolygon(a,null);if(a instanceof he)return this.transformMultiPolygon(a,null);if(a instanceof Qd)return this.transformGeometryCollection(a,null);throw new Ec("Unknown Geometry subtype: "+a.getClass().getName())},transformLinearRing:function(a,b){var c=this.transformCoordinates(a.getCoordinateSequence(),a);if(null===c)return this.factory.createLinearRing(null);var d=c.size();return d>0&&d<4&&!this.preserveType?this.factory.createLineString(c):this.factory.createLinearRing(c)},interfaces_:function(){return[]},getClass:function(){return rg}}),Jn(sg.prototype,{snapVertices:function(a,b){for(var c=this._isClosed?a.size()-1:a.size(),d=0;d<c;d++){var e=a.get(d),f=this.findSnapForVertex(e,b);null!==f&&(a.set(d,new Oc(f)),0===d&&this._isClosed&&a.set(a.size()-1,new Oc(f)))}},findSnapForVertex:function(a,b){for(var c=0;c<b.length;c++){if(a.equals2D(b[c]))return null;if(a.distance(b[c])<this.snapTolerance)return b[c]}return null},snapTo:function(a){var b=new vd(this.srcPts);return this.snapVertices(b,a),this.snapSegments(b,a),b.toCoordinateArray()},snapSegments:function(a,b){if(0===b.length)return null;var c=b.length;b[0].equals2D(b[b.length-1])&&(c=b.length-1);for(var d=0;d<c;d++){var e=b[d],f=this.findSegmentIndexToSnap(e,a);f>=0&&a.add(f+1,new Oc(e),!1)}},findSegmentIndexToSnap:function(a,b){for(var c=Hc.MAX_VALUE,d=-1,e=0;e<b.size()-1;e++){if(this.seg.p0=b.get(e),this.seg.p1=b.get(e+1),this.seg.p0.equals2D(a)||this.seg.p1.equals2D(a)){if(this.allowSnappingToSourceVertices)continue;return-1}var f=this.seg.distance(a);f<this.snapTolerance&&f<c&&(c=f,d=e)}return d},setAllowSnappingToSourceVertices:function(a){this.allowSnappingToSourceVertices=a},interfaces_:function(){return[]},getClass:function(){return sg}}),sg.isClosed=function(a){return!(a.length<=1)&&a[0].equals2D(a[a.length-1])},Jn(tg.prototype,{snapTo:function(a,b){return new ug(b,this.extractTargetCoordinates(a)).transform(this.srcGeom)},snapToSelf:function(a,b){var c=this.extractTargetCoordinates(this.srcGeom),d=new ug(a,c,!0),e=d.transform(this.srcGeom),f=e;return b&&In(f,de)&&(f=e.buffer(0)),f},computeSnapTolerance:function(a){return this.computeMinimumSegmentLength(a)/10},extractTargetCoordinates:function(a){for(var b=new Ld,c=a.getCoordinates(),d=0;d<c.length;d++)b.add(c[d]);return b.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(a){for(var b=Hc.MAX_VALUE,c=0;c<a.length-1;c++){var d=a[c].distance(a[c+1]);d<b&&(b=d)}return b},interfaces_:function(){return[]},getClass:function(){return tg}}),tg.snap=function(a,b,c){var d=new Array(2).fill(null),e=new tg(a);d[0]=e.snapTo(b,c);var f=new tg(b);return d[1]=f.snapTo(d[0],c),d},tg.computeOverlaySnapTolerance=function(){if(1===arguments.length){var a=arguments[0],b=tg.computeSizeBasedSnapTolerance(a),c=a.getPrecisionModel();if(c.getType()===Fe.FIXED){var d=1/c.getScale()*2/1.415;d>b&&(b=d)}return b}if(2===arguments.length){var e=arguments[0],f=arguments[1];return Math.min(tg.computeOverlaySnapTolerance(e),tg.computeOverlaySnapTolerance(f))}},tg.computeSizeBasedSnapTolerance=function(a){var b=a.getEnvelopeInternal();return Math.min(b.getHeight(),b.getWidth())*tg.SNAP_PRECISION_FACTOR},tg.snapToSelf=function(a,b,c){return new tg(a).snapToSelf(b,c)},tg.SNAP_PRECISION_FACTOR=1e-9,Kn(ug,rg),Jn(ug.prototype,{snapLine:function(a,b){var c=new sg(a,this.snapTolerance);return c.setAllowSnappingToSourceVertices(this.isSelfSnap),c.snapTo(b)},transformCoordinates:function(a,b){var c=a.toCoordinateArray(),d=this.snapLine(c,this.snapPts);return this.factory.getCoordinateSequenceFactory().create(d)},interfaces_:function(){return[]},getClass:function(){return ug}}),Jn(vg.prototype,{getCommon:function(){return Hc.longBitsToDouble(this.commonBits)},add:function(a){var b=Hc.doubleToLongBits(a);return this.isFirst?(this.commonBits=b,this.commonSignExp=vg.signExpBits(this.commonBits),this.isFirst=!1,null):vg.signExpBits(b)!==this.commonSignExp?(this.commonBits=0,null):(this.commonMantissaBitsCount=vg.numCommonMostSigMantissaBits(this.commonBits,b),void(this.commonBits=vg.zeroLowerBits(this.commonBits,64-(12+this.commonMantissaBitsCount))))},toString:function(){if(1===arguments.length){var a=arguments[0],b=Hc.longBitsToDouble(a),c=Long.toBinaryString(a),d="0000000000000000000000000000000000000000000000000000000000000000"+c,e=d.substring(d.length-64);return e.substring(0,1)+"  "+e.substring(1,12)+"(exp) "+e.substring(12)+" [ "+b+" ]"}},interfaces_:function(){return[]},getClass:function(){return vg}}),vg.getBit=function(a,b){return 0!=(a&1<<b)?1:0},vg.signExpBits=function(a){return a>>52},vg.zeroLowerBits=function(a,b){return a&~((1<<b)-1)},vg.numCommonMostSigMantissaBits=function(a,b){for(var c=0,d=52;d>=0;d--){if(vg.getBit(a,d)!==vg.getBit(b,d))return c;c++}return 52},Jn(wg.prototype,{addCommonBits:function(a){var b=new yg(this.commonCoord);a.apply(b),a.geometryChanged()},removeCommonBits:function(a){if(0===this.commonCoord.x&&0===this.commonCoord.y)return a;var b=new Oc(this.commonCoord);b.x=-b.x,b.y=-b.y;var c=new yg(b);return a.apply(c),a.geometryChanged(),a},getCommonCoordinate:function(){return this.commonCoord},add:function(a){a.apply(this.ccFilter),this.commonCoord=this.ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return wg}}),Jn(xg.prototype,{filter:function(a){this.commonBitsX.add(a.x),this.commonBitsY.add(a.y)},getCommonCoordinate:function(){return new Oc(this.commonBitsX.getCommon(),this.commonBitsY.getCommon())},interfaces_:function(){return[id]},getClass:function(){return xg}}),Jn(yg.prototype,{filter:function(a,b){var c=a.getOrdinate(b,0)+this.trans.x,d=a.getOrdinate(b,1)+this.trans.y;a.setOrdinate(b,0,c),a.setOrdinate(b,1,d)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[Pd]},getClass:function(){return yg}}),wg.CommonCoordinateFilter=xg,wg.Translater=yg,Jn(zg.prototype,{interfaces_:function(){return[]},getClass:function(){return zg}}),zg.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1];if(0===a&&0===b)throw new Ec("Cannot compute the octant for point ( "+a+", "+b+" )");var c=Math.abs(a),d=Math.abs(b);return a>=0?b>=0?c>=d?0:1:c>=d?7:6:b>=0?c>=d?3:2:c>=d?4:5}if(arguments[0]instanceof Oc&&arguments[1]instanceof Oc){var e=arguments[0],f=arguments[1],a=f.x-e.x,b=f.y-e.y;if(0===a&&0===b)throw new Ec("Cannot compute the octant for two identical points "+e);return zg.octant(a,b)}},Jn(Ag.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(a){},isClosed:function(){},setData:function(a){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return Ag}}),Jn(Bg.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(a){return this.pts[a]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(a){return a===this.pts.length-1?-1:zg.octant(this.getCoordinate(a),this.getCoordinate(a+1))},setData:function(a){this.data=a},getData:function(){return this.data},toString:function(){return ad.toLineString(new ne(this.pts))},interfaces_:function(){return[Ag]},getClass:function(){return Bg}}),Jn(Cg.prototype,{interfaces_:function(){return[]},getClass:function(){return Cg}}),Cg.relativeSign=function(a,b){return a<b?-1:a>b?1:0},Cg.compare=function(a,b,c){if(b.equals2D(c))return 0;var d=Cg.relativeSign(b.x,c.x),e=Cg.relativeSign(b.y,c.y);switch(a){case 0:return Cg.compareValue(d,e);case 1:return Cg.compareValue(e,d);case 2:return Cg.compareValue(e,-d);case 3:return Cg.compareValue(-d,e);case 4:return Cg.compareValue(-d,-e);case 5:return Cg.compareValue(-e,-d);case 6:return Cg.compareValue(-e,d);case 7:return Cg.compareValue(d,-e)}return Nc.shouldNeverReachHere("invalid octant value"),0},Cg.compareValue=function(a,b){return a<0?-1:a>0?1:b<0?-1:b>0?1:0},Jn(Dg.prototype,{getCoordinate:function(){return this.coord},print:function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex)},compareTo:function(a){var b=a;return this.segmentIndex<b.segmentIndex?-1:this.segmentIndex>b.segmentIndex?1:this.coord.equals2D(b.coord)?0:Cg.compare(this.segmentOctant,this.coord,b.coord)},isEndPoint:function(a){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===a},isInterior:function(){return this._isInterior},interfaces_:function(){return[Ic]},getClass:function(){return Dg}}),Jn(Eg.prototype,{getSplitCoordinates:function(){var a=new vd;this.addEndpoints();for(var b=this.iterator(),c=b.next();b.hasNext();){var d=b.next();this.addEdgeCoordinates(c,d,a),c=d}return a.toCoordinateArray()},addCollapsedNodes:function(){var a=new ud;this.findCollapsesFromInsertedNodes(a),this.findCollapsesFromExistingVertices(a);for(var b=a.iterator();b.hasNext();){var c=b.next().intValue();this.add(this.edge.getCoordinate(c),c)}},print:function(a){a.println("Intersections:");for(var b=this.iterator();b.hasNext();){b.next().print(a)}},findCollapsesFromExistingVertices:function(a){for(var b=0;b<this.edge.size()-2;b++){var c=this.edge.getCoordinate(b),d=(this.edge.getCoordinate(b+1),this.edge.getCoordinate(b+2));c.equals2D(d)&&a.add(new Sc(b+1))}},addEdgeCoordinates:function(a,b,c){var d=this.edge.getCoordinate(b.segmentIndex),e=b.isInterior()||!b.coord.equals2D(d);c.add(new Oc(a.coord),!1);for(var f=a.segmentIndex+1;f<=b.segmentIndex;f++)c.add(this.edge.getCoordinate(f));e&&c.add(new Oc(b.coord))},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(a){this.addEndpoints(),this.addCollapsedNodes();for(var b=this.iterator(),c=b.next();b.hasNext();){var d=b.next(),e=this.createSplitEdge(c,d);a.add(e),c=d}},findCollapseIndex:function(a,b,c){if(!a.coord.equals2D(b.coord))return!1;var d=b.segmentIndex-a.segmentIndex;return b.isInterior()||d--,1===d&&(c[0]=a.segmentIndex+1,!0)},findCollapsesFromInsertedNodes:function(a){for(var b=new Array(1).fill(null),c=this.iterator(),d=c.next();c.hasNext();){var e=c.next();this.findCollapseIndex(d,e,b)&&a.add(new Sc(b[0])),d=e}},getEdge:function(){return this.edge},addEndpoints:function(){var a=this.edge.size()-1;this.add(this.edge.getCoordinate(0),0),this.add(this.edge.getCoordinate(a),a)},createSplitEdge:function(a,b){var c=b.segmentIndex-a.segmentIndex+2,d=this.edge.getCoordinate(b.segmentIndex),e=b.isInterior()||!b.coord.equals2D(d);e||c--;var f=new Array(c).fill(null),g=0;f[g++]=new Oc(a.coord);for(var h=a.segmentIndex+1;h<=b.segmentIndex;h++)f[g++]=this.edge.getCoordinate(h);return e&&(f[g]=new Oc(b.coord)),new Hg(f,this.edge.getData())},add:function(a,b){var c=new Dg(this.edge,a,b,this.edge.getSegmentOctant(b)),d=this.nodeMap.get(c);return null!==d?(Nc.isTrue(d.coord.equals2D(a),"Found equal nodes with different coordinates"),d):(this.nodeMap.put(c,c),c)},checkSplitEdgesCorrectness:function(a){var b=this.edge.getCoordinates(),c=a.get(0),d=c.getCoordinate(0);if(!d.equals2D(b[0]))throw new Lc("bad split edge start point at "+d);var e=a.get(a.size()-1),f=e.getCoordinates(),g=f[f.length-1];if(!g.equals2D(b[b.length-1]))throw new Lc("bad split edge end point at "+g)},interfaces_:function(){return[]},getClass:function(){return Eg}}),Jn(Fg.prototype,{next:function(){return null===this.currNode?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):null===this.nextNode?null:this.nextNode.segmentIndex===this.currNode.segmentIndex?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):null},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return null!==this.nextNode},readNextNode:function(){this.nodeIt.hasNext()?this.nextNode=this.nodeIt.next():this.nextNode=null},interfaces_:function(){return[od]},getClass:function(){return Fg}}),Jn(Gg.prototype,{addIntersection:function(a,b){},interfaces_:function(){return[Ag]},getClass:function(){return Gg}}),Jn(Hg.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(a){return this.pts[a]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(a){return a===this.pts.length-1?-1:this.safeOctant(this.getCoordinate(a),this.getCoordinate(a+1))},setData:function(a){this.data=a},safeOctant:function(a,b){return a.equals2D(b)?0:zg.octant(a,b)},getData:function(){return this.data},addIntersection:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];this.addIntersectionNode(a,b)}else if(4===arguments.length){var c=arguments[0],b=arguments[1],d=(arguments[2],arguments[3]),a=new Oc(c.getIntersection(d));this.addIntersection(a,b)}},toString:function(){return ad.toLineString(new ne(this.pts))},getNodeList:function(){return this.nodeList},addIntersectionNode:function(a,b){var c=b,d=c+1;if(d<this.pts.length){var e=this.pts[d];a.equals2D(e)&&(c=d)}return this.nodeList.add(a,c)},addIntersections:function(a,b,c){for(var d=0;d<a.getIntersectionNum();d++)this.addIntersection(a,b,c,d)},interfaces_:function(){return[Gg]},getClass:function(){return Hg}}),Hg.getNodedSubstrings=function(){if(1===arguments.length){var a=arguments[0],b=new ud;return Hg.getNodedSubstrings(a,b),b}if(2===arguments.length)for(var a=arguments[0],b=arguments[1],c=a.iterator();c.hasNext();){var d=c.next();d.getNodeList().addSplitEdges(b)}},Jn(Ig.prototype,{overlap:function(){if(2===arguments.length);else if(4===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];a.getLineSegment(b,this.overlapSeg1),c.getLineSegment(d,this.overlapSeg2),this.overlap(this.overlapSeg1,this.overlapSeg2)}},interfaces_:function(){return[]},getClass:function(){return Ig}}),Jn(Jg.prototype,{computeNodes:function(a){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return Jg}}),Jn(Kg.prototype,{setSegmentIntersector:function(a){this.segInt=a},interfaces_:function(){return[Jg]},getClass:function(){return Kg}}),Kn(Lg,Kg),Jn(Lg.prototype,{getMonotoneChains:function(){return this.monoChains},getNodedSubstrings:function(){return Hg.getNodedSubstrings(this.nodedSegStrings)},getIndex:function(){return this.index},add:function(a){for(var b=wf.getChains(a.getCoordinates(),a),c=b.iterator();c.hasNext();){var d=c.next();d.setId(this.idCounter++),this.index.insert(d.getEnvelope(),d),this.monoChains.add(d)}},computeNodes:function(a){this.nodedSegStrings=a;for(var b=a.iterator();b.hasNext();)this.add(b.next());this.intersectChains()},intersectChains:function(){for(var a=new Mg(this.segInt),b=this.monoChains.iterator();b.hasNext();)for(var c=b.next(),d=this.index.query(c.getEnvelope()),e=d.iterator();e.hasNext();){var f=e.next();if(f.getId()>c.getId()&&(c.computeOverlaps(f,a),this.nOverlaps++),this.segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return Lg}}),Kn(Mg,Ig),Jn(Mg.prototype,{overlap:function(){if(4!==arguments.length)return Ig.prototype.overlap.apply(this,arguments);var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3],e=a.getContext(),f=c.getContext();this.si.processIntersections(e,b,f,d)},interfaces_:function(){return[]},getClass:function(){return Mg}}),Lg.SegmentOverlapAction=Mg,Jn(Ng.prototype,{processIntersections:function(a,b,c,d){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return Ng}}),Jn(Og.prototype,{getInteriorIntersection:function(){return this.interiorIntersection},setCheckEndSegmentsOnly:function(a){this.isCheckEndSegmentsOnly=a},getIntersectionSegments:function(){return this.intSegments},count:function(){return this.intersectionCount},getIntersections:function(){return this.intersections},setFindAllIntersections:function(a){this.findAllIntersections=a},setKeepIntersections:function(a){this.keepIntersections=a},processIntersections:function(a,b,c,d){if(!this.findAllIntersections&&this.hasIntersection())return null;if(a===c&&b===d)return null;if(this.isCheckEndSegmentsOnly){if(!(this.isEndSegment(a,b)||this.isEndSegment(c,d)))return null}var e=a.getCoordinates()[b],f=a.getCoordinates()[b+1],g=c.getCoordinates()[d],h=c.getCoordinates()[d+1];this.li.computeIntersection(e,f,g,h),this.li.hasIntersection()&&this.li.isInteriorIntersection()&&(this.intSegments=new Array(4).fill(null),this.intSegments[0]=e,this.intSegments[1]=f,this.intSegments[2]=g,this.intSegments[3]=h,this.interiorIntersection=this.li.getIntersection(0),this.keepIntersections&&this.intersections.add(this.interiorIntersection),this.intersectionCount++)},isEndSegment:function(a,b){return 0===b||b>=a.size()-2},hasIntersection:function(){return null!==this.interiorIntersection},isDone:function(){return!this.findAllIntersections&&null!==this.interiorIntersection},interfaces_:function(){return[Ng]},getClass:function(){return Og}}),Og.createAllIntersectionsFinder=function(a){var b=new Og(a);return b.setFindAllIntersections(!0),b},Og.createAnyIntersectionFinder=function(a){return new Og(a)},Og.createIntersectionCounter=function(a){var b=new Og(a);return b.setFindAllIntersections(!0),b.setKeepIntersections(!1),b},Jn(Pg.prototype,{execute:function(){if(null!==this.segInt)return null;this.checkInteriorIntersections()},getIntersections:function(){return this.segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(a){this.findAllIntersections=a},checkInteriorIntersections:function(){this._isValid=!0,this.segInt=new Og(this.li),this.segInt.setFindAllIntersections(this.findAllIntersections);var a=new Lg;if(a.setSegmentIntersector(this.segInt),a.computeNodes(this.segStrings),this.segInt.hasIntersection())return this._isValid=!1,null},checkValid:function(){if(this.execute(),!this._isValid)throw new Qe(this.getErrorMessage(),this.segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var a=this.segInt.getIntersectionSegments();return"found non-noded intersection between "+ad.toLineString(a[0],a[1])+" and "+ad.toLineString(a[2],a[3])},interfaces_:function(){return[]},getClass:function(){return Pg}}),Pg.computeIntersections=function(a){var b=new Pg(a);return b.setFindAllIntersections(!0),b.isValid(),b.getIntersections()},Jn(Qg.prototype,{checkValid:function(){this.nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return Qg}}),Qg.toSegmentStrings=function(a){for(var b=new ud,c=a.iterator();c.hasNext();){var d=c.next();b.add(new Bg(d.getCoordinates(),d))}return b},Qg.checkValid=function(a){new Qg(a).checkValid()},Jn(Rg.prototype,{sortShellsAndHoles:function(a,b,c){for(var d=a.iterator();d.hasNext();){var e=d.next();e.isHole()?c.add(e):b.add(e)}},computePolygons:function(a){for(var b=new ud,c=a.iterator();c.hasNext();){var d=c.next(),e=d.toPolygon(this.geometryFactory);b.add(e)}return b},placeFreeHoles:function(a,b){for(var c=b.iterator();c.hasNext();){var d=c.next();if(null===d.getShell()){var e=this.findEdgeRingContaining(d,a);if(null===e)throw new Qe("unable to assign hole to a shell",d.getCoordinate(0));d.setShell(e)}}},buildMinimalEdgeRings:function(a,b,c){for(var d=new ud,e=a.iterator();e.hasNext();){var f=e.next();if(f.getMaxNodeDegree()>2){f.linkDirectedEdgesForMinimalEdgeRings();var g=f.buildMinimalRings(),h=this.findShell(g);null!==h?(this.placePolygonHoles(h,g),b.add(h)):c.addAll(g)}else d.add(f)}return d},containsPoint:function(a){for(var b=this.shellList.iterator();b.hasNext();){if(b.next().containsPoint(a))return!0}return!1},buildMaximalEdgeRings:function(a){for(var b=new ud,c=a.iterator();c.hasNext();){var d=c.next();if(d.isInResult()&&d.getLabel().isArea()&&null===d.getEdgeRing()){var e=new Ve(d,this.geometryFactory);b.add(e),e.setInResult()}}return b},placePolygonHoles:function(a,b){for(var c=b.iterator();c.hasNext();){var d=c.next();d.isHole()&&d.setShell(a)}},getPolygons:function(){return this.computePolygons(this.shellList)},findEdgeRingContaining:function(a,b){for(var c=a.getLinearRing(),d=c.getEnvelopeInternal(),e=c.getCoordinateN(0),f=null,g=null,h=b.iterator();h.hasNext();){var i=h.next(),j=i.getLinearRing(),k=j.getEnvelopeInternal();null!==f&&(g=f.getLinearRing().getEnvelopeInternal());var l=!1;k.contains(d)&&fd.isPointInRing(e,j.getCoordinates())&&(l=!0),l&&(null===f||g.contains(k))&&(f=i)}return f},findShell:function(a){for(var b=0,c=null,d=a.iterator();d.hasNext();){var e=d.next();e.isHole()||(c=e,b++)}return Nc.isTrue(b<=1,"found two shells in MinimalEdgeRing list"),c},add:function(){if(1===arguments.length){var a=arguments[0];this.add(a.getEdgeEnds(),a.getNodes())}else if(2===arguments.length){var b=arguments[0],c=arguments[1];hf.linkResultDirectedEdges(c);var d=this.buildMaximalEdgeRings(b),e=new ud,f=this.buildMinimalEdgeRings(d,this.shellList,e);this.sortShellsAndHoles(f,this.shellList,e),this.placeFreeHoles(this.shellList,e)}},interfaces_:function(){return[]},getClass:function(){return Rg}}),Jn(Sg.prototype,{collectLines:function(a){for(var b=this.op.getGraph().getEdgeEnds().iterator();b.hasNext();){var c=b.next();this.collectLineEdge(c,a,this.lineEdgesList),this.collectBoundaryTouchEdge(c,a,this.lineEdgesList)}},labelIsolatedLine:function(a,b){var c=this.ptLocator.locate(a.getCoordinate(),this.op.getArgGeometry(b));a.getLabel().setLocation(b,c)},build:function(a){return this.findCoveredLineEdges(),this.collectLines(a),this.buildLines(a),this.resultLineList},collectLineEdge:function(a,b,c){var d=a.getLabel(),e=a.getEdge();a.isLineEdge()&&(a.isVisited()||!Xg.isResultOfOp(d,b)||e.isCovered()||(c.add(e),a.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var a=this.op.getGraph().getNodes().iterator();a.hasNext();){a.next().getEdges().findCoveredLineEdges()}for(var b=this.op.getGraph().getEdgeEnds().iterator();b.hasNext();){var c=b.next(),d=c.getEdge();if(c.isLineEdge()&&!d.isCoveredSet()){var e=this.op.isCoveredByA(c.getCoordinate());d.setCovered(e)}}},labelIsolatedLines:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next(),d=c.getLabel();c.isIsolated()&&(d.isNull(0)?this.labelIsolatedLine(c,0):this.labelIsolatedLine(c,1))}},buildLines:function(a){for(var b=this.lineEdgesList.iterator();b.hasNext();){var c=b.next(),d=(c.getLabel(),this.geometryFactory.createLineString(c.getCoordinates()));this.resultLineList.add(d),c.setInResult(!0)}},collectBoundaryTouchEdge:function(a,b,c){var d=a.getLabel();return a.isLineEdge()?null:a.isVisited()?null:a.isInteriorAreaEdge()?null:a.getEdge().isInResult()?null:(Nc.isTrue(!(a.isInResult()||a.getSym().isInResult())||!a.getEdge().isInResult()),void(Xg.isResultOfOp(d,b)&&b===Xg.INTERSECTION&&(c.add(a.getEdge()),a.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return Sg}}),Jn(Tg.prototype,{filterCoveredNodeToPoint:function(a){var b=a.getCoordinate();if(!this.op.isCoveredByLA(b)){var c=this.geometryFactory.createPoint(b);this.resultPointList.add(c)}},extractNonCoveredResultNodes:function(a){for(var b=this.op.getGraph().getNodes().iterator();b.hasNext();){var c=b.next();if(!c.isInResult()&&(!c.isIncidentEdgeInResult()&&(0===c.getEdges().getDegree()||a===Xg.INTERSECTION))){var d=c.getLabel();Xg.isResultOfOp(d,a)&&this.filterCoveredNodeToPoint(c)}}},build:function(a){return this.extractNonCoveredResultNodes(a),this.resultPointList},interfaces_:function(){return[]},getClass:function(){return Tg}}),Jn(Ug.prototype,{getArgGeometry:function(a){return this.arg[a].getGeometry()},setComputationPrecision:function(a){this.resultPrecisionModel=a,this.li.setPrecisionModel(this.resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return Ug}}),Jn(Vg.prototype,{compareTo:function(a){var b=a;return Vg.compareOriented(this.pts,this._orientation,b.pts,b._orientation)},interfaces_:function(){return[Ic]},getClass:function(){return Vg}}),Vg.orientation=function(a){return 1===wd.increasingDirection(a)},Vg.compareOriented=function(a,b,c,d){for(var e=b?1:-1,f=d?1:-1,g=b?a.length:-1,h=d?c.length:-1,i=b?0:a.length-1,j=d?0:c.length-1;;){var k=a[i].compareTo(c[j]);if(0!==k)return k;i+=e,j+=f;var l=i===g,m=j===h;if(l&&!m)return-1;if(!l&&m)return 1;if(l&&m)return 0}},Jn(Wg.prototype,{print:function(a){a.print("MULTILINESTRING ( ");for(var b=0;b<this.edges.size();b++){var c=this.edges.get(b);b>0&&a.print(","),a.print("(");for(var d=c.getCoordinates(),e=0;e<d.length;e++)e>0&&a.print(","),a.print(d[e].x+" "+d[e].y);a.println(")")}a.print(")  ")},addAll:function(a){for(var b=a.iterator();b.hasNext();)this.add(b.next())},findEdgeIndex:function(a){for(var b=0;b<this.edges.size();b++)if(this.edges.get(b).equals(a))return b;return-1},iterator:function(){return this.edges.iterator()},getEdges:function(){return this.edges},get:function(a){return this.edges.get(a)},findEqualEdge:function(a){var b=new Vg(a.getCoordinates());return this.ocaMap.get(b)},add:function(a){this.edges.add(a);var b=new Vg(a.getCoordinates());this.ocaMap.put(b,a)},interfaces_:function(){return[]},getClass:function(){return Wg}}),Kn(Xg,Ug),Jn(Xg.prototype,{insertUniqueEdge:function(a){var b=this.edgeList.findEqualEdge(a);if(null!==b){var c=b.getLabel(),d=a.getLabel();b.isPointwiseEqual(a)||(d=new Se(a.getLabel()),d.flip());var e=b.getDepth();e.isNull()&&e.add(c),e.add(d),c.merge(d)}else this.edgeList.add(a)},getGraph:function(){return this.graph},cancelDuplicateResultEdges:function(){for(var a=this.graph.getEdgeEnds().iterator();a.hasNext();){var b=a.next(),c=b.getSym();b.isInResult()&&c.isInResult()&&(b.setInResult(!1),c.setInResult(!1))}},isCoveredByLA:function(a){return!!this.isCovered(a,this.resultLineList)||!!this.isCovered(a,this.resultPolyList)},computeGeometry:function(a,b,c,d){var e=new ud;return e.addAll(a),e.addAll(b),e.addAll(c),e.isEmpty()?Xg.createEmptyResult(d,this.arg[0].getGeometry(),this.arg[1].getGeometry(),this.geomFact):this.geomFact.buildGeometry(e)},mergeSymLabels:function(){for(var a=this.graph.getNodes().iterator();a.hasNext();){a.next().getEdges().mergeSymLabels()}},isCovered:function(a,b){for(var c=b.iterator();c.hasNext();){var d=c.next();if(this.ptLocator.locate(a,d)!==Fc.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var a=new ud,b=this.edgeList.iterator();b.hasNext();){var c=b.next();c.isCollapsed()&&(b.remove(),a.add(c.getCollapsedEdge()))}this.edgeList.addAll(a)},updateNodeLabelling:function(){for(var a=this.graph.getNodes().iterator();a.hasNext();){var b=a.next(),c=b.getEdges().getLabel();b.getLabel().merge(c)}},getResultGeometry:function(a){return this.computeOverlay(a),this.resultGeom},insertUniqueEdges:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();this.insertUniqueEdge(c)}},computeOverlay:function(a){this.copyPoints(0),this.copyPoints(1),this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1),this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!0);var b=new ud;this.arg[0].computeSplitEdges(b),this.arg[1].computeSplitEdges(b),this.insertUniqueEdges(b),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Qg.checkValid(this.edgeList.getEdges()),this.graph.addEdges(this.edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(a),this.cancelDuplicateResultEdges();var c=new Rg(this.geomFact);c.add(this.graph),this.resultPolyList=c.getPolygons();var d=new Sg(this,this.geomFact,this.ptLocator);this.resultLineList=d.build(a);var e=new Tg(this,this.geomFact,this.ptLocator);this.resultPointList=e.build(a),this.resultGeom=this.computeGeometry(this.resultPointList,this.resultLineList,this.resultPolyList,a)},labelIncompleteNode:function(a,b){var c=this.ptLocator.locate(a.getCoordinate(),this.arg[b].getGeometry());a.getLabel().setLocation(b,c)},copyPoints:function(a){for(var b=this.arg[a].getNodeIterator();b.hasNext();){var c=b.next();this.graph.addNode(c.getCoordinate()).setLabel(a,c.getLabel().getLocation(a))}},findResultAreaEdges:function(a){for(var b=this.graph.getEdgeEnds().iterator();b.hasNext();){var c=b.next(),d=c.getLabel();d.isArea()&&!c.isInteriorAreaEdge()&&Xg.isResultOfOp(d.getLocation(0,Pe.RIGHT),d.getLocation(1,Pe.RIGHT),a)&&c.setInResult(!0)}},computeLabelsFromDepths:function(){for(var a=this.edgeList.iterator();a.hasNext();){var b=a.next(),c=b.getLabel(),d=b.getDepth();if(!d.isNull()){d.normalize();for(var e=0;e<2;e++)c.isNull(e)||!c.isArea()||d.isNull(e)||(0===d.getDelta(e)?c.toLine(e):(Nc.isTrue(!d.isNull(e,Pe.LEFT),"depth of LEFT side has not been initialized"),c.setLocation(e,Pe.LEFT,d.getLocation(e,Pe.LEFT)),Nc.isTrue(!d.isNull(e,Pe.RIGHT),"depth of RIGHT side has not been initialized"),c.setLocation(e,Pe.RIGHT,d.getLocation(e,Pe.RIGHT))))}}},computeLabelling:function(){for(var a=this.graph.getNodes().iterator();a.hasNext();){a.next().getEdges().computeLabelling(this.arg)}this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var a=this.graph.getNodes().iterator();a.hasNext();){var b=a.next(),c=b.getLabel();b.isIsolated()&&(c.isNull(0)?this.labelIncompleteNode(b,0):this.labelIncompleteNode(b,1)),b.getEdges().updateLabelling(c)}},isCoveredByA:function(a){return!!this.isCovered(a,this.resultPolyList)},interfaces_:function(){return[]},getClass:function(){return Xg}}),Xg.overlayOp=function(a,b,c){return new Xg(a,b).getResultGeometry(c)},Xg.intersection=function(a,b){if(a.isEmpty()||b.isEmpty())return Xg.createEmptyResult(Xg.INTERSECTION,a,b,a.getFactory());if(a.isGeometryCollection()){var c=b;return Oe.map(a,{interfaces_:function(){return[MapOp]},map:function(a){return a.intersection(c)}})}return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),Zg.overlayOp(a,b,Xg.INTERSECTION)},Xg.symDifference=function(a,b){if(a.isEmpty()||b.isEmpty()){if(a.isEmpty()&&b.isEmpty())return Xg.createEmptyResult(Xg.SYMDIFFERENCE,a,b,a.getFactory());if(a.isEmpty())return b.copy();if(b.isEmpty())return a.copy()}return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),Zg.overlayOp(a,b,Xg.SYMDIFFERENCE)},Xg.resultDimension=function(a,b,c){var d=b.getDimension(),e=c.getDimension(),f=-1;switch(a){case Xg.INTERSECTION:f=Math.min(d,e);break;case Xg.UNION:f=Math.max(d,e);break;case Xg.DIFFERENCE:f=d;break;case Xg.SYMDIFFERENCE:f=Math.max(d,e)}return f},Xg.createEmptyResult=function(a,b,c,d){var e=null;switch(Xg.resultDimension(a,b,c)){case-1:e=d.createGeometryCollection(new Array(0).fill(null));break;case 0:e=d.createPoint();break;case 1:e=d.createLineString();break;case 2:e=d.createPolygon()}return e},Xg.difference=function(a,b){return a.isEmpty()?Xg.createEmptyResult(Xg.DIFFERENCE,a,b,a.getFactory()):b.isEmpty()?a.copy():(a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),Zg.overlayOp(a,b,Xg.DIFFERENCE))},Xg.isResultOfOp=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=a.getLocation(0),d=a.getLocation(1);return Xg.isResultOfOp(c,d,b)}if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];switch(c===Fc.BOUNDARY&&(c=Fc.INTERIOR),d===Fc.BOUNDARY&&(d=Fc.INTERIOR),e){case Xg.INTERSECTION:return c===Fc.INTERIOR&&d===Fc.INTERIOR;case Xg.UNION:return c===Fc.INTERIOR||d===Fc.INTERIOR;case Xg.DIFFERENCE:return c===Fc.INTERIOR&&d!==Fc.INTERIOR;case Xg.SYMDIFFERENCE:return c===Fc.INTERIOR&&d!==Fc.INTERIOR||c!==Fc.INTERIOR&&d===Fc.INTERIOR}return!1}},Xg.INTERSECTION=1,Xg.UNION=2,Xg.DIFFERENCE=3,Xg.SYMDIFFERENCE=4,Jn(Yg.prototype,{selfSnap:function(a){return new tg(a).snapTo(a,this.snapTolerance)},removeCommonBits:function(a){this.cbr=new wg,this.cbr.add(a[0]),this.cbr.add(a[1]);var b=new Array(2).fill(null);return b[0]=this.cbr.removeCommonBits(a[0].copy()),b[1]=this.cbr.removeCommonBits(a[1].copy()),b},prepareResult:function(a){return this.cbr.addCommonBits(a),a},getResultGeometry:function(a){var b=this.snap(this.geom),c=Xg.overlayOp(b[0],b[1],a);return this.prepareResult(c)},checkValid:function(a){a.isValid()||Yc.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this.snapTolerance=tg.computeOverlaySnapTolerance(this.geom[0],this.geom[1])},snap:function(a){var b=this.removeCommonBits(a);return tg.snap(b[0],b[1],this.snapTolerance)},interfaces_:function(){return[]},getClass:function(){return Yg}}),Yg.overlayOp=function(a,b,c){return new Yg(a,b).getResultGeometry(c)},Yg.union=function(a,b){return Yg.overlayOp(a,b,Xg.UNION)},Yg.intersection=function(a,b){return Yg.overlayOp(a,b,Xg.INTERSECTION)},Yg.symDifference=function(a,b){return Yg.overlayOp(a,b,Xg.SYMDIFFERENCE)},Yg.difference=function(a,b){return Yg.overlayOp(a,b,Xg.DIFFERENCE)},Jn(Zg.prototype,{getResultGeometry:function(a){var b=null,c=!1,d=null;try{b=Xg.overlayOp(this.geom[0],this.geom[1],a);!0&&(c=!0)}catch(a){if(!(a instanceof Lc))throw a;d=a}if(!c)try{b=Yg.overlayOp(this.geom[0],this.geom[1],a)}catch(a){throw a instanceof Lc?d:a}return b},interfaces_:function(){return[]},getClass:function(){return Zg}}),Zg.overlayOp=function(a,b,c){return new Zg(a,b).getResultGeometry(c)},Zg.union=function(a,b){return Zg.overlayOp(a,b,Xg.UNION)},Zg.intersection=function(a,b){return Zg.overlayOp(a,b,Xg.INTERSECTION)},Zg.symDifference=function(a,b){return Zg.overlayOp(a,b,Xg.SYMDIFFERENCE)},Zg.difference=function(a,b){return Zg.overlayOp(a,b,Xg.DIFFERENCE)},Jn($g.prototype,{addPolygon:function(a){if(a.isEmpty())return null;var b=null,c=0,d=this.horizontalBisector(a);if(0===d.getLength())c=0,b=d.getCoordinate();else{var e=Zg.overlayOp(d,a,Xg.INTERSECTION),f=this.widestGeometry(e);c=f.getEnvelopeInternal().getWidth(),b=$g.centre(f.getEnvelopeInternal())}(null===this.interiorPoint||c>this.maxWidth)&&(this.interiorPoint=b,this.maxWidth=c)},getInteriorPoint:function(){return this.interiorPoint},widestGeometry:function(){if(arguments[0]instanceof Qd){var a=arguments[0];if(a.isEmpty())return a;for(var b=a.getGeometryN(0),c=1;c<a.getNumGeometries();c++)a.getGeometryN(c).getEnvelopeInternal().getWidth()>b.getEnvelopeInternal().getWidth()&&(b=a.getGeometryN(c));return b}if(arguments[0]instanceof hd){var d=arguments[0];return d instanceof Qd?this.widestGeometry(d):d}},horizontalBisector:function(a){var b=a.getEnvelopeInternal(),c=_g.getBisectorY(a);return this.factory.createLineString([new Oc(b.getMinX(),c),new Oc(b.getMaxX(),c)])},add:function(a){if(a instanceof ee)this.addPolygon(a);else if(a instanceof Qd)for(var b=a,c=0;c<b.getNumGeometries();c++)this.add(b.getGeometryN(c))},interfaces_:function(){return[]},getClass:function(){return $g}}),$g.centre=function(a){return new Oc($g.avg(a.getMinX(),a.getMaxX()),$g.avg(a.getMinY(),a.getMaxY()))},$g.avg=function(a,b){return(a+b)/2},Jn(_g.prototype,{updateInterval:function(a){a<=this.centreY?a>this.loY&&(this.loY=a):a>this.centreY&&a<this.hiY&&(this.hiY=a)},getBisectorY:function(){this.process(this.poly.getExteriorRing());for(var a=0;a<this.poly.getNumInteriorRing();a++)this.process(this.poly.getInteriorRingN(a));return $g.avg(this.hiY,this.loY)},process:function(a){for(var b=a.getCoordinateSequence(),c=0;c<b.size();c++){var d=b.getY(c);this.updateInterval(d)}},interfaces_:function(){return[]},getClass:function(){return _g}}),_g.getBisectorY=function(a){return new _g(a).getBisectorY()},$g.SafeBisectorFinder=_g,Jn(ah.prototype,{extractElements:function(a,b){if(null===a)return null;for(var c=0;c<a.getNumGeometries();c++){var d=a.getGeometryN(c);this.skipEmpty&&d.isEmpty()||b.add(d)}},combine:function(){for(var a=new ud,b=this.inputGeoms.iterator();b.hasNext();){var c=b.next();this.extractElements(c,a)}return 0===a.size()?null!==this.geomFactory?this.geomFactory.createGeometryCollection(null):null:this.geomFactory.buildGeometry(a)},interfaces_:function(){return[]},getClass:function(){return ah}}),ah.combine=function(){if(1===arguments.length){var a=arguments[0],b=new ah(a);return b.combine()}if(2===arguments.length){var c=arguments[0],d=arguments[1],b=new ah(ah.createList(c,d));return b.combine()}if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2],b=new ah(ah.createList(c,d,e));return b.combine()}},ah.extractFactory=function(a){return a.isEmpty()?null:a.iterator().next().getFactory()},ah.createList=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new ud;return c.add(a),c.add(b),c}if(3===arguments.length){var a=arguments[0],b=arguments[1],d=arguments[2],c=new ud;return c.add(a),c.add(b),c.add(d),c}},Jn(bh.prototype,{union:function(){for(var a=new Af,b=new Ld,c=0;c<this.pointGeom.getNumGeometries();c++){var d=this.pointGeom.getGeometryN(c),e=d.getCoordinate();a.locate(e,this.otherGeom)===Fc.EXTERIOR&&b.add(e)}if(0===b.size())return this.otherGeom;var f=null,g=wd.toCoordinateArray(b);return f=1===g.length?this.geomFact.createPoint(g[0]):this.geomFact.createMultiPointFromCoords(g),ah.combine(f,this.otherGeom)},interfaces_:function(){return[]},getClass:function(){return bh}}),bh.union=function(a,b){return new bh(a,b).union()},Jn(ch.prototype,{filter:function(a){-1!==this.sortIndex&&a.getSortIndex()!==this.sortIndex||this.comps.add(a)},interfaces_:function(){return[Od]},getClass:function(){return ch}}),ch.extract=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return ch.extract(a,b,new ud)}if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];return a.getSortIndex()===b?c.add(a):a instanceof Qd&&a.apply(new ch(b,c)),c}},Jn(dh.prototype,{filter:function(a){a instanceof ee&&this.comps.add(a)},interfaces_:function(){return[Od]},getClass:function(){return dh}}),dh.getPolygons=function(){if(1===arguments.length){var a=arguments[0];return dh.getPolygons(a,new ud)}if(2===arguments.length){var a=arguments[0],b=arguments[1];return a instanceof ee?b.add(a):a instanceof Qd&&a.apply(new dh(b)),b}},Jn(eh.prototype,{reduceToGeometries:function(a){for(var b=new ud,c=a.iterator();c.hasNext();){var d=c.next(),e=null;In(d,rd)?e=this.unionTree(d):d instanceof hd&&(e=d),b.add(e)}return b},extractByEnvelope:function(a,b,c){for(var d=new ud,e=0;e<b.getNumGeometries();e++){var f=b.getGeometryN(e);f.getEnvelopeInternal().intersects(a)?d.add(f):c.add(f)}return this.geomFactory.buildGeometry(d)},unionOptimized:function(a,b){var c=a.getEnvelopeInternal(),d=b.getEnvelopeInternal();if(!c.intersects(d)){return ah.combine(a,b)}if(a.getNumGeometries()<=1&&b.getNumGeometries()<=1)return this.unionActual(a,b);var e=c.intersection(d);return this.unionUsingEnvelopeIntersection(a,b,e)},union:function(){if(null===this.inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this.inputPolys.isEmpty())return null;this.geomFactory=this.inputPolys.iterator().next().getFactory();for(var a=new mg(eh.STRTREE_NODE_CAPACITY),b=this.inputPolys.iterator();b.hasNext();){var c=b.next();a.insert(c.getEnvelopeInternal(),c)}this.inputPolys=null;var d=a.itemsTree();return this.unionTree(d)},binaryUnion:function(){if(1===arguments.length){var a=arguments[0];return this.binaryUnion(a,0,a.size())}if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];if(c-b<=1){var d=eh.getGeometry(a,b);return this.unionSafe(d,null)}if(c-b==2)return this.unionSafe(eh.getGeometry(a,b),eh.getGeometry(a,b+1));var e=Math.trunc((c+b)/2),d=this.binaryUnion(a,b,e),f=this.binaryUnion(a,e,c);return this.unionSafe(d,f)}},repeatedUnion:function(a){for(var b=null,c=a.iterator();c.hasNext();){var d=c.next();b=null===b?d.copy():b.union(d)}return b},unionSafe:function(a,b){return null===a&&null===b?null:null===a?b.copy():null===b?a.copy():this.unionOptimized(a,b)},unionActual:function(a,b){return eh.restrictToPolygons(a.union(b))},unionTree:function(a){var b=this.reduceToGeometries(a);return this.binaryUnion(b)},unionUsingEnvelopeIntersection:function(a,b,c){var d=new ud,e=this.extractByEnvelope(c,a,d),f=this.extractByEnvelope(c,b,d),g=this.unionActual(e,f);return d.add(g),ah.combine(d)},bufferUnion:function(){if(1===arguments.length){var a=arguments[0],b=a.get(0).getFactory(),c=b.buildGeometry(a),d=c.buffer(0);return d}if(2===arguments.length){var e=arguments[0],f=arguments[1],b=e.getFactory(),c=b.createGeometryCollection([e,f]),d=c.buffer(0);return d}},interfaces_:function(){return[]},getClass:function(){return eh}}),eh.restrictToPolygons=function(a){if(In(a,de))return a;var b=dh.getPolygons(a);return 1===b.size()?b.get(0):a.getFactory().createMultiPolygon(He.toPolygonArray(b))},eh.getGeometry=function(a,b){return b>=a.size()?null:a.get(b)},eh.union=function(a){return new eh(a).union()},eh.STRTREE_NODE_CAPACITY=4;Jn(fh.prototype,{unionNoOpt:function(a){var b=this.geomFact.createPoint();return Zg.overlayOp(a,b,Xg.UNION)},unionWithNull:function(a,b){return null===a&&null===b?null:null===b?a:null===a?b:a.union(b)},extract:function(){if(In(arguments[0],pd))for(var a=arguments[0],b=a.iterator();b.hasNext();){var c=b.next();this.extract(c)}else if(arguments[0]instanceof hd){var c=arguments[0];null===this.geomFact&&(this.geomFact=c.getFactory()),ch.extract(c,hd.SORTINDEX_POLYGON,this.polygons),ch.extract(c,hd.SORTINDEX_LINESTRING,this.lines),ch.extract(c,hd.SORTINDEX_POINT,this.points)}},union:function(){if(null===this.geomFact)return null;var a=null;if(this.points.size()>0){var b=this.geomFact.buildGeometry(this.points);a=this.unionNoOpt(b)}var c=null;if(this.lines.size()>0){var d=this.geomFact.buildGeometry(this.lines);c=this.unionNoOpt(d)}var e=null;this.polygons.size()>0&&(e=eh.union(this.polygons));var f=this.unionWithNull(c,e),g=null;return g=null===a?f:null===f?a:bh.union(a,f),null===g?this.geomFact.createGeometryCollection():g},interfaces_:function(){return[]},getClass:function(){return fh}}),fh.union=function(){if(1===arguments.length){if(In(arguments[0],pd)){var a=arguments[0],b=new fh(a);return b.union()}if(arguments[0]instanceof hd){var c=arguments[0],b=new fh(c);return b.union()}}else if(2===arguments.length){var a=arguments[0],d=arguments[1],b=new fh(a,d);return b.union()}},Jn(gh.prototype,{interfaces_:function(){return[]},getClass:function(){return gh}}),gh.union=function(a,b){if(a.isEmpty()||b.isEmpty()){if(a.isEmpty()&&b.isEmpty())return Xg.createEmptyResult(Xg.UNION,a,b,a.getFactory());if(a.isEmpty())return b.copy();if(b.isEmpty())return a.copy()}return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),Zg.overlayOp(a,b,Xg.UNION)},Jn(hh.prototype,{addEndpoints:function(){if(arguments[0]instanceof hd){var a=arguments[0];if(a instanceof ae)this.addEndpoints(a.getCoordinates());else if(a instanceof Qd)for(var b=a,c=0;c<b.getNumGeometries();c++)this.addEndpoints(b.getGeometryN(c))}else if(arguments[0]instanceof Array){var d=arguments[0];this.add(d[0]),this.add(d[d.length-1])}},getInteriorPoint:function(){return this.interiorPoint},addInterior:function(){if(arguments[0]instanceof hd){var a=arguments[0];if(a instanceof ae)this.addInterior(a.getCoordinates());else if(a instanceof Qd)for(var b=a,c=0;c<b.getNumGeometries();c++)this.addInterior(b.getGeometryN(c))}else if(arguments[0]instanceof Array)for(var d=arguments[0],c=1;c<d.length-1;c++)this.add(d[c])},add:function(a){var b=a.distance(this.centroid);b<this.minDistance&&(this.interiorPoint=new Oc(a),this.minDistance=b)},interfaces_:function(){return[]},getClass:function(){return hh}}),Jn(ih.prototype,{isSimpleMultiPoint:function(a){if(a.isEmpty())return!0;for(var b=new Ld,c=0;c<a.getNumGeometries();c++){var d=a.getGeometryN(c),e=d.getCoordinate();if(b.contains(e))return this.nonSimpleLocation=e,!1;b.add(e)}return!0},isSimplePolygonal:function(a){for(var b=Mf.getLines(a),c=b.iterator();c.hasNext();){var d=c.next();if(!this.isSimpleLinearGeometry(d))return!1}return!0},hasClosedEndpointIntersection:function(a){for(var b=new Id,c=a.getEdgeIterator();c.hasNext();){var d=c.next(),e=(d.getMaximumSegmentIndex(),d.isClosed()),f=d.getCoordinate(0);this.addEndpoint(b,f,e);var g=d.getCoordinate(d.getNumPoints()-1);this.addEndpoint(b,g,e)}for(var c=b.values().iterator();c.hasNext();){var h=c.next();if(h.isClosed&&2!==h.degree)return this.nonSimpleLocation=h.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this.nonSimpleLocation},isSimpleLinearGeometry:function(a){if(a.isEmpty())return!0;var b=new Xf(0,a),c=new cd,d=b.computeSelfNodes(c,!0);return!d.hasIntersection()||(d.hasProperIntersection()?(this.nonSimpleLocation=d.getProperIntersectionPoint(),!1):!this.hasNonEndpointIntersection(b)&&(!this.isClosedEndpointsInInterior||!this.hasClosedEndpointIntersection(b)))},hasNonEndpointIntersection:function(a){for(var b=a.getEdgeIterator();b.hasNext();)for(var c=b.next(),d=c.getMaximumSegmentIndex(),e=c.getEdgeIntersectionList().iterator();e.hasNext();){var f=e.next();if(!f.isEndPoint(d))return this.nonSimpleLocation=f.getCoordinate(),!0}return!1},addEndpoint:function(a,b,c){var d=a.get(b);null===d&&(d=new jh(b),a.put(b,d)),d.addEndpoint(c)},computeSimple:function(a){return this.nonSimpleLocation=null,!!a.isEmpty()||(a instanceof ae?this.isSimpleLinearGeometry(a):a instanceof Rd?this.isSimpleLinearGeometry(a):a instanceof fe?this.isSimpleMultiPoint(a):In(a,de)?this.isSimplePolygonal(a):!(a instanceof Qd)||this.isSimpleGeometryCollection(a))},isSimple:function(){return this.nonSimpleLocation=null,this.computeSimple(this.inputGeom)},isSimpleGeometryCollection:function(a){for(var b=0;b<a.getNumGeometries();b++){var c=a.getGeometryN(b);if(!this.computeSimple(c))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return ih}}),Jn(jh.prototype,{addEndpoint:function(a){this.degree++,this.isClosed|=a},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return jh}}),ih.EndpointInfo=jh,Jn(kh.prototype,{getEndCapStyle:function(){return this.endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(a){this.quadrantSegments=a,0===this.quadrantSegments&&(this.joinStyle=kh.JOIN_BEVEL),this.quadrantSegments<0&&(this.joinStyle=kh.JOIN_MITRE,this.mitreLimit=Math.abs(this.quadrantSegments)),a<=0&&(this.quadrantSegments=1),this.joinStyle!==kh.JOIN_ROUND&&(this.quadrantSegments=kh.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this.joinStyle},setJoinStyle:function(a){this.joinStyle=a},setSimplifyFactor:function(a){this.simplifyFactor=a<0?0:a},getSimplifyFactor:function(){return this.simplifyFactor},getQuadrantSegments:function(){return this.quadrantSegments},setEndCapStyle:function(a){this.endCapStyle=a},getMitreLimit:function(){return this.mitreLimit},setMitreLimit:function(a){this.mitreLimit=a},setSingleSided:function(a){this._isSingleSided=a},interfaces_:function(){return[]},getClass:function(){return kh}}),kh.bufferDistanceError=function(a){var b=Math.PI/2/a;return 1-Math.cos(b/2)},kh.CAP_ROUND=1,kh.CAP_FLAT=2,kh.CAP_SQUARE=3,kh.JOIN_ROUND=1,kh.JOIN_MITRE=2,kh.JOIN_BEVEL=3,kh.DEFAULT_QUADRANT_SEGMENTS=8,kh.DEFAULT_MITRE_LIMIT=5,kh.DEFAULT_SIMPLIFY_FACTOR=.01,lh.prototype=new Error,lh.prototype.name="EmptyStackException",mh.prototype=new rd,mh.prototype.add=function(a){return this.array_.push(a),!0},mh.prototype.get=function(a){if(a<0||a>=this.size())throw new IndexOutOfBoundsException;return this.array_[a]},mh.prototype.push=function(a){return this.array_.push(a),a},mh.prototype.pop=function(a){if(0===this.array_.length)throw new lh;return this.array_.pop()},mh.prototype.peek=function(){if(0===this.array_.length)throw new lh;return this.array_[this.array_.length-1]},mh.prototype.empty=function(){return 0===this.array_.length},mh.prototype.isEmpty=function(){return this.empty()},mh.prototype.search=function(a){return this.array_.indexOf(a)},mh.prototype.size=function(){return this.array_.length},mh.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a},Jn(nh.prototype,{getCoordinate:function(){return this.minCoord},getRightmostSide:function(a,b){var c=this.getRightmostSideOfSegment(a,b);return c<0&&(c=this.getRightmostSideOfSegment(a,b-1)),c<0&&(this.minCoord=null,this.checkForRightmostCoordinate(a)),c},findRightmostEdgeAtVertex:function(){var a=this.minDe.getEdge().getCoordinates();Nc.isTrue(this.minIndex>0&&this.minIndex<a.length,"rightmost point expected to be interior vertex of edge");var b=a[this.minIndex-1],c=a[this.minIndex+1],d=fd.computeOrientation(this.minCoord,c,b),e=!1;b.y<this.minCoord.y&&c.y<this.minCoord.y&&d===fd.COUNTERCLOCKWISE?e=!0:b.y>this.minCoord.y&&c.y>this.minCoord.y&&d===fd.CLOCKWISE&&(e=!0),e&&(this.minIndex=this.minIndex-1)},getRightmostSideOfSegment:function(a,b){var c=a.getEdge(),d=c.getCoordinates();if(b<0||b+1>=d.length)return-1;if(d[b].y===d[b+1].y)return-1;var e=Pe.LEFT;return d[b].y<d[b+1].y&&(e=Pe.RIGHT),e},getEdge:function(){return this.orientedDe},checkForRightmostCoordinate:function(a){for(var b=a.getEdge().getCoordinates(),c=0;c<b.length-1;c++)(null===this.minCoord||b[c].x>this.minCoord.x)&&(this.minDe=a,this.minIndex=c,this.minCoord=b[c])},findRightmostEdgeAtNode:function(){var a=this.minDe.getNode(),b=a.getEdges();this.minDe=b.getRightmostEdge(),this.minDe.isForward()||(this.minDe=this.minDe.getSym(),this.minIndex=this.minDe.getEdge().getCoordinates().length-1)},findEdge:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();c.isForward()&&this.checkForRightmostCoordinate(c)}Nc.isTrue(0!==this.minIndex||this.minCoord.equals(this.minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this.minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this.orientedDe=this.minDe,this.getRightmostSide(this.minDe,this.minIndex)===Pe.LEFT&&(this.orientedDe=this.minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return nh}}),oh.prototype.addLast=function(a){this.array_.push(a)},oh.prototype.removeFirst=function(){return this.array_.shift()},oh.prototype.isEmpty=function(){return 0===this.array_.length},Jn(ph.prototype,{clearVisitedEdges:function(){for(var a=this.dirEdgeList.iterator();a.hasNext();){a.next().setVisited(!1)}},getRightmostCoordinate:function(){return this.rightMostCoord},computeNodeDepth:function(a){for(var b=null,c=a.getEdges().iterator();c.hasNext();){var d=c.next();if(d.isVisited()||d.getSym().isVisited()){b=d;break}}if(null===b)throw new Qe("unable to find edge to compute depths at "+a.getCoordinate());a.getEdges().computeDepths(b);for(var c=a.getEdges().iterator();c.hasNext();){var d=c.next();d.setVisited(!0),this.copySymDepths(d)}},computeDepth:function(a){this.clearVisitedEdges();var b=this.finder.getEdge();b.getNode(),b.getLabel();b.setEdgeDepths(Pe.RIGHT,a),this.copySymDepths(b),this.computeDepths(b)},create:function(a){this.addReachable(a),this.finder.findEdge(this.dirEdgeList),this.rightMostCoord=this.finder.getCoordinate()},findResultEdges:function(){for(var a=this.dirEdgeList.iterator();a.hasNext();){var b=a.next();b.getDepth(Pe.RIGHT)>=1&&b.getDepth(Pe.LEFT)<=0&&!b.isInteriorAreaEdge()&&b.setInResult(!0)}},computeDepths:function(a){var b=new Cd,c=new oh,d=a.getNode();for(c.addLast(d),b.add(d),a.setVisited(!0);!c.isEmpty();){var e=c.removeFirst();b.add(e),this.computeNodeDepth(e);for(var f=e.getEdges().iterator();f.hasNext();){var g=f.next(),h=g.getSym();if(!h.isVisited()){var i=h.getNode();b.contains(i)||(c.addLast(i),b.add(i))}}}},compareTo:function(a){var b=a;return this.rightMostCoord.x<b.rightMostCoord.x?-1:this.rightMostCoord.x>b.rightMostCoord.x?1:0},getEnvelope:function(){if(null===this.env){for(var a=new $c,b=this.dirEdgeList.iterator();b.hasNext();)for(var c=b.next(),d=c.getEdge().getCoordinates(),e=0;e<d.length-1;e++)a.expandToInclude(d[e]);this.env=a}return this.env},addReachable:function(a){var b=new mh;for(b.add(a);!b.empty();){var c=b.pop();this.add(c,b)}},copySymDepths:function(a){var b=a.getSym();b.setDepth(Pe.LEFT,a.getDepth(Pe.RIGHT)),b.setDepth(Pe.RIGHT,a.getDepth(Pe.LEFT))},add:function(a,b){a.setVisited(!0),this.nodes.add(a);for(var c=a.getEdges().iterator();c.hasNext();){var d=c.next();this.dirEdgeList.add(d);var e=d.getSym(),f=e.getNode();f.isVisited()||b.push(f)}},getNodes:function(){return this.nodes},getDirectedEdges:function(){return this.dirEdgeList},interfaces_:function(){return[Ic]},getClass:function(){return ph}}),Jn(qh.prototype,{isDeletable:function(a,b,c,d){var e=this.inputLine[a],f=this.inputLine[b],g=this.inputLine[c];return!!this.isConcave(e,f,g)&&(!!this.isShallow(e,f,g,d)&&this.isShallowSampled(e,f,a,c,d))},deleteShallowConcavities:function(){for(var a=1,b=this.findNextNonDeletedIndex(a),c=this.findNextNonDeletedIndex(b),d=!1;c<this.inputLine.length;){var e=!1;this.isDeletable(a,b,c,this.distanceTol)&&(this.isDeleted[b]=qh.DELETE,e=!0,d=!0),a=e?c:b,b=this.findNextNonDeletedIndex(a),c=this.findNextNonDeletedIndex(b)}return d},isShallowConcavity:function(a,b,c,d){return fd.computeOrientation(a,b,c)===this.angleOrientation&&fd.distancePointLine(b,a,c)<d},isShallowSampled:function(a,b,c,d,e){var f=Math.trunc((d-c)/qh.NUM_PTS_TO_CHECK);f<=0&&(f=1);for(var g=c;g<d;g+=f)if(!this.isShallow(a,b,this.inputLine[g],e))return!1;return!0},isConcave:function(a,b,c){return fd.computeOrientation(a,b,c)===this.angleOrientation},simplify:function(a){this.distanceTol=Math.abs(a),a<0&&(this.angleOrientation=fd.CLOCKWISE),this.isDeleted=new Array(this.inputLine.length).fill(null);var b=!1;do{b=this.deleteShallowConcavities()}while(b);return this.collapseLine()},findNextNonDeletedIndex:function(a){for(var b=a+1;b<this.inputLine.length&&this.isDeleted[b]===qh.DELETE;)b++;return b},isShallow:function(a,b,c,d){return fd.distancePointLine(b,a,c)<d},collapseLine:function(){for(var a=new vd,b=0;b<this.inputLine.length;b++)this.isDeleted[b]!==qh.DELETE&&a.add(this.inputLine[b]);return a.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return qh}}),qh.simplify=function(a,b){return new qh(a).simplify(b)},qh.INIT=0,qh.DELETE=1,qh.KEEP=1,qh.NUM_PTS_TO_CHECK=10,Jn(rh.prototype,{getCoordinates:function(){return this.ptList.toArray(rh.COORDINATE_ARRAY_TYPE)},setPrecisionModel:function(a){this.precisionModel=a},addPt:function(a){var b=new Oc(a);if(this.precisionModel.makePrecise(b),this.isRedundant(b))return null;this.ptList.add(b)},reverse:function(){},addPts:function(a,b){if(b)for(var c=0;c<a.length;c++)this.addPt(a[c]);else for(var c=a.length-1;c>=0;c--)this.addPt(a[c])},isRedundant:function(a){if(this.ptList.size()<1)return!1;var b=this.ptList.get(this.ptList.size()-1);return a.distance(b)<this.minimimVertexDistance},toString:function(){return(new He).createLineString(this.getCoordinates()).toString()},closeRing:function(){if(this.ptList.size()<1)return null;var a=new Oc(this.ptList.get(0)),b=this.ptList.get(this.ptList.size()-1);if(this.ptList.size()>=2&&this.ptList.get(this.ptList.size()-2),a.equals(b))return null;this.ptList.add(a)},setMinimumVertexDistance:function(a){this.minimimVertexDistance=a},interfaces_:function(){return[]},getClass:function(){return rh}}),rh.COORDINATE_ARRAY_TYPE=new Array(0).fill(null),Jn(sh.prototype,{interfaces_:function(){return[]},getClass:function(){return sh}}),sh.toDegrees=function(a){return 180*a/Math.PI},sh.normalize=function(a){for(;a>Math.PI;)a-=sh.PI_TIMES_2;for(;a<=-Math.PI;)a+=sh.PI_TIMES_2;return a},sh.angle=function(){if(1===arguments.length){var a=arguments[0];return Math.atan2(a.y,a.x)}if(2===arguments.length){var b=arguments[0],c=arguments[1],d=c.x-b.x,e=c.y-b.y;return Math.atan2(e,d)}},sh.isAcute=function(a,b,c){var d=a.x-b.x,e=a.y-b.y;return d*(c.x-b.x)+e*(c.y-b.y)>0},sh.isObtuse=function(a,b,c){var d=a.x-b.x,e=a.y-b.y;return d*(c.x-b.x)+e*(c.y-b.y)<0},sh.interiorAngle=function(a,b,c){var d=sh.angle(b,a),e=sh.angle(b,c);return Math.abs(e-d)},sh.normalizePositive=function(a){if(a<0){for(;a<0;)a+=sh.PI_TIMES_2;a>=sh.PI_TIMES_2&&(a=0)}else{for(;a>=sh.PI_TIMES_2;)a-=sh.PI_TIMES_2;a<0&&(a=0)}return a},sh.angleBetween=function(a,b,c){var d=sh.angle(b,a),e=sh.angle(b,c);return sh.diff(d,e)},sh.diff=function(a,b){var c=null;return c=a<b?b-a:a-b,c>Math.PI&&(c=2*Math.PI-c),c},sh.toRadians=function(a){return a*Math.PI/180},sh.getTurn=function(a,b){var c=Math.sin(b-a);return c>0?sh.COUNTERCLOCKWISE:c<0?sh.CLOCKWISE:sh.NONE},sh.angleBetweenOriented=function(a,b,c){var d=sh.angle(b,a),e=sh.angle(b,c),f=e-d;return f<=-Math.PI?f+sh.PI_TIMES_2:f>Math.PI?f-sh.PI_TIMES_2:f},sh.PI_TIMES_2=2*Math.PI,sh.PI_OVER_2=Math.PI/2,sh.PI_OVER_4=Math.PI/4,sh.COUNTERCLOCKWISE=fd.COUNTERCLOCKWISE,sh.CLOCKWISE=fd.CLOCKWISE,sh.NONE=fd.COLLINEAR,Jn(th.prototype,{addNextSegment:function(a,b){if(this.s0=this.s1,this.s1=this.s2,this.s2=a,this.seg0.setCoordinates(this.s0,this.s1),this.computeOffsetSegment(this.seg0,this.side,this.distance,this.offset0),this.seg1.setCoordinates(this.s1,this.s2),this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1),this.s1.equals(this.s2))return null;var c=fd.computeOrientation(this.s0,this.s1,this.s2),d=c===fd.CLOCKWISE&&this.side===Pe.LEFT||c===fd.COUNTERCLOCKWISE&&this.side===Pe.RIGHT;0===c?this.addCollinear(b):d?this.addOutsideTurn(c,b):this.addInsideTurn(c,b)},addLineEndCap:function(a,b){var c=new kf(a,b),d=new kf;this.computeOffsetSegment(c,Pe.LEFT,this.distance,d);var e=new kf;this.computeOffsetSegment(c,Pe.RIGHT,this.distance,e);var f=b.x-a.x,g=b.y-a.y,h=Math.atan2(g,f);switch(this.bufParams.getEndCapStyle()){case kh.CAP_ROUND:this.segList.addPt(d.p1),this.addFilletArc(b,h+Math.PI/2,h-Math.PI/2,fd.CLOCKWISE,this.distance),this.segList.addPt(e.p1);break;case kh.CAP_FLAT:this.segList.addPt(d.p1),this.segList.addPt(e.p1);break;case kh.CAP_SQUARE:var i=new Oc;i.x=Math.abs(this.distance)*Math.cos(h),i.y=Math.abs(this.distance)*Math.sin(h);var j=new Oc(d.p1.x+i.x,d.p1.y+i.y),k=new Oc(e.p1.x+i.x,e.p1.y+i.y);this.segList.addPt(j),this.segList.addPt(k)}},getCoordinates:function(){return this.segList.getCoordinates()},addMitreJoin:function(a,b,c,d){var e=!0,f=null;try{f=Zc.intersection(b.p0,b.p1,c.p0,c.p1);(d<=0?1:f.distance(a)/Math.abs(d))>this.bufParams.getMitreLimit()&&(e=!1)}catch(a){if(!(a instanceof Xc))throw a;f=new Oc(0,0),e=!1}e?this.segList.addPt(f):this.addLimitedMitreJoin(b,c,d,this.bufParams.getMitreLimit())},addFilletCorner:function(a,b,c,d,e){var f=b.x-a.x,g=b.y-a.y,h=Math.atan2(g,f),i=c.x-a.x,j=c.y-a.y,k=Math.atan2(j,i);d===fd.CLOCKWISE?h<=k&&(h+=2*Math.PI):h>=k&&(h-=2*Math.PI),this.segList.addPt(b),this.addFilletArc(a,h,k,d,e),this.segList.addPt(c)},addOutsideTurn:function(a,b){if(this.offset0.p1.distance(this.offset1.p0)<this.distance*th.OFFSET_SEGMENT_SEPARATION_FACTOR)return this.segList.addPt(this.offset0.p1),null;this.bufParams.getJoinStyle()===kh.JOIN_MITRE?this.addMitreJoin(this.s1,this.offset0,this.offset1,this.distance):this.bufParams.getJoinStyle()===kh.JOIN_BEVEL?this.addBevelJoin(this.offset0,this.offset1):(b&&this.segList.addPt(this.offset0.p1),this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,a,this.distance),this.segList.addPt(this.offset1.p0))},createSquare:function(a){this.segList.addPt(new Oc(a.x+this.distance,a.y+this.distance)),this.segList.addPt(new Oc(a.x+this.distance,a.y-this.distance)),this.segList.addPt(new Oc(a.x-this.distance,a.y-this.distance)),this.segList.addPt(new Oc(a.x-this.distance,a.y+this.distance)),this.segList.closeRing()},addSegments:function(a,b){this.segList.addPts(a,b)},addFirstSegment:function(){this.segList.addPt(this.offset1.p0)},addLastSegment:function(){this.segList.addPt(this.offset1.p1)},initSideSegments:function(a,b,c){this.s1=a,this.s2=b,this.side=c,this.seg1.setCoordinates(a,b),this.computeOffsetSegment(this.seg1,c,this.distance,this.offset1)},addLimitedMitreJoin:function(a,b,c,d){var e=this.seg0.p1,f=sh.angle(e,this.seg0.p0),g=(sh.angle(e,this.seg1.p1),sh.angleBetweenOriented(this.seg0.p0,e,this.seg1.p1)),h=g/2,i=sh.normalize(f+h),j=sh.normalize(i+Math.PI),k=d*c,l=k*Math.abs(Math.sin(h)),m=c-l,n=e.x+k*Math.cos(j),o=e.y+k*Math.sin(j),p=new Oc(n,o),q=new kf(e,p),r=q.pointAlongOffset(1,m),s=q.pointAlongOffset(1,-m);this.side===Pe.LEFT?(this.segList.addPt(r),this.segList.addPt(s)):(this.segList.addPt(s),this.segList.addPt(r))},computeOffsetSegment:function(a,b,c,d){var e=b===Pe.LEFT?1:-1,f=a.p1.x-a.p0.x,g=a.p1.y-a.p0.y,h=Math.sqrt(f*f+g*g),i=e*c*f/h,j=e*c*g/h;d.p0.x=a.p0.x-j,d.p0.y=a.p0.y+i,d.p1.x=a.p1.x-j,d.p1.y=a.p1.y+i},addFilletArc:function(a,b,c,d,e){var f=d===fd.CLOCKWISE?-1:1,g=Math.abs(b-c),h=Math.trunc(g/this.filletAngleQuantum+.5);if(h<1)return null;var i=null,j=null;i=0,j=g/h;for(var k=i,l=new Oc;k<g;){var m=b+f*k;l.x=a.x+e*Math.cos(m),l.y=a.y+e*Math.sin(m),this.segList.addPt(l),k+=j}},addInsideTurn:function(a,b){if(this.li.computeIntersection(this.offset0.p0,this.offset0.p1,this.offset1.p0,this.offset1.p1),this.li.hasIntersection())this.segList.addPt(this.li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this.offset0.p1.distance(this.offset1.p0)<this.distance*th.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this.segList.addPt(this.offset0.p1);else{if(this.segList.addPt(this.offset0.p1),this.closingSegLengthFactor>0){var c=new Oc((this.closingSegLengthFactor*this.offset0.p1.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset0.p1.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(c);var d=new Oc((this.closingSegLengthFactor*this.offset1.p0.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset1.p0.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(d)}else this.segList.addPt(this.s1);this.segList.addPt(this.offset1.p0)}},createCircle:function(a){var b=new Oc(a.x+this.distance,a.y);this.segList.addPt(b),this.addFilletArc(a,0,2*Math.PI,-1,this.distance),this.segList.closeRing()},addBevelJoin:function(a,b){this.segList.addPt(a.p1),this.segList.addPt(b.p0)},init:function(a){this.distance=a,this.maxCurveSegmentError=a*(1-Math.cos(this.filletAngleQuantum/2)),this.segList=new rh,this.segList.setPrecisionModel(this.precisionModel),this.segList.setMinimumVertexDistance(a*th.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(a){this.li.computeIntersection(this.s0,this.s1,this.s1,this.s2),this.li.getIntersectionNum()>=2&&(this.bufParams.getJoinStyle()===kh.JOIN_BEVEL||this.bufParams.getJoinStyle()===kh.JOIN_MITRE?(a&&this.segList.addPt(this.offset0.p1),this.segList.addPt(this.offset1.p0)):this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,fd.CLOCKWISE,this.distance))},closeRing:function(){this.segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return th}}),th.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,th.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,th.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,th.MAX_CLOSING_SEG_LEN_FACTOR=80,Jn(uh.prototype,{getOffsetCurve:function(a,b){if(this.distance=b,0===b)return null;var c=b<0,d=Math.abs(b),e=this.getSegGen(d);a.length<=1?this.computePointCurve(a[0],e):this.computeOffsetCurve(a,c,e);var f=e.getCoordinates();return c&&wd.reverse(f),f},computeSingleSidedBufferCurve:function(a,b,c){var d=this.simplifyTolerance(this.distance);if(b){c.addSegments(a,!0);var e=qh.simplify(a,-d),f=e.length-1;c.initSideSegments(e[f],e[f-1],Pe.LEFT),c.addFirstSegment();for(var g=f-2;g>=0;g--)c.addNextSegment(e[g],!0)}else{c.addSegments(a,!1);var h=qh.simplify(a,d),i=h.length-1;c.initSideSegments(h[0],h[1],Pe.LEFT),c.addFirstSegment();for(var g=2;g<=i;g++)c.addNextSegment(h[g],!0)}c.addLastSegment(),c.closeRing()},computeRingBufferCurve:function(a,b,c){var d=this.simplifyTolerance(this.distance);b===Pe.RIGHT&&(d=-d);var e=qh.simplify(a,d),f=e.length-1;c.initSideSegments(e[f-1],e[0],b);for(var g=1;g<=f;g++){var h=1!==g;c.addNextSegment(e[g],h)}c.closeRing()},computeLineBufferCurve:function(a,b){var c=this.simplifyTolerance(this.distance),d=qh.simplify(a,c),e=d.length-1;b.initSideSegments(d[0],d[1],Pe.LEFT);for(var f=2;f<=e;f++)b.addNextSegment(d[f],!0);b.addLastSegment(),b.addLineEndCap(d[e-1],d[e]);var g=qh.simplify(a,-c),h=g.length-1;b.initSideSegments(g[h],g[h-1],Pe.LEFT);for(var f=h-2;f>=0;f--)b.addNextSegment(g[f],!0);b.addLastSegment(),b.addLineEndCap(g[1],g[0]),b.closeRing()},computePointCurve:function(a,b){switch(this.bufParams.getEndCapStyle()){case kh.CAP_ROUND:b.createCircle(a);break;case kh.CAP_SQUARE:b.createSquare(a)}},getLineCurve:function(a,b){if(this.distance=b,b<0&&!this.bufParams.isSingleSided())return null;if(0===b)return null;var c=Math.abs(b),d=this.getSegGen(c);if(a.length<=1)this.computePointCurve(a[0],d);else if(this.bufParams.isSingleSided()){var e=b<0;this.computeSingleSidedBufferCurve(a,e,d)}else this.computeLineBufferCurve(a,d);return d.getCoordinates()},getBufferParameters:function(){return this.bufParams},simplifyTolerance:function(a){return a*this.bufParams.getSimplifyFactor()},getRingCurve:function(a,b,c){if(this.distance=c,a.length<=2)return this.getLineCurve(a,c);if(0===c)return uh.copyCoordinates(a);var d=this.getSegGen(c);return this.computeRingBufferCurve(a,b,d),d.getCoordinates()},computeOffsetCurve:function(a,b,c){var d=this.simplifyTolerance(this.distance);if(b){var e=qh.simplify(a,-d),f=e.length-1;c.initSideSegments(e[f],e[f-1],Pe.LEFT),c.addFirstSegment();for(var g=f-2;g>=0;g--)c.addNextSegment(e[g],!0)}else{var h=qh.simplify(a,d),i=h.length-1;c.initSideSegments(h[0],h[1],Pe.LEFT),c.addFirstSegment();for(var g=2;g<=i;g++)c.addNextSegment(h[g],!0)}c.addLastSegment()},getSegGen:function(a){return new th(this.precisionModel,this.bufParams,a)},interfaces_:function(){return[]},getClass:function(){return uh}}),uh.copyCoordinates=function(a){for(var b=new Array(a.length).fill(null),c=0;c<b.length;c++)b[c]=new Oc(a[c]);return b},Jn(vh.prototype,{findStabbedSegments:function(){if(1===arguments.length){for(var a=arguments[0],b=new ud,c=this.subgraphs.iterator();c.hasNext();){var d=c.next(),e=d.getEnvelope();a.y<e.getMinY()||a.y>e.getMaxY()||this.findStabbedSegments(a,d.getDirectedEdges(),b)}return b}if(3===arguments.length)if(In(arguments[2],rd)&&arguments[0]instanceof Oc&&arguments[1]instanceof gf)for(var a=arguments[0],f=arguments[1],b=arguments[2],g=f.getEdge().getCoordinates(),c=0;c<g.length-1;c++){this.seg.p0=g[c],this.seg.p1=g[c+1],this.seg.p0.y>this.seg.p1.y&&this.seg.reverse();var h=Math.max(this.seg.p0.x,this.seg.p1.x);if(!(h<a.x)&&!(this.seg.isHorizontal()||a.y<this.seg.p0.y||a.y>this.seg.p1.y||fd.computeOrientation(this.seg.p0,this.seg.p1,a)===fd.RIGHT)){var i=f.getDepth(Pe.LEFT);this.seg.p0.equals(g[c])||(i=f.getDepth(Pe.RIGHT));var j=new wh(this.seg,i);b.add(j)}}else if(In(arguments[2],rd)&&arguments[0]instanceof Oc&&In(arguments[1],rd))for(var a=arguments[0],k=arguments[1],b=arguments[2],c=k.iterator();c.hasNext();){var l=c.next();l.isForward()&&this.findStabbedSegments(a,l,b)}},getDepth:function(a){var b=this.findStabbedSegments(a);return 0===b.size()?0:$n.min(b).leftDepth},interfaces_:function(){return[]},getClass:function(){return vh}}),Jn(wh.prototype,{compareTo:function(a){var b=a;if(this.upwardSeg.minX()>=b.upwardSeg.maxX())return 1;if(this.upwardSeg.maxX()<=b.upwardSeg.minX())return-1;var c=this.upwardSeg.orientationIndex(b.upwardSeg);return 0!==c?c:(c=-1*b.upwardSeg.orientationIndex(this.upwardSeg),0!==c?c:this.upwardSeg.compareTo(b.upwardSeg))},compareX:function(a,b){var c=a.p0.compareTo(b.p0);return 0!==c?c:a.p1.compareTo(b.p1)},toString:function(){return this.upwardSeg.toString()},interfaces_:function(){return[Ic]},getClass:function(){return wh}}),vh.DepthSegment=wh,Jn(xh.prototype,{area:function(){return xh.area(this.p0,this.p1,this.p2)},signedArea:function(){return xh.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(a){if(null===a)throw new Ec("Supplied point is null.");return xh.interpolateZ(a,this.p0,this.p1,this.p2)},longestSideLength:function(){return xh.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return xh.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return xh.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return xh.area3D(this.p0,this.p1,this.p2)},centroid:function(){return xh.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return xh.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return xh}}),xh.area=function(a,b,c){return Math.abs(((c.x-a.x)*(b.y-a.y)-(b.x-a.x)*(c.y-a.y))/2)},xh.signedArea=function(a,b,c){return((c.x-a.x)*(b.y-a.y)-(b.x-a.x)*(c.y-a.y))/2},xh.det=function(a,b,c,d){return a*d-b*c},xh.interpolateZ=function(a,b,c,d){var e=b.x,f=b.y,g=c.x-e,h=d.x-e,i=c.y-f,j=d.y-f,k=g*j-h*i,l=a.x-e,m=a.y-f,n=(j*l-h*m)/k,o=(-i*l+g*m)/k;return b.z+n*(c.z-b.z)+o*(d.z-b.z)},xh.longestSideLength=function(a,b,c){var d=a.distance(b),e=b.distance(c),f=c.distance(a),g=d;return e>g&&(g=e),f>g&&(g=f),g},xh.isAcute=function(a,b,c){return!!sh.isAcute(a,b,c)&&(!!sh.isAcute(b,c,a)&&!!sh.isAcute(c,a,b))},xh.circumcentre=function(a,b,c){var d=c.x,e=c.y,f=a.x-d,g=a.y-e,h=b.x-d,i=b.y-e,j=2*xh.det(f,g,h,i);return new Oc(d-xh.det(g,f*f+g*g,i,h*h+i*i)/j,e+xh.det(f,f*f+g*g,h,h*h+i*i)/j)},xh.perpendicularBisector=function(a,b){var c=b.x-a.x,d=b.y-a.y;return new Zc(new Zc(a.x+c/2,a.y+d/2,1),new Zc(a.x-d+c/2,a.y+c+d/2,1))},xh.angleBisector=function(a,b,c){var d=b.distance(a),e=b.distance(c),f=d/(d+e),g=c.x-a.x,h=c.y-a.y;return new Oc(a.x+f*g,a.y+f*h)},xh.area3D=function(a,b,c){var d=b.x-a.x,e=b.y-a.y,f=b.z-a.z,g=c.x-a.x,h=c.y-a.y,i=c.z-a.z,j=e*i-f*h,k=f*g-d*i,l=d*h-e*g,m=j*j+k*k+l*l;return Math.sqrt(m)/2},xh.centroid=function(a,b,c){return new Oc((a.x+b.x+c.x)/3,(a.y+b.y+c.y)/3)},xh.inCentre=function(a,b,c){var d=b.distance(c),e=a.distance(c),f=a.distance(b),g=d+e+f;return new Oc((d*a.x+e*b.x+f*c.x)/g,(d*a.y+e*b.y+f*c.y)/g)},Jn(yh.prototype,{addPoint:function(a){if(this.distance<=0)return null;var b=a.getCoordinates(),c=this.curveBuilder.getLineCurve(b,this.distance);this.addCurve(c,Fc.EXTERIOR,Fc.INTERIOR)},addPolygon:function(a){var b=this.distance,c=Pe.LEFT;this.distance<0&&(b=-this.distance,c=Pe.RIGHT);var d=a.getExteriorRing(),e=wd.removeRepeatedPoints(d.getCoordinates());if(this.distance<0&&this.isErodedCompletely(d,this.distance))return null;if(this.distance<=0&&e.length<3)return null;this.addPolygonRing(e,b,c,Fc.EXTERIOR,Fc.INTERIOR);for(var f=0;f<a.getNumInteriorRing();f++){var g=a.getInteriorRingN(f),h=wd.removeRepeatedPoints(g.getCoordinates());this.distance>0&&this.isErodedCompletely(g,-this.distance)||this.addPolygonRing(h,b,Pe.opposite(c),Fc.INTERIOR,Fc.EXTERIOR)}},isTriangleErodedCompletely:function(a,b){var c=new xh(a[0],a[1],a[2]),d=c.inCentre();return fd.distancePointLine(d,c.p0,c.p1)<Math.abs(b)},addLineString:function(a){if(this.distance<=0&&!this.curveBuilder.getBufferParameters().isSingleSided())return null;var b=wd.removeRepeatedPoints(a.getCoordinates()),c=this.curveBuilder.getLineCurve(b,this.distance);this.addCurve(c,Fc.EXTERIOR,Fc.INTERIOR)},addCurve:function(a,b,c){if(null===a||a.length<2)return null;var d=new Hg(a,new Se(0,Fc.BOUNDARY,b,c));this.curveList.add(d)},getCurves:function(){return this.add(this.inputGeom),this.curveList},addPolygonRing:function(a,b,c,d,e){if(0===b&&a.length<ge.MINIMUM_VALID_SIZE)return null;var f=d,g=e;a.length>=ge.MINIMUM_VALID_SIZE&&fd.isCCW(a)&&(f=e,g=d,c=Pe.opposite(c));var h=this.curveBuilder.getRingCurve(a,c,b);this.addCurve(h,f,g)},add:function(a){if(a.isEmpty())return null;if(a instanceof ee)this.addPolygon(a);else if(a instanceof ae)this.addLineString(a);else if(a instanceof ce)this.addPoint(a);else if(a instanceof fe)this.addCollection(a);else if(a instanceof Rd)this.addCollection(a);else if(a instanceof he)this.addCollection(a);else{if(!(a instanceof Qd))throw new UnsupportedOperationException(a.getClass().getName());this.addCollection(a)}},isErodedCompletely:function(a,b){var c=a.getCoordinates();if(c.length<4)return b<0;if(4===c.length)return this.isTriangleErodedCompletely(c,b);var d=a.getEnvelopeInternal(),e=Math.min(d.getHeight(),d.getWidth());return b<0&&2*Math.abs(b)>e},addCollection:function(a){for(var b=0;b<a.getNumGeometries();b++){var c=a.getGeometryN(b);this.add(c)}},interfaces_:function(){return[]},getClass:function(){return yh}}),Jn(zh.prototype,{isTrivialIntersection:function(a,b,c,d){if(a===c&&1===this.li.getIntersectionNum()){if(zh.isAdjacentSegments(b,d))return!0;if(a.isClosed()){var e=a.size()-1;if(0===b&&d===e||0===d&&b===e)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},hasProperInteriorIntersection:function(){return this.hasProperInterior},getLineIntersector:function(){return this.li},hasProperIntersection:function(){return this.hasProper},processIntersections:function(a,b,c,d){if(a===c&&b===d)return null;this.numTests++;var e=a.getCoordinates()[b],f=a.getCoordinates()[b+1],g=c.getCoordinates()[d],h=c.getCoordinates()[d+1];this.li.computeIntersection(e,f,g,h),this.li.hasIntersection()&&(this.numIntersections++,this.li.isInteriorIntersection()&&(this.numInteriorIntersections++,this.hasInterior=!0),this.isTrivialIntersection(a,b,c,d)||(this._hasIntersection=!0,a.addIntersections(this.li,b,0),c.addIntersections(this.li,d,1),this.li.isProper()&&(this.numProperIntersections++,this.hasProper=!0,this.hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this.hasInterior},interfaces_:function(){return[Ng]},getClass:function(){return zh}}),zh.isAdjacentSegments=function(a,b){return 1===Math.abs(a-b)},Jn(Ah.prototype,{setWorkingPrecisionModel:function(a){this.workingPrecisionModel=a},insertUniqueEdge:function(a){var b=this.edgeList.findEqualEdge(a);if(null!==b){var c=b.getLabel(),d=a.getLabel();b.isPointwiseEqual(a)||(d=new Se(a.getLabel()),d.flip()),c.merge(d);var e=Ah.depthDelta(d),f=b.getDepthDelta(),g=f+e;b.setDepthDelta(g)}else this.edgeList.add(a),a.setDepthDelta(Ah.depthDelta(a.getLabel()))},buildSubgraphs:function(a,b){for(var c=new ud,d=a.iterator();d.hasNext();){var e=d.next(),f=e.getRightmostCoordinate(),g=new vh(c),h=g.getDepth(f);e.computeDepth(h),e.findResultEdges(),c.add(e),b.add(e.getDirectedEdges(),e.getNodes())}},createSubgraphs:function(a){for(var b=new ud,c=a.getNodes().iterator();c.hasNext();){var d=c.next();if(!d.isVisited()){var e=new ph;e.create(d),b.add(e)}}return $n.sort(b,$n.reverseOrder()),b},createEmptyResultGeometry:function(){return this.geomFact.createPolygon()},getNoder:function(a){if(null!==this.workingNoder)return this.workingNoder;var b=new Lg,c=new cd;return c.setPrecisionModel(a),b.setSegmentIntersector(new zh(c)),b},buffer:function(a,b){var c=this.workingPrecisionModel;null===c&&(c=a.getPrecisionModel()),this.geomFact=a.getFactory();var d=new uh(c,this.bufParams),e=new yh(a,b,d),f=e.getCurves();if(f.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(f,c),this.graph=new hf(new df),this.graph.addEdges(this.edgeList.getEdges());var g=this.createSubgraphs(this.graph),h=new Rg(this.geomFact);this.buildSubgraphs(g,h);var i=h.getPolygons();return i.size()<=0?this.createEmptyResultGeometry():this.geomFact.buildGeometry(i)},computeNodedEdges:function(a,b){var c=this.getNoder(b);c.computeNodes(a);for(var d=c.getNodedSubstrings(),e=d.iterator();e.hasNext();){var f=e.next(),g=f.getCoordinates();if(2!==g.length||!g[0].equals2D(g[1])){var h=f.getData(),i=new Wf(f.getCoordinates(),new Se(h));this.insertUniqueEdge(i)}}},setNoder:function(a){this.workingNoder=a},interfaces_:function(){return[]},getClass:function(){return Ah}}),Ah.depthDelta=function(a){var b=a.getLocation(0,Pe.LEFT),c=a.getLocation(0,Pe.RIGHT);return b===Fc.INTERIOR&&c===Fc.EXTERIOR?1:b===Fc.EXTERIOR&&c===Fc.INTERIOR?-1:0},Ah.convertSegStrings=function(a){for(var b=new He,c=new ud;a.hasNext();){var d=a.next(),e=b.createLineString(d.getCoordinates());c.add(e)}return b.buildGeometry(c)},Jn(Bh.prototype,{rescale:function(){if(In(arguments[0],pd))for(var a=arguments[0],b=a.iterator();b.hasNext();){var c=b.next();this.rescale(c.getCoordinates())}else if(arguments[0]instanceof Array){var d=arguments[0];2===d.length&&(new Oc(d[0]),new Oc(d[1]));for(var b=0;b<d.length;b++)d[b].x=d[b].x/this.scaleFactor+this.offsetX,d[b].y=d[b].y/this.scaleFactor+this.offsetY;2===d.length&&d[0].equals2D(d[1])&&Yc.out.println(d)}},scale:function(){if(In(arguments[0],pd)){for(var a=arguments[0],b=new ud,c=a.iterator();c.hasNext();){var d=c.next();b.add(new Hg(this.scale(d.getCoordinates()),d.getData()))}return b}if(arguments[0]instanceof Array){for(var e=arguments[0],f=new Array(e.length).fill(null),c=0;c<e.length;c++)f[c]=new Oc(Math.round((e[c].x-this.offsetX)*this.scaleFactor),Math.round((e[c].y-this.offsetY)*this.scaleFactor),e[c].z);return wd.removeRepeatedPoints(f)}},isIntegerPrecision:function(){return 1===this.scaleFactor},getNodedSubstrings:function(){var a=this.noder.getNodedSubstrings();return this.isScaled&&this.rescale(a),a},computeNodes:function(a){var b=a;this.isScaled&&(b=this.scale(a)),this.noder.computeNodes(b)},interfaces_:function(){return[Jg]},getClass:function(){return Bh}}),Jn(Ch.prototype,{checkEndPtVertexIntersections:function(){if(0===arguments.length)for(var a=this.segStrings.iterator();a.hasNext();){var b=a.next(),c=b.getCoordinates();this.checkEndPtVertexIntersections(c[0],this.segStrings),this.checkEndPtVertexIntersections(c[c.length-1],this.segStrings)}else if(2===arguments.length)for(var d=arguments[0],e=arguments[1],a=e.iterator();a.hasNext();)for(var b=a.next(),c=b.getCoordinates(),f=1;f<c.length-1;f++)if(c[f].equals(d))throw new Lc("found endpt/interior pt intersection at index "+f+" :pt "+d)},checkInteriorIntersections:function(){if(0===arguments.length)for(var a=this.segStrings.iterator();a.hasNext();)for(var b=a.next(),c=this.segStrings.iterator();c.hasNext();){var d=c.next();this.checkInteriorIntersections(b,d)}else if(2===arguments.length)for(var b=arguments[0],d=arguments[1],e=b.getCoordinates(),f=d.getCoordinates(),g=0;g<e.length-1;g++)for(var h=0;h<f.length-1;h++)this.checkInteriorIntersections(b,g,d,h);else if(4===arguments.length){var i=arguments[0],j=arguments[1],k=arguments[2],l=arguments[3];if(i===k&&j===l)return null;var m=i.getCoordinates()[j],n=i.getCoordinates()[j+1],o=k.getCoordinates()[l],p=k.getCoordinates()[l+1];if(this.li.computeIntersection(m,n,o,p),this.li.hasIntersection()&&(this.li.isProper()||this.hasInteriorIntersection(this.li,m,n)||this.hasInteriorIntersection(this.li,o,p)))throw new Lc("found non-noded intersection at "+m+"-"+n+" and "+o+"-"+p)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(0===arguments.length)for(var a=this.segStrings.iterator();a.hasNext();){var b=a.next();this.checkCollapses(b)}else if(1===arguments.length)for(var b=arguments[0],c=b.getCoordinates(),a=0;a<c.length-2;a++)this.checkCollapse(c[a],c[a+1],c[a+2])},hasInteriorIntersection:function(a,b,c){for(var d=0;d<a.getIntersectionNum();d++){var e=a.getIntersection(d);if(!e.equals(b)&&!e.equals(c))return!0}return!1},checkCollapse:function(a,b,c){if(a.equals(c))throw new Lc("found non-noded collapse at "+Ch.fact.createLineString([a,b,c]))},interfaces_:function(){return[]},getClass:function(){return Ch}}),Ch.fact=new He,Jn(Dh.prototype,{intersectsScaled:function(a,b){var c=Math.min(a.x,b.x),d=Math.max(a.x,b.x),e=Math.min(a.y,b.y),f=Math.max(a.y,b.y),g=this.maxx<c||this.minx>d||this.maxy<e||this.miny>f;if(g)return!1;var h=this.intersectsToleranceSquare(a,b);return Nc.isTrue(!(g&&h),"Found bad envelope test"),h},initCorners:function(a){var b=.5;this.minx=a.x-b,this.maxx=a.x+b,this.miny=a.y-b,this.maxy=a.y+b,this.corner[0]=new Oc(this.maxx,this.maxy),this.corner[1]=new Oc(this.minx,this.maxy),this.corner[2]=new Oc(this.minx,this.miny),this.corner[3]=new Oc(this.maxx,this.miny)},intersects:function(a,b){return 1===this.scaleFactor?this.intersectsScaled(a,b):(this.copyScaled(a,this.p0Scaled),this.copyScaled(b,this.p1Scaled),this.intersectsScaled(this.p0Scaled,this.p1Scaled))},scale:function(a){return Math.round(a*this.scaleFactor)},getCoordinate:function(){return this.originalPt},copyScaled:function(a,b){b.x=this.scale(a.x),b.y=this.scale(a.y)},getSafeEnvelope:function(){if(null===this.safeEnv){var a=Dh.SAFE_ENV_EXPANSION_FACTOR/this.scaleFactor;this.safeEnv=new $c(this.originalPt.x-a,this.originalPt.x+a,this.originalPt.y-a,this.originalPt.y+a)}return this.safeEnv},intersectsPixelClosure:function(a,b){return this.li.computeIntersection(a,b,this.corner[0],this.corner[1]),!!this.li.hasIntersection()||(this.li.computeIntersection(a,b,this.corner[1],this.corner[2]),!!this.li.hasIntersection()||(this.li.computeIntersection(a,b,this.corner[2],this.corner[3]),!!this.li.hasIntersection()||(this.li.computeIntersection(a,b,this.corner[3],this.corner[0]),!!this.li.hasIntersection())))},intersectsToleranceSquare:function(a,b){var c=!1,d=!1;return this.li.computeIntersection(a,b,this.corner[0],this.corner[1]),!!this.li.isProper()||(this.li.computeIntersection(a,b,this.corner[1],this.corner[2]),!!this.li.isProper()||(this.li.hasIntersection()&&(c=!0),this.li.computeIntersection(a,b,this.corner[2],this.corner[3]),!!this.li.isProper()||(this.li.hasIntersection()&&(d=!0),this.li.computeIntersection(a,b,this.corner[3],this.corner[0]),!!this.li.isProper()||(!(!c||!d)||(!!a.equals(this.pt)||!!b.equals(this.pt))))))},addSnappedNode:function(a,b){var c=a.getCoordinate(b),d=a.getCoordinate(b+1);return!!this.intersects(c,d)&&(a.addIntersection(this.getCoordinate(),b),!0)},interfaces_:function(){return[]},getClass:function(){return Dh}}),Dh.SAFE_ENV_EXPANSION_FACTOR=.75,Jn(Eh.prototype,{snap:function(){if(1===arguments.length){var a=arguments[0];return this.snap(a,null,-1)}if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=a.getSafeEnvelope(),e=new Fh(a,b,c);return this.index.query(d,{interfaces_:function(){return[Gf]},visitItem:function(a){a.select(d,e)}}),e.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return Eh}}),Kn(Fh,lf),Jn(Fh.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(2!==arguments.length)return lf.prototype.select.apply(this,arguments);var a=arguments[0],b=arguments[1],c=a.getContext();if(null!==this.parentEdge&&c===this.parentEdge&&b===this.hotPixelVertexIndex)return null;this._isNodeAdded=this.hotPixel.addSnappedNode(c,b)},interfaces_:function(){return[]},getClass:function(){return Fh}}),Eh.HotPixelSnapAction=Fh,Jn(Gh.prototype,{processIntersections:function(a,b,c,d){if(a===c&&b===d)return null;var e=a.getCoordinates()[b],f=a.getCoordinates()[b+1],g=c.getCoordinates()[d],h=c.getCoordinates()[d+1];if(this.li.computeIntersection(e,f,g,h),this.li.hasIntersection()&&this.li.isInteriorIntersection()){for(var i=0;i<this.li.getIntersectionNum();i++)this.interiorIntersections.add(this.li.getIntersection(i));a.addIntersections(this.li,b,0),c.addIntersections(this.li,d,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this.interiorIntersections},interfaces_:function(){return[Ng]},getClass:function(){return Gh}}),Jn(Hh.prototype,{checkCorrectness:function(a){var b=Hg.getNodedSubstrings(a),c=new Ch(b);try{c.checkValid()}catch(a){if(!(a instanceof Wc))throw a;a.printStackTrace()}},getNodedSubstrings:function(){return Hg.getNodedSubstrings(this.nodedSegStrings)},snapRound:function(a,b){var c=this.findInteriorIntersections(a,b);this.computeIntersectionSnaps(c),this.computeVertexSnaps(a)},findInteriorIntersections:function(a,b){var c=new Gh(b);return this.noder.setSegmentIntersector(c),this.noder.computeNodes(a),c.getInteriorIntersections()},computeVertexSnaps:function(){if(In(arguments[0],pd))for(var a=arguments[0],b=a.iterator();b.hasNext();){var c=b.next();this.computeVertexSnaps(c)}else if(arguments[0]instanceof Hg)for(var d=arguments[0],e=d.getCoordinates(),f=0;f<e.length;f++){var g=new Dh(e[f],this.scaleFactor,this.li),h=this.pointSnapper.snap(g,d,f);h&&d.addIntersection(e[f],f)}},computeNodes:function(a){this.nodedSegStrings=a,this.noder=new Lg,this.pointSnapper=new Eh(this.noder.getIndex()),this.snapRound(a,this.li)},computeIntersectionSnaps:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next(),d=new Dh(c,this.scaleFactor,this.li);this.pointSnapper.snap(d)}},interfaces_:function(){return[Jg]},getClass:function(){return Hh}}),Jn(Ih.prototype,{bufferFixedPrecision:function(a){var b=new Bh(new Hh(new Fe(1)),a.getScale()),c=new Ah(this.bufParams);c.setWorkingPrecisionModel(a),c.setNoder(b),this.resultGeometry=c.buffer(this.argGeom,this.distance)},bufferReducedPrecision:function(){if(0===arguments.length){for(var a=Ih.MAX_PRECISION_DIGITS;a>=0;a--){try{this.bufferReducedPrecision(a)}catch(a){if(!(a instanceof Qe))throw a;this.saveException=a}if(null!==this.resultGeometry)return null}throw this.saveException}if(1===arguments.length){var b=arguments[0],c=Ih.precisionScaleFactor(this.argGeom,this.distance,b),d=new Fe(c);this.bufferFixedPrecision(d)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),null!==this.resultGeometry)return null;var a=this.argGeom.getFactory().getPrecisionModel();a.getType()===Fe.FIXED?this.bufferFixedPrecision(a):this.bufferReducedPrecision()},setQuadrantSegments:function(a){this.bufParams.setQuadrantSegments(a)},bufferOriginalPrecision:function(){try{var a=new Ah(this.bufParams);this.resultGeometry=a.buffer(this.argGeom,this.distance)}catch(a){if(!(a instanceof Lc))throw a;this.saveException=a}},getResultGeometry:function(a){return this.distance=a,this.computeGeometry(),this.resultGeometry},setEndCapStyle:function(a){this.bufParams.setEndCapStyle(a)},interfaces_:function(){return[]},getClass:function(){return Ih}}),Ih.bufferOp=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new Ih(a),d=c.getResultGeometry(b);return d}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof hd&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1],e=arguments[2],f=new Ih(a);f.setQuadrantSegments(e);var d=f.getResultGeometry(b);return d}if(arguments[2]instanceof kh&&arguments[0]instanceof hd&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1],g=arguments[2],f=new Ih(a,g),d=f.getResultGeometry(b);return d}}else if(4===arguments.length){var a=arguments[0],b=arguments[1],e=arguments[2],h=arguments[3],f=new Ih(a);f.setQuadrantSegments(e),f.setEndCapStyle(h);var d=f.getResultGeometry(b);return d}},Ih.precisionScaleFactor=function(a,b,c){var d=a.getEnvelopeInternal(),e=Qc.max(Math.abs(d.getMaxX()),Math.abs(d.getMaxY()),Math.abs(d.getMinX()),Math.abs(d.getMinY())),f=b>0?b:0,g=e+2*f,h=Math.trunc(Math.log(g)/Math.log(10)+1),i=c-h;return Math.pow(10,i)},Ih.CAP_ROUND=kh.CAP_ROUND,Ih.CAP_BUTT=kh.CAP_FLAT,Ih.CAP_FLAT=kh.CAP_FLAT,Ih.CAP_SQUARE=kh.CAP_SQUARE,Ih.MAX_PRECISION_DIGITS=12,Jn(Jh.prototype,{filter:function(a){this.treeSet.contains(a)||(this.list.add(a),this.treeSet.add(a))},getCoordinates:function(){var a=new Array(this.list.size()).fill(null);return this.list.toArray(a)},interfaces_:function(){return[id]},getClass:function(){return Jh}}),Jh.filterCoordinates=function(a){for(var b=new Jh,c=0;c<a.length;c++)b.filter(a[c]);return b.getCoordinates()},Jn(Kh.prototype,{preSort:function(a){for(var b=null,c=1;c<a.length;c++)(a[c].y<a[0].y||a[c].y===a[0].y&&a[c].x<a[0].x)&&(b=a[0],a[0]=a[c],a[c]=b);return Md.sort(a,1,a.length,new Lh(a[0])),a},computeOctRing:function(a){var b=this.computeOctPts(a),c=new vd;return c.add(b,!1),c.size()<3?null:(c.closeRing(),c.toCoordinateArray())},lineOrPolygon:function(a){if(a=this.cleanRing(a),3===a.length)return this.geomFactory.createLineString([a[0],a[1]]);var b=this.geomFactory.createLinearRing(a);return this.geomFactory.createPolygon(b,null)},cleanRing:function(a){Nc.equals(a[0],a[a.length-1]);for(var b=new ud,c=null,d=0;d<=a.length-2;d++){var e=a[d],f=a[d+1];e.equals(f)||(null!==c&&this.isBetween(c,e,f)||(b.add(e),c=e))}b.add(a[a.length-1]);var g=new Array(b.size()).fill(null);return b.toArray(g)},isBetween:function(a,b,c){if(0!==fd.computeOrientation(a,b,c))return!1;if(a.x!==c.x){if(a.x<=b.x&&b.x<=c.x)return!0;if(c.x<=b.x&&b.x<=a.x)return!0}if(a.y!==c.y){if(a.y<=b.y&&b.y<=c.y)return!0;if(c.y<=b.y&&b.y<=a.y)return!0}return!1},reduce:function(a){var b=this.computeOctRing(a);if(null===b)return a;for(var c=new Ld,d=0;d<b.length;d++)c.add(b[d]);for(var d=0;d<a.length;d++)fd.isPointInRing(a[d],b)||c.add(a[d]);var e=wd.toCoordinateArray(c);return e.length<3?this.padArray3(e):e},getConvexHull:function(){if(0===this.inputPts.length)return this.geomFactory.createGeometryCollection(null);if(1===this.inputPts.length)return this.geomFactory.createPoint(this.inputPts[0]);if(2===this.inputPts.length)return this.geomFactory.createLineString(this.inputPts);var a=this.inputPts;this.inputPts.length>50&&(a=this.reduce(this.inputPts));var b=this.preSort(a),c=this.grahamScan(b),d=this.toCoordinateArray(c);return this.lineOrPolygon(d)},padArray3:function(a){for(var b=new Array(3).fill(null),c=0;c<b.length;c++)c<a.length?b[c]=a[c]:b[c]=a[0];return b},computeOctPts:function(a){for(var b=new Array(8).fill(null),c=0;c<b.length;c++)b[c]=a[0];for(var d=1;d<a.length;d++)a[d].x<b[0].x&&(b[0]=a[d]),a[d].x-a[d].y<b[1].x-b[1].y&&(b[1]=a[d]),a[d].y>b[2].y&&(b[2]=a[d]),a[d].x+a[d].y>b[3].x+b[3].y&&(b[3]=a[d]),a[d].x>b[4].x&&(b[4]=a[d]),a[d].x-a[d].y>b[5].x-b[5].y&&(b[5]=a[d]),a[d].y<b[6].y&&(b[6]=a[d]),a[d].x+a[d].y<b[7].x+b[7].y&&(b[7]=a[d]);return b},toCoordinateArray:function(a){for(var b=new Array(a.size()).fill(null),c=0;c<a.size();c++){var d=a.get(c);b[c]=d}return b},grahamScan:function(a){var b=null,c=new mh;b=c.push(a[0]),b=c.push(a[1]),b=c.push(a[2]);for(var d=3;d<a.length;d++){for(b=c.pop();!c.empty()&&fd.computeOrientation(c.peek(),b,a[d])>0;)b=c.pop();b=c.push(b),b=c.push(a[d])}return b=c.push(a[0]),c},interfaces_:function(){return[]},getClass:function(){return Kh}}),Kh.extractCoordinates=function(a){var b=new Jh;return a.apply(b),b.getCoordinates()},Jn(Lh.prototype,{compare:function(a,b){var c=a,d=b;return Lh.polarCompare(this.origin,c,d)},interfaces_:function(){return[Jc]},getClass:function(){return Lh}}),Lh.polarCompare=function(a,b,c){var d=b.x-a.x,e=b.y-a.y,f=c.x-a.x,g=c.y-a.y,h=fd.computeOrientation(a,b,c);if(h===fd.COUNTERCLOCKWISE)return 1;if(h===fd.CLOCKWISE)return-1;var i=d*d+e*e,j=f*f+g*g;return i<j?-1:i>j?1:0},Kh.RadialComparator=Lh,Jn(Mh.prototype,{addPoint:function(a){this.ptCount+=1,this.ptCentSum.x+=a.x,this.ptCentSum.y+=a.y},setBasePoint:function(a){null===this.areaBasePt&&(this.areaBasePt=a)},addLineSegments:function(a){for(var b=0,c=0;c<a.length-1;c++){var d=a[c].distance(a[c+1]);if(0!==d){b+=d;var e=(a[c].x+a[c+1].x)/2;this.lineCentSum.x+=d*e;var f=(a[c].y+a[c+1].y)/2;this.lineCentSum.y+=d*f}}this.totalLength+=b,0===b&&a.length>0&&this.addPoint(a[0])},addHole:function(a){for(var b=fd.isCCW(a),c=0;c<a.length-1;c++)this.addTriangle(this.areaBasePt,a[c],a[c+1],b);this.addLineSegments(a)},getCentroid:function(){var a=new Oc;if(Math.abs(this.areasum2)>0)a.x=this.cg3.x/3/this.areasum2,a.y=this.cg3.y/3/this.areasum2;else if(this.totalLength>0)a.x=this.lineCentSum.x/this.totalLength,a.y=this.lineCentSum.y/this.totalLength;else{if(!(this.ptCount>0))return null;a.x=this.ptCentSum.x/this.ptCount,a.y=this.ptCentSum.y/this.ptCount}return a},addShell:function(a){a.length>0&&this.setBasePoint(a[0]);for(var b=!fd.isCCW(a),c=0;c<a.length-1;c++)this.addTriangle(this.areaBasePt,a[c],a[c+1],b);this.addLineSegments(a)},addTriangle:function(a,b,c,d){var e=d?1:-1;Mh.centroid3(a,b,c,this.triangleCent3);var f=Mh.area2(a,b,c);this.cg3.x+=e*f*this.triangleCent3.x,this.cg3.y+=e*f*this.triangleCent3.y,this.areasum2+=e*f},add:function(){if(arguments[0]instanceof ee){var a=arguments[0];this.addShell(a.getExteriorRing().getCoordinates());for(var b=0;b<a.getNumInteriorRing();b++)this.addHole(a.getInteriorRingN(b).getCoordinates())}else if(arguments[0]instanceof hd){var c=arguments[0];if(c.isEmpty())return null;if(c instanceof ce)this.addPoint(c.getCoordinate());else if(c instanceof ae)this.addLineSegments(c.getCoordinates());else if(c instanceof ee){var a=c;this.add(a)}else if(c instanceof Qd)for(var d=c,b=0;b<d.getNumGeometries();b++)this.add(d.getGeometryN(b))}},interfaces_:function(){return[]},getClass:function(){return Mh}}),Mh.area2=function(a,b,c){return(b.x-a.x)*(c.y-a.y)-(c.x-a.x)*(b.y-a.y)},Mh.centroid3=function(a,b,c,d){return d.x=a.x+b.x+c.x,d.y=a.y+b.y+c.y,null},Mh.getCentroid=function(a){return new Mh(a).getCentroid()},Jn(Nh.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){return(Nh.isTrue(this.matrix[Fc.INTERIOR][Fc.INTERIOR])||Nh.isTrue(this.matrix[Fc.INTERIOR][Fc.BOUNDARY])||Nh.isTrue(this.matrix[Fc.BOUNDARY][Fc.INTERIOR])||Nh.isTrue(this.matrix[Fc.BOUNDARY][Fc.BOUNDARY]))&&this.matrix[Fc.EXTERIOR][Fc.INTERIOR]===Nd.FALSE&&this.matrix[Fc.EXTERIOR][Fc.BOUNDARY]===Nd.FALSE},isCoveredBy:function(){return(Nh.isTrue(this.matrix[Fc.INTERIOR][Fc.INTERIOR])||Nh.isTrue(this.matrix[Fc.INTERIOR][Fc.BOUNDARY])||Nh.isTrue(this.matrix[Fc.BOUNDARY][Fc.INTERIOR])||Nh.isTrue(this.matrix[Fc.BOUNDARY][Fc.BOUNDARY]))&&this.matrix[Fc.INTERIOR][Fc.EXTERIOR]===Nd.FALSE&&this.matrix[Fc.BOUNDARY][Fc.EXTERIOR]===Nd.FALSE},set:function(){if(1===arguments.length)for(var a=arguments[0],b=0;b<a.length;b++){var c=Math.trunc(b/3),d=b%3;this.matrix[c][d]=Nd.toDimensionValue(a.charAt(b))}else if(3===arguments.length){var c=arguments[0],e=arguments[1],f=arguments[2];this.matrix[c][e]=f}},isContains:function(){return Nh.isTrue(this.matrix[Fc.INTERIOR][Fc.INTERIOR])&&this.matrix[Fc.EXTERIOR][Fc.INTERIOR]===Nd.FALSE&&this.matrix[Fc.EXTERIOR][Fc.BOUNDARY]===Nd.FALSE},setAtLeast:function(){if(1===arguments.length)for(var a=arguments[0],b=0;b<a.length;b++){var c=Math.trunc(b/3),d=b%3;this.setAtLeast(c,d,Nd.toDimensionValue(a.charAt(b)))}else if(3===arguments.length){var c=arguments[0],e=arguments[1],f=arguments[2];this.matrix[c][e]<f&&(this.matrix[c][e]=f)}},setAtLeastIfValid:function(a,b,c){a>=0&&b>=0&&this.setAtLeast(a,b,c)},isWithin:function(){return Nh.isTrue(this.matrix[Fc.INTERIOR][Fc.INTERIOR])&&this.matrix[Fc.INTERIOR][Fc.EXTERIOR]===Nd.FALSE&&this.matrix[Fc.BOUNDARY][Fc.EXTERIOR]===Nd.FALSE},isTouches:function(a,b){return a>b?this.isTouches(b,a):(a===Nd.A&&b===Nd.A||a===Nd.L&&b===Nd.L||a===Nd.L&&b===Nd.A||a===Nd.P&&b===Nd.A||a===Nd.P&&b===Nd.L)&&(this.matrix[Fc.INTERIOR][Fc.INTERIOR]===Nd.FALSE&&(Nh.isTrue(this.matrix[Fc.INTERIOR][Fc.BOUNDARY])||Nh.isTrue(this.matrix[Fc.BOUNDARY][Fc.INTERIOR])||Nh.isTrue(this.matrix[Fc.BOUNDARY][Fc.BOUNDARY])))},isOverlaps:function(a,b){return a===Nd.P&&b===Nd.P||a===Nd.A&&b===Nd.A?Nh.isTrue(this.matrix[Fc.INTERIOR][Fc.INTERIOR])&&Nh.isTrue(this.matrix[Fc.INTERIOR][Fc.EXTERIOR])&&Nh.isTrue(this.matrix[Fc.EXTERIOR][Fc.INTERIOR]):a===Nd.L&&b===Nd.L&&(1===this.matrix[Fc.INTERIOR][Fc.INTERIOR]&&Nh.isTrue(this.matrix[Fc.INTERIOR][Fc.EXTERIOR])&&Nh.isTrue(this.matrix[Fc.EXTERIOR][Fc.INTERIOR]))},isEquals:function(a,b){return a===b&&(Nh.isTrue(this.matrix[Fc.INTERIOR][Fc.INTERIOR])&&this.matrix[Fc.INTERIOR][Fc.EXTERIOR]===Nd.FALSE&&this.matrix[Fc.BOUNDARY][Fc.EXTERIOR]===Nd.FALSE&&this.matrix[Fc.EXTERIOR][Fc.INTERIOR]===Nd.FALSE&&this.matrix[Fc.EXTERIOR][Fc.BOUNDARY]===Nd.FALSE)},toString:function(){for(var a=new Rc("123456789"),b=0;b<3;b++)for(var c=0;c<3;c++)a.setCharAt(3*b+c,Nd.toDimensionSymbol(this.matrix[b][c]));return a.toString()},setAll:function(a){for(var b=0;b<3;b++)for(var c=0;c<3;c++)this.matrix[b][c]=a},get:function(a,b){return this.matrix[a][b]},transpose:function(){var a=this.matrix[1][0];return this.matrix[1][0]=this.matrix[0][1],this.matrix[0][1]=a,a=this.matrix[2][0],this.matrix[2][0]=this.matrix[0][2],this.matrix[0][2]=a,a=this.matrix[2][1],this.matrix[2][1]=this.matrix[1][2],this.matrix[1][2]=a,this},matches:function(a){if(9!==a.length)throw new Ec("Should be length 9: "+a);for(var b=0;b<3;b++)for(var c=0;c<3;c++)if(!Nh.matches(this.matrix[b][c],a.charAt(3*b+c)))return!1;return!0},add:function(a){for(var b=0;b<3;b++)for(var c=0;c<3;c++)this.setAtLeast(b,c,a.get(b,c))},isDisjoint:function(){return this.matrix[Fc.INTERIOR][Fc.INTERIOR]===Nd.FALSE&&this.matrix[Fc.INTERIOR][Fc.BOUNDARY]===Nd.FALSE&&this.matrix[Fc.BOUNDARY][Fc.INTERIOR]===Nd.FALSE&&this.matrix[Fc.BOUNDARY][Fc.BOUNDARY]===Nd.FALSE},isCrosses:function(a,b){return a===Nd.P&&b===Nd.L||a===Nd.P&&b===Nd.A||a===Nd.L&&b===Nd.A?Nh.isTrue(this.matrix[Fc.INTERIOR][Fc.INTERIOR])&&Nh.isTrue(this.matrix[Fc.INTERIOR][Fc.EXTERIOR]):a===Nd.L&&b===Nd.P||a===Nd.A&&b===Nd.P||a===Nd.A&&b===Nd.L?Nh.isTrue(this.matrix[Fc.INTERIOR][Fc.INTERIOR])&&Nh.isTrue(this.matrix[Fc.EXTERIOR][Fc.INTERIOR]):a===Nd.L&&b===Nd.L&&0===this.matrix[Fc.INTERIOR][Fc.INTERIOR]},interfaces_:function(){return[Bc]},getClass:function(){return Nh}}),Nh.matches=function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var a=arguments[0],b=arguments[1];return b===Nd.SYM_DONTCARE||(b===Nd.SYM_TRUE&&(a>=0||a===Nd.TRUE)||(b===Nd.SYM_FALSE&&a===Nd.FALSE||(b===Nd.SYM_P&&a===Nd.P||(b===Nd.SYM_L&&a===Nd.L||b===Nd.SYM_A&&a===Nd.A))))}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var c=arguments[0],d=arguments[1];return new Nh(c).matches(d)}},Nh.isTrue=function(a){return a>=0||a===Nd.TRUE},Jn(Oh.prototype,{insertEdgeEnds:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();this.nodes.add(c)}},computeProperIntersectionIM:function(a,b){var c=this.arg[0].getGeometry().getDimension(),d=this.arg[1].getGeometry().getDimension(),e=a.hasProperIntersection(),f=a.hasProperInteriorIntersection();2===c&&2===d?e&&b.setAtLeast("212101212"):2===c&&1===d?(e&&b.setAtLeast("FFF0FFFF2"),f&&b.setAtLeast("1FFFFF1FF")):1===c&&2===d?(e&&b.setAtLeast("F0FFFFFF2"),f&&b.setAtLeast("1F1FFFFFF")):1===c&&1===d&&f&&b.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(a,b){for(var c=this.arg[a].getEdgeIterator();c.hasNext();){var d=c.next();d.isIsolated()&&(this.labelIsolatedEdge(d,b,this.arg[b].getGeometry()),this.isolatedEdges.add(d))}},labelIsolatedEdge:function(a,b,c){if(c.getDimension()>0){var d=this.ptLocator.locate(a.getCoordinate(),c);a.getLabel().setAllLocations(b,d)}else a.getLabel().setAllLocations(b,Fc.EXTERIOR)},computeIM:function(){var a=new Nh;if(a.set(Fc.EXTERIOR,Fc.EXTERIOR,2),!this.arg[0].getGeometry().getEnvelopeInternal().intersects(this.arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(a),a;this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1);var b=this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(b,a);var c=new Yf,d=c.computeEdgeEnds(this.arg[0].getEdgeIterator());this.insertEdgeEnds(d);var e=c.computeEdgeEnds(this.arg[1].getEdgeIterator());return this.insertEdgeEnds(e),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(a),a},labelNodeEdges:function(){for(var a=this.nodes.iterator();a.hasNext();){a.next().getEdges().computeLabelling(this.arg)}},copyNodesAndLabels:function(a){for(var b=this.arg[a].getNodeIterator();b.hasNext();){var c=b.next();this.nodes.addNode(c.getCoordinate()).setLabel(a,c.getLabel().getLocation(a))}},labelIntersectionNodes:function(a){for(var b=this.arg[a].getEdgeIterator();b.hasNext();)for(var c=b.next(),d=c.getLabel().getLocation(a),e=c.getEdgeIntersectionList().iterator();e.hasNext();){var f=e.next(),g=this.nodes.find(f.coord);g.getLabel().isNull(a)&&(d===Fc.BOUNDARY?g.setLabelBoundary(a):g.setLabel(a,Fc.INTERIOR))}},labelIsolatedNode:function(a,b){var c=this.ptLocator.locate(a.getCoordinate(),this.arg[b].getGeometry());a.getLabel().setAllLocations(b,c)},computeIntersectionNodes:function(a){for(var b=this.arg[a].getEdgeIterator();b.hasNext();)for(var c=b.next(),d=c.getLabel().getLocation(a),e=c.getEdgeIntersectionList().iterator();e.hasNext();){var f=e.next(),g=this.nodes.addNode(f.coord);d===Fc.BOUNDARY?g.setLabelBoundary(a):g.getLabel().isNull(a)&&g.setLabel(a,Fc.INTERIOR)}},labelIsolatedNodes:function(){for(var a=this.nodes.iterator();a.hasNext();){var b=a.next(),c=b.getLabel();Nc.isTrue(c.getGeometryCount()>0,"node with empty label found"),b.isIsolated()&&(c.isNull(0)?this.labelIsolatedNode(b,0):this.labelIsolatedNode(b,1))}},updateIM:function(a){for(var b=this.isolatedEdges.iterator();b.hasNext();){b.next().updateIM(a)}for(var c=this.nodes.iterator();c.hasNext();){var d=c.next();d.updateIM(a),d.updateIMFromEdges(a)}},computeDisjointIM:function(a){var b=this.arg[0].getGeometry();b.isEmpty()||(a.set(Fc.INTERIOR,Fc.EXTERIOR,b.getDimension()),a.set(Fc.BOUNDARY,Fc.EXTERIOR,b.getBoundaryDimension()));var c=this.arg[1].getGeometry();c.isEmpty()||(a.set(Fc.EXTERIOR,Fc.INTERIOR,c.getDimension()),a.set(Fc.EXTERIOR,Fc.BOUNDARY,c.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return Oh}}),Jn(Ph.prototype,{isContainedInBoundary:function(a){if(a instanceof ee)return!1;if(a instanceof ce)return this.isPointContainedInBoundary(a);if(a instanceof ae)return this.isLineStringContainedInBoundary(a);for(var b=0;b<a.getNumGeometries();b++){var c=a.getGeometryN(b);if(!this.isContainedInBoundary(c))return!1}return!0},isLineSegmentContainedInBoundary:function(a,b){if(a.equals(b))return this.isPointContainedInBoundary(a);if(a.x===b.x){if(a.x===this.rectEnv.getMinX()||a.x===this.rectEnv.getMaxX())return!0}else if(a.y===b.y&&(a.y===this.rectEnv.getMinY()||a.y===this.rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(a){for(var b=a.getCoordinateSequence(),c=new Oc,d=new Oc,e=0;e<b.size()-1;e++)if(b.getCoordinate(e,c),b.getCoordinate(e+1,d),!this.isLineSegmentContainedInBoundary(c,d))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof ce){var a=arguments[0];return this.isPointContainedInBoundary(a.getCoordinate())}if(arguments[0]instanceof Oc){var b=arguments[0];return b.x===this.rectEnv.getMinX()||b.x===this.rectEnv.getMaxX()||b.y===this.rectEnv.getMinY()||b.y===this.rectEnv.getMaxY()}},contains:function(a){return!!this.rectEnv.contains(a.getEnvelopeInternal())&&!this.isContainedInBoundary(a)},interfaces_:function(){return[]},getClass:function(){return Ph}}),Ph.contains=function(a,b){return new Ph(a).contains(b)},Jn(Qh.prototype,{intersects:function(a,b){var c=new $c(a,b);if(!this.rectEnv.intersects(c))return!1;if(this.rectEnv.intersects(a))return!0;if(this.rectEnv.intersects(b))return!0;if(a.compareTo(b)>0){var d=a;a=b,b=d}var e=!1;return b.y>a.y&&(e=!0),e?this.li.computeIntersection(a,b,this.diagDown0,this.diagDown1):this.li.computeIntersection(a,b,this.diagUp0,this.diagUp1),!!this.li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return Qh}}),Jn(Rh.prototype,{applyTo:function(a){for(var b=0;b<a.getNumGeometries()&&!this._isDone;b++){var c=a.getGeometryN(b);if(c instanceof Qd)this.applyTo(c);else if(this.visit(c),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return Rh}}),Jn(Sh.prototype,{intersects:function(a){if(!this.rectEnv.intersects(a.getEnvelopeInternal()))return!1;var b=new Th(this.rectEnv);if(b.applyTo(a),b.intersects())return!0;var c=new Uh(this.rectangle);if(c.applyTo(a),c.containsPoint())return!0;var d=new Vh(this.rectangle);return d.applyTo(a),!!d.intersects()},interfaces_:function(){return[]},getClass:function(){return Sh}}),Sh.intersects=function(a,b){return new Sh(a).intersects(b)},Kn(Th,Rh),Jn(Th.prototype,{isDone:function(){return!0===this._intersects},visit:function(a){var b=a.getEnvelopeInternal();return this.rectEnv.intersects(b)?this.rectEnv.contains(b)?(this._intersects=!0,null):b.getMinX()>=this.rectEnv.getMinX()&&b.getMaxX()<=this.rectEnv.getMaxX()?(this._intersects=!0,null):b.getMinY()>=this.rectEnv.getMinY()&&b.getMaxY()<=this.rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return Th}}),Kn(Uh,Rh),Jn(Uh.prototype,{isDone:function(){return!0===this._containsPoint},visit:function(a){if(!(a instanceof ee))return null;var b=a.getEnvelopeInternal();if(!this.rectEnv.intersects(b))return null;for(var c=new Oc,d=0;d<4;d++)if(this.rectSeq.getCoordinate(d,c),b.contains(c)&&Ye.containsPointInPolygon(c,a))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return Uh}}),Kn(Vh,Rh),Jn(Vh.prototype,{intersects:function(){return this.hasIntersection},isDone:function(){return!0===this.hasIntersection},visit:function(a){var b=a.getEnvelopeInternal();if(!this.rectEnv.intersects(b))return null;var c=Mf.getLines(a);this.checkIntersectionWithLineStrings(c)},checkIntersectionWithLineStrings:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();if(this.checkIntersectionWithSegments(c),this.hasIntersection)return null}},checkIntersectionWithSegments:function(a){for(var b=a.getCoordinateSequence(),c=1;c<b.size();c++)if(b.getCoordinate(c-1,this.p0),b.getCoordinate(c,this.p1),this.rectIntersector.intersects(this.p0,this.p1))return this.hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return Vh}}),Kn(Wh,Ug),Jn(Wh.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return Wh}}),Wh.covers=function(a,b){return!!a.getEnvelopeInternal().covers(b.getEnvelopeInternal())&&(!!a.isRectangle()||Wh.relate(a,b).isCovers())},Wh.intersects=function(a,b){return!!a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())&&(a.isRectangle()?Sh.intersects(a,b):b.isRectangle()?Sh.intersects(b,a):Wh.relate(a,b).isIntersects())},Wh.touches=function(a,b){return!!a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())&&Wh.relate(a,b).isTouches(a.getDimension(),b.getDimension())},Wh.within=function(a,b){return b.contains(a)},Wh.coveredBy=function(a,b){return Wh.covers(b,a)},Wh.relate=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new Wh(a,b),d=c.getIntersectionMatrix();return d}if(3===arguments.length){if("string"==typeof arguments[2]&&arguments[0]instanceof hd&&arguments[1]instanceof hd){var e=arguments[0],f=arguments[1],g=arguments[2];return Wh.relateWithCheck(e,f).matches(g)}if(In(arguments[2],jd)&&arguments[0]instanceof hd&&arguments[1]instanceof hd){var a=arguments[0],b=arguments[1],h=arguments[2],c=new Wh(a,b,h),d=c.getIntersectionMatrix();return d}}},Wh.overlaps=function(a,b){return!!a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())&&Wh.relate(a,b).isOverlaps(a.getDimension(),b.getDimension())},Wh.disjoint=function(a,b){return!a.intersects(b)},Wh.relateWithCheck=function(a,b){return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),Wh.relate(a,b)},Wh.crosses=function(a,b){return!!a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())&&Wh.relate(a,b).isCrosses(a.getDimension(),b.getDimension())},Wh.contains=function(a,b){return!!a.getEnvelopeInternal().contains(b.getEnvelopeInternal())&&(a.isRectangle()?Ph.contains(a,b):Wh.relate(a,b).isContains())},Jn(Xh.prototype,{getInteriorPoint:function(){return this.interiorPoint},add:function(){if(arguments[0]instanceof hd){var a=arguments[0];if(a instanceof ce)this.add(a.getCoordinate());else if(a instanceof Qd)for(var b=a,c=0;c<b.getNumGeometries();c++)this.add(b.getGeometryN(c))}else if(arguments[0]instanceof Oc){var d=arguments[0],e=d.distance(this.centroid);e<this.minDistance&&(this.interiorPoint=new Oc(d),this.minDistance=e)}},interfaces_:function(){return[]},getClass:function(){return Xh}}),Jn(Yh.prototype,{isInsideArea:function(){return this.segIndex===Yh.INSIDE_AREA},getCoordinate:function(){return this.pt},getGeometryComponent:function(){return this.component},getSegmentIndex:function(){return this.segIndex},interfaces_:function(){return[]},getClass:function(){return Yh}}),Yh.INSIDE_AREA=-1,Jn(Zh.prototype,{filter:function(a){a instanceof ce&&this.pts.add(a)},interfaces_:function(){return[Od]},getClass:function(){return Zh}}),Zh.getPoints=function(){if(1===arguments.length){var a=arguments[0];return a instanceof ce?$n.singletonList(a):Zh.getPoints(a,new ud)}if(2===arguments.length){var a=arguments[0],b=arguments[1];return a instanceof ce?b.add(a):a instanceof Qd&&a.apply(new Zh(b)),b}},Jn($h.prototype,{filter:function(a){(a instanceof ce||a instanceof ae||a instanceof ee)&&this.locations.add(new Yh(a,0,a.getCoordinate()))},interfaces_:function(){return[Od]},getClass:function(){return $h}}),$h.getLocations=function(a){var b=new ud;return a.apply(new $h(b)),b},Jn(_h.prototype,{computeContainmentDistance:function(){if(0===arguments.length){var a=new Array(2).fill(null);if(this.computeContainmentDistance(0,a),this.minDistance<=this.terminateDistance)return null;this.computeContainmentDistance(1,a)}else if(2===arguments.length){var b=arguments[0],a=arguments[1],c=1-b,d=dh.getPolygons(this.geom[b]);if(d.size()>0){var e=$h.getLocations(this.geom[c]);if(this.computeContainmentDistance(e,d,a),this.minDistance<=this.terminateDistance)return this.minDistanceLocation[c]=a[0],this.minDistanceLocation[b]=a[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&In(arguments[0],rd)&&In(arguments[1],rd)){for(var f=arguments[0],d=arguments[1],a=arguments[2],g=0;g<f.size();g++)for(var h=f.get(g),i=0;i<d.size();i++)if(this.computeContainmentDistance(h,d.get(i),a),this.minDistance<=this.terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Yh&&arguments[1]instanceof ee){var j=arguments[0],k=arguments[1],a=arguments[2],l=j.getCoordinate();if(Fc.EXTERIOR!==this.ptLocator.locate(l,k))return this.minDistance=0,a[0]=j,a[1]=new Yh(k,l),null}},computeMinDistanceLinesPoints:function(a,b,c){for(var d=0;d<a.size();d++)for(var e=a.get(d),f=0;f<b.size();f++){var g=b.get(f);if(this.computeMinDistance(e,g,c),this.minDistance<=this.terminateDistance)return null}},computeFacetDistance:function(){var a=new Array(2).fill(null),b=Mf.getLines(this.geom[0]),c=Mf.getLines(this.geom[1]),d=Zh.getPoints(this.geom[0]),e=Zh.getPoints(this.geom[1]);return this.computeMinDistanceLines(b,c,a),this.updateMinDistance(a,!1),this.minDistance<=this.terminateDistance?null:(a[0]=null,a[1]=null,this.computeMinDistanceLinesPoints(b,e,a),this.updateMinDistance(a,!1),this.minDistance<=this.terminateDistance?null:(a[0]=null,a[1]=null,this.computeMinDistanceLinesPoints(c,d,a),this.updateMinDistance(a,!0),this.minDistance<=this.terminateDistance?null:(a[0]=null,a[1]=null,this.computeMinDistancePoints(d,e,a),void this.updateMinDistance(a,!1))))},nearestLocations:function(){return this.computeMinDistance(),this.minDistanceLocation},updateMinDistance:function(a,b){if(null===a[0])return null;b?(this.minDistanceLocation[0]=a[1],this.minDistanceLocation[1]=a[0]):(this.minDistanceLocation[0]=a[0],this.minDistanceLocation[1]=a[1])},nearestPoints:function(){return this.computeMinDistance(),[this.minDistanceLocation[0].getCoordinate(),this.minDistanceLocation[1].getCoordinate()]},computeMinDistance:function(){if(0===arguments.length){if(null!==this.minDistanceLocation)return null;if(this.minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this.minDistance<=this.terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof ae&&arguments[1]instanceof ce){var a=arguments[0],b=arguments[1],c=arguments[2];if(a.getEnvelopeInternal().distance(b.getEnvelopeInternal())>this.minDistance)return null;for(var d=a.getCoordinates(),e=b.getCoordinate(),f=0;f<d.length-1;f++){var g=fd.distancePointLine(e,d[f],d[f+1]);if(g<this.minDistance){this.minDistance=g;var h=new kf(d[f],d[f+1]),i=h.closestPoint(e);c[0]=new Yh(a,f,i),c[1]=new Yh(b,0,e)}if(this.minDistance<=this.terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof ae&&arguments[1]instanceof ae){var j=arguments[0],k=arguments[1],c=arguments[2];if(j.getEnvelopeInternal().distance(k.getEnvelopeInternal())>this.minDistance)return null;for(var d=j.getCoordinates(),l=k.getCoordinates(),f=0;f<d.length-1;f++)for(var m=0;m<l.length-1;m++){var g=fd.distanceLineLine(d[f],d[f+1],l[m],l[m+1]);if(g<this.minDistance){this.minDistance=g;var n=new kf(d[f],d[f+1]),o=new kf(l[m],l[m+1]),p=n.closestPoints(o);c[0]=new Yh(j,f,p[0]),c[1]=new Yh(k,m,p[1])}if(this.minDistance<=this.terminateDistance)return null}}},computeMinDistancePoints:function(a,b,c){for(var d=0;d<a.size();d++)for(var e=a.get(d),f=0;f<b.size();f++){var g=b.get(f),h=e.getCoordinate().distance(g.getCoordinate());if(h<this.minDistance&&(this.minDistance=h,c[0]=new Yh(e,0,e.getCoordinate()),c[1]=new Yh(g,0,g.getCoordinate())),this.minDistance<=this.terminateDistance)return null}},distance:function(){if(null===this.geom[0]||null===this.geom[1])throw new Ec("null geometries are not supported");return this.geom[0].isEmpty()||this.geom[1].isEmpty()?0:(this.computeMinDistance(),this.minDistance)},computeMinDistanceLines:function(a,b,c){for(var d=0;d<a.size();d++)for(var e=a.get(d),f=0;f<b.size();f++){var g=b.get(f);if(this.computeMinDistance(e,g,c),this.minDistance<=this.terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return _h}}),_h.distance=function(a,b){return new _h(a,b).distance()},_h.isWithinDistance=function(a,b,c){return new _h(a,b,c).distance()<=c},_h.nearestPoints=function(a,b){return new _h(a,b).nearestPoints()},Jn(hd.prototype,{equalsTopo:function(a){return!!this.getEnvelopeInternal().equals(a.getEnvelopeInternal())&&Wh.relate(this,a).isEquals(this.getDimension(),a.getDimension())},union:function(){if(0===arguments.length)return fh.union(this);if(1===arguments.length){var a=arguments[0];return gh.union(this,a)}},isValid:function(){return qg.isValid(this)},intersection:function(a){if(this.isEmpty()||a.isEmpty())return Xg.createEmptyResult(Xg.INTERSECTION,this,a,this.factory);if(this.isGeometryCollection()){var b=a;return Oe.map(this,{interfaces_:function(){return[MapOp]},map:function(a){return a.intersection(b)}})}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(a),Zg.overlayOp(this,a,Xg.INTERSECTION)},covers:function(a){return Wh.covers(this,a)},coveredBy:function(a){return Wh.coveredBy(this,a)},touches:function(a){return Wh.touches(this,a)},intersects:function(a){return Wh.intersects(this,a)},within:function(a){return Wh.within(this,a)},overlaps:function(a){return Wh.overlaps(this,a)},disjoint:function(a){return Wh.disjoint(this,a)},crosses:function(a){return Wh.crosses(this,a)},buffer:function(){if(1===arguments.length){var a=arguments[0];return Ih.bufferOp(this,a)}if(2===arguments.length){var a=arguments[0],b=arguments[1];return Ih.bufferOp(this,a,b)}if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];return Ih.bufferOp(this,a,b,c)}},convexHull:function(){return new Kh(this).getConvexHull()},relate:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return Wh.relate.apply(Wh,[this].concat(b))},getCentroid:function(){if(this.isEmpty())return this.factory.createPoint();var a=Mh.getCentroid(this);return this.createPointFromInternalCoord(a,this)},getInteriorPoint:function(){if(this.isEmpty())return this.factory.createPoint();var a=null,b=this.getDimension();if(0===b){var c=new Xh(this);a=c.getInteriorPoint()}else if(1===b){var c=new hh(this);a=c.getInteriorPoint()}else{var c=new $g(this);a=c.getInteriorPoint()}return this.createPointFromInternalCoord(a,this)},symDifference:function(a){if(this.isEmpty()||a.isEmpty()){if(this.isEmpty()&&a.isEmpty())return Xg.createEmptyResult(Xg.SYMDIFFERENCE,this,a,this.factory);if(this.isEmpty())return a.copy();if(a.isEmpty())return this.copy()}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(a),Zg.overlayOp(this,a,Xg.SYMDIFFERENCE)},createPointFromInternalCoord:function(a,b){return b.getPrecisionModel().makePrecise(a),b.getFactory().createPoint(a)},toText:function(){return(new ad).write(this)},toString:function(){this.toText()},contains:function(a){return Wh.contains(this,a)},difference:function(a){return this.isEmpty()?Xg.createEmptyResult(Xg.DIFFERENCE,this,a,this.factory):a.isEmpty()?this.copy():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(a),Zg.overlayOp(this,a,Xg.DIFFERENCE))},isSimple:function(){return new ih(this).isSimple()},isWithinDistance:function(a,b){return!(this.getEnvelopeInternal().distance(a.getEnvelopeInternal())>b)&&_h.isWithinDistance(this,a,b)},distance:function(a){return _h.distance(this,a)},isEquivalentClass:function(a){return this.getClass()===a.getClass()}});var _n=function(a,b,c){function d(a,c,d,e){var i=f[a][c],j=f[a][c+1],k=f[d][e],l=f[d][e+1],m=bi(i,j,k,l);if(null!==m){var n,o;if(n=j[0]!==i[0]?(m[0]-i[0])/(j[0]-i[0]):(m[1]-i[1])/(j[1]-i[1]),o=l[0]!==k[0]?(m[0]-k[0])/(l[0]-k[0]):(m[1]-k[1])/(l[1]-k[1]),!(n>=1||n<=0||o>=1||o<=0)){var p=m,q=!h[p];q&&(h[p]=!0),b?g.push(b(m,a,c,i,j,n,d,e,k,l,o,q)):g.push(m)}}}function e(a,b){var c,d,e,g,h=f[a][b],i=f[a][b+1];return h[0]<i[0]?(c=h[0],d=i[0]):(c=i[0],d=h[0]),h[1]<i[1]?(e=h[1],g=i[1]):(e=i[1],g=h[1]),{minX:c,minY:e,maxX:d,maxY:g,ring:a,edge:b}}if("Polygon"!==a.geometry.type)throw new Error("The input feature must be a Polygon");void 0===c&&(c=1);var f=a.geometry.coordinates,g=[],h={};if(c){for(var i=[],j=0;j<f.length;j++)for(var k=0;k<f[j].length-1;k++)i.push(e(j,k));var l=Cn();l.load(i)}for(var m=0;m<f.length;m++)for(var n=0;n<f[m].length-1;n++)if(c){var o=l.search(e(m,n));o.forEach(function(a){var b=a.ring,c=a.edge;d(m,n,b,c)})}else for(var p=0;p<f.length;p++)for(var q=0;q<f[p].length-1;q++)d(m,n,p,q);return b||(g={type:"Feature",geometry:{type:"MultiPoint",coordinates:g}}),g},ao=6378137,bo=function(a){function b(){for(var a=[],b=0;b<m.features.length;b++)-1==m.features[b].properties.parent&&a.push(b);if(a.length>1)for(var b=0;b<a.length;b++){for(var c=-1,d=1/0,e=0;e<m.features.length;e++)a[b]!=e&&qb(cb(m.features[a[b]].geometry.coordinates[0][0]),m.features[e],{ignoreBoundary:!0})&&di(m.features[e])<d&&(c=e);m.features[a[b]].properties.parent=c}}function c(){for(var a=0;a<m.features.length;a++)if(-1==m.features[a].properties.parent){var b=m.features[a].properties.winding;m.features[a].properties.netWinding=b,d(a,b)}}function d(a,b){for(var c=0;c<m.features.length;c++)if(m.features[c].properties.parent==a){var e=b+m.features[c].properties.winding;m.features[c].properties.netWinding=e,d(c,e)}}if("Feature"!=a.type)throw new Error("The input must a geojson object of type Feature");if(void 0===a.geometry||null==a.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=a.geometry.type)throw new Error("The input must be a geojson Polygon");for(var e=a.geometry.coordinates.length,f=[],g=0;g<e;g++){var h=a.geometry.coordinates[g];ki(h[0],h[h.length-1])||h.push(h[0]),f.push.apply(f,h.slice(0,h.length-1))}if(!li(f))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var i=f.length,j=_n(a,function(a,b,c,d,e,f,g,h,i,j,k,l){return[a,b,c,d,e,f,g,h,i,j,k,l]}),k=j.length;if(0==k){for(var l=[],g=0;g<e;g++)l.push(db([a.geometry.coordinates[g]],{parent:-1,winding:ji(a.geometry.coordinates[g])}));var m=fb(l);return b(),c(),m}for(var n=[],o=[],g=0;g<e;g++){n.push([]);for(var p=0;p<a.geometry.coordinates[g].length-1;p++)n[g].push([new co(a.geometry.coordinates[g][(p+1).modulo(a.geometry.coordinates[g].length-1)],1,[g,p],[g,(p+1).modulo(a.geometry.coordinates[g].length-1)],void 0)]),o.push(new eo(a.geometry.coordinates[g][p],[g,(p-1).modulo(a.geometry.coordinates[g].length-1)],[g,p],void 0,void 0,!1,!0))}for(var g=0;g<k;g++)n[j[g][1]][j[g][2]].push(new co(j[g][0],j[g][5],[j[g][1],j[g][2]],[j[g][6],j[g][7]],void 0)),j[g][11]&&o.push(new eo(j[g][0],[j[g][1],j[g][2]],[j[g][6],j[g][7]],void 0,void 0,!0,!0));for(var q=o.length,g=0;g<n.length;g++)for(var p=0;p<n[g].length;p++)n[g][p].sort(function(a,b){return a.param<b.param?-1:1});for(var r=[],g=0;g<q;g++)r.push({minX:o[g].coord[0],minY:o[g].coord[1],maxX:o[g].coord[0],maxY:o[g].coord[1],index:g});var s=Cn();s.load(r);for(var g=0;g<n.length;g++)for(var p=0;p<n[g].length;p++)for(var t=0;t<n[g][p].length;t++){var u;u=t==n[g][p].length-1?n[g][(p+1).modulo(a.geometry.coordinates[g].length-1)][0].coord:n[g][p][t+1].coord;var v=s.search({minX:u[0],minY:u[1],maxX:u[0],maxY:u[1]})[0];n[g][p][t].nxtIsectAlongEdgeIn=v.index}for(var g=0;g<n.length;g++)for(var p=0;p<n[g].length;p++)for(var t=0;t<n[g][p].length;t++){var u=n[g][p][t].coord,v=s.search({minX:u[0],minY:u[1],maxX:u[0],maxY:u[1]})[0],w=v.index;w<i?o[w].nxtIsectAlongRingAndEdge2=n[g][p][t].nxtIsectAlongEdgeIn:ki(o[w].ringAndEdge1,n[g][p][t].ringAndEdgeIn)?o[w].nxtIsectAlongRingAndEdge1=n[g][p][t].nxtIsectAlongEdgeIn:o[w].nxtIsectAlongRingAndEdge2=n[g][p][t].nxtIsectAlongEdgeIn}for(var x=[],g=0,p=0;p<e;p++){for(var y=g,t=0;t<a.geometry.coordinates[p].length-1;t++)o[g].coord[0]<o[y].coord[0]&&(y=g),g++;for(var z=o[y].nxtIsectAlongRingAndEdge2,t=0;t<o.length;t++)if(o[t].nxtIsectAlongRingAndEdge1==y||o[t].nxtIsectAlongRingAndEdge2==y){var A=t;break}var B=ii([o[A].coord,o[y].coord,o[z].coord],!0)?1:-1;x.push({isect:y,parent:-1,winding:B})}x.sort(function(a,b){return o[a.isect].coord>o[b.isect].coord?-1:1});for(var l=[];x.length>0;){var C=x.pop(),D=C.isect,E=C.parent,F=C.winding,G=l.length,H=[o[D].coord],I=D;if(o[D].ringAndEdge1Walkable)var J=o[D].ringAndEdge1,K=o[D].nxtIsectAlongRingAndEdge1;else var J=o[D].ringAndEdge2,K=o[D].nxtIsectAlongRingAndEdge2;for(;!ki(o[D].coord,o[K].coord);){H.push(o[K].coord);for(var L=void 0,g=0;g<x.length;g++)if(x[g].isect==K){L=g;break}if(void 0!=L&&x.splice(L,1),ki(J,o[K].ringAndEdge1)){if(J=o[K].ringAndEdge2,o[K].ringAndEdge2Walkable=!1,o[K].ringAndEdge1Walkable){var M={isect:K};ii([o[I].coord,o[K].coord,o[o[K].nxtIsectAlongRingAndEdge2].coord],1==F)?(M.parent=E,M.winding=-F):(M.parent=G,M.winding=F),x.push(M)}I=K,K=o[K].nxtIsectAlongRingAndEdge2}else{if(J=o[K].ringAndEdge1,o[K].ringAndEdge1Walkable=!1,o[K].ringAndEdge2Walkable){var M={isect:K};ii([o[I].coord,o[K].coord,o[o[K].nxtIsectAlongRingAndEdge1].coord],1==F)?(M.parent=E,M.winding=-F):(M.parent=G,M.winding=F),x.push(M)}I=K,K=o[K].nxtIsectAlongRingAndEdge1}}H.push(o[K].coord),l.push(db([H],{index:G,parent:E,winding:F,netWinding:void 0}))}var m=fb(l);return b(),c(),m},co=function(a,b,c,d,e){this.coord=a,this.param=b,this.ringAndEdgeIn=c,this.ringAndEdgeOut=d,this.nxtIsectAlongEdgeIn=e},eo=function(a,b,c,d,e,f,g){this.coord=a,this.ringAndEdge1=b,this.ringAndEdge2=c,this.nxtIsectAlongRingAndEdge1=d,this.nxtIsectAlongRingAndEdge2=e,this.ringAndEdge1Walkable=f,this.ringAndEdge2Walkable=g};Number.prototype.modulo=function(a){return(this%a+a)%a};var fo=("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,si(function(a,b){!function(a,c){c(b)}(0,function(a){function b(a,b,d,e){c(a,b,d),c(a,b,b+e),c(a,b+e,d)}function c(a,b,c){for(var d,e=b+(c---b>>1);b<e;++b,--c)d=a[b],a[b]=a[c],a[c]=d}function d(a){return null==a?{type:null}:("FeatureCollection"===a.type?e:"Feature"===a.type?f:g)(a)}function e(a){var b={type:"GeometryCollection",geometries:a.features.map(f)};return null!=a.bbox&&(b.bbox=a.bbox),b}function f(a){var b,c=g(a.geometry);null!=a.id&&(c.id=a.id),null!=a.bbox&&(c.bbox=a.bbox);for(b in a.properties){c.properties=a.properties;break}return c}function g(a){if(null==a)return{type:null};var b="GeometryCollection"===a.type?{type:"GeometryCollection",geometries:a.geometries.map(g)}:"Point"===a.type||"MultiPoint"===a.type?{type:a.type,coordinates:a.coordinates}:{type:a.type,arcs:a.coordinates};return null!=a.bbox&&(b.bbox=a.bbox),b}function h(a){var b,c=a[0],d=a[1];return d<c&&(b=c,c=d,d=b),c+31*d}function i(a,b){var c,d=a[0],e=a[1],f=b[0],g=b[1];return e<d&&(c=d,d=e,e=c),g<f&&(c=f,f=g,g=c),d===f&&e===g}var j=function(a){function b(a){null!=a&&j.hasOwnProperty(a.type)&&j[a.type](a)}function c(a){var b=a[0],c=a[1];b<f&&(f=b),b>h&&(h=b),c<g&&(g=c),c>i&&(i=c)}function d(a){a.forEach(c)}function e(a){a.forEach(d)}var f=1/0,g=1/0,h=-1/0,i=-1/0,j={GeometryCollection:function(a){a.geometries.forEach(b)},Point:function(a){c(a.coordinates)},MultiPoint:function(a){a.coordinates.forEach(c)},LineString:function(a){d(a.arcs)},MultiLineString:function(a){a.arcs.forEach(d)},Polygon:function(a){a.arcs.forEach(d)},MultiPolygon:function(a){a.arcs.forEach(e)}};for(var k in a)b(a[k]);return h>=f&&i>=g?[f,g,h,i]:void 0},k=function(a,b,c,d,e){function f(d){for(var f=b(d)&j,g=i[f],h=0;g!=e;){if(c(g,d))return!0;if(++h>=a)throw new Error("full hashset");g=i[f=f+1&j]}return i[f]=d,!0}function g(d){for(var f=b(d)&j,g=i[f],h=0;g!=e;){if(c(g,d))return!0;if(++h>=a)break;g=i[f=f+1&j]}return!1}function h(){for(var a=[],b=0,c=i.length;b<c;++b){var d=i[b];d!=e&&a.push(d)}return a}3===arguments.length&&(d=Array,e=null);for(var i=new d(a=1<<Math.max(4,Math.ceil(Math.log(a)/Math.LN2))),j=a-1,k=0;k<a;++k)i[k]=e;return{add:f,has:g,values:h}},l=function(a,b,c,d,e,f){function g(d,f){for(var g=b(d)&m,h=k[g],i=0;h!=e;){if(c(h,d))return l[g]=f;if(++i>=a)throw new Error("full hashmap");h=k[g=g+1&m]}return k[g]=d,l[g]=f,f}function h(d,f){for(var g=b(d)&m,h=k[g],i=0;h!=e;){if(c(h,d))return l[g];if(++i>=a)throw new Error("full hashmap");h=k[g=g+1&m]}return k[g]=d,l[g]=f,f}function i(d,f){for(var g=b(d)&m,h=k[g],i=0;h!=e;){if(c(h,d))return l[g];if(++i>=a)break;h=k[g=g+1&m]}return f}function j(){for(var a=[],b=0,c=k.length;b<c;++b){var d=k[b];d!=e&&a.push(d)}return a}3===arguments.length&&(d=f=Array,e=null);for(var k=new d(a=1<<Math.max(4,Math.ceil(Math.log(a)/Math.LN2))),l=new f(a),m=a-1,n=0;n<a;++n)k[n]=e;return{set:g,maybeSet:h,get:i,keys:j}},m=function(a,b){return a[0]===b[0]&&a[1]===b[1]},n=new ArrayBuffer(16),o=new Float64Array(n),p=new Uint32Array(n),q=function(a){o[0]=a[0],o[1]=a[1];var b=p[0]^p[1];return 2147483647&(b=b<<5^b>>7^p[2]^p[3])},r=function(a){function b(a,b,c,d){if(s[c]!==a){s[c]=a;var e=t[c];if(e>=0){var f=u[c];e===b&&f===d||e===d&&f===b||(++w,v[c]=1)}else t[c]=b,u[c]=d}}function c(){for(var a=l(1.4*n.length,d,e,Int32Array,-1,Int32Array),b=new Int32Array(n.length),c=0,f=n.length;c<f;++c)b[c]=a.maybeSet(c,c);return b}function d(a){return q(n[a])}function e(a,b){return m(n[a],n[b])}var f,g,h,i,j,n=a.coordinates,o=a.lines,p=a.rings,r=c(),s=new Int32Array(n.length),t=new Int32Array(n.length),u=new Int32Array(n.length),v=new Int8Array(n.length),w=0;for(f=0,g=n.length;f<g;++f)s[f]=t[f]=u[f]=-1;for(f=0,g=o.length;f<g;++f){var x=o[f],y=x[0],z=x[1];for(i=r[y],j=r[++y],++w,v[i]=1;++y<=z;)b(f,h=i,i=j,j=r[y]);++w,v[j]=1}for(f=0,g=n.length;f<g;++f)s[f]=-1;for(f=0,g=p.length;f<g;++f){var A=p[f],B=A[0]+1,C=A[1];for(h=r[C-1],i=r[B-1],j=r[B],b(f,h,i,j);++B<=C;)b(f,h=i,i=j,j=r[B])}s=t=u=null;var D,E=k(1.4*w,q,m);for(f=0,g=n.length;f<g;++f)v[D=r[f]]&&E.add(n[D]);return E},s=function(a){var c,d,e,f=r(a),g=a.coordinates,h=a.lines,i=a.rings;for(d=0,e=h.length;d<e;++d)for(var j=h[d],k=j[0],l=j[1];++k<l;)f.has(g[k])&&(c={0:k,1:j[1]},j[1]=k,j=j.next=c);for(d=0,e=i.length;d<e;++d)for(var m=i[d],n=m[0],o=n,p=m[1],q=f.has(g[n]);++o<p;)f.has(g[o])&&(q?(c={0:o,1:m[1]},m[1]=o,m=m.next=c):(b(g,n,p,p-o),g[p]=g[n],q=!0,o=n));return a},t=function(a){function b(a){var b,c,f,g,h,i,j,k;if(f=t.get(b=o[a[0]]))for(j=0,k=f.length;j<k;++j)if(g=f[j],d(g,a))return a[0]=g[0],void(a[1]=g[1]);if(h=t.get(c=o[a[1]]))for(j=0,k=h.length;j<k;++j)if(i=h[j],e(i,a))return a[1]=i[0],void(a[0]=i[1]);f?f.push(a):t.set(b,[a]),h?h.push(a):t.set(c,[a]),u.push(a)}function c(a){var b,c,d,e,i;if(c=t.get(b=o[a[0]]))for(e=0,i=c.length;e<i;++e){if(d=c[e],f(d,a))return a[0]=d[0],void(a[1]=d[1]);if(g(d,a))return a[0]=d[1],void(a[1]=d[0])}if(c=t.get(b=o[a[0]+h(a)]))for(e=0,i=c.length;e<i;++e){if(d=c[e],f(d,a))return a[0]=d[0],void(a[1]=d[1]);if(g(d,a))return a[0]=d[1],void(a[1]=d[0])}c?c.push(a):t.set(b,[a]),u.push(a)}function d(a,b){var c=a[0],d=b[0],e=a[1];if(c-e!=d-b[1])return!1;for(;c<=e;++c,++d)if(!m(o[c],o[d]))return!1;return!0}function e(a,b){var c=a[0],d=b[0],e=a[1],f=b[1];if(c-e!=d-f)return!1;for(;c<=e;++c,--f)if(!m(o[c],o[f]))return!1;return!0}function f(a,b){var c=a[0],d=b[0],e=a[1],f=b[1],g=e-c;if(g!==f-d)return!1;for(var i=h(a),j=h(b),k=0;k<g;++k)if(!m(o[c+(k+i)%g],o[d+(k+j)%g]))return!1;return!0}function g(a,b){var c=a[0],d=b[0],e=a[1],f=b[1],g=e-c;if(g!==f-d)return!1;for(var i=h(a),j=g-h(b),k=0;k<g;++k)if(!m(o[c+(k+i)%g],o[f-(k+j)%g]))return!1;return!0}function h(a){for(var b=a[0],c=a[1],d=b,e=d,f=o[d];++d<c;){var g=o[d];(g[0]<f[0]||g[0]===f[0]&&g[1]<f[1])&&(e=d,f=g)}return e-b}var i,j,k,n,o=a.coordinates,p=a.lines,r=a.rings,s=p.length+r.length;for(delete a.lines,delete a.rings,k=0,n=p.length;k<n;++k)for(i=p[k];i=i.next;)++s;for(k=0,n=r.length;k<n;++k)for(j=r[k];j=j.next;)++s;var t=l(2*s*1.4,q,m),u=a.arcs=[];for(k=0,n=p.length;k<n;++k){i=p[k];do{b(i)}while(i=i.next)}for(k=0,n=r.length;k<n;++k)if(j=r[k],j.next)do{b(j)}while(j=j.next);else c(j);return a},u=function(a){for(var b=-1,c=a.length;++b<c;){for(var d,e,f=a[b],g=0,h=1,i=f.length,j=f[0],k=j[0],l=j[1];++g<i;)j=f[g],d=j[0],e=j[1],d===k&&e===l||(f[h++]=[d-k,e-l],k=d,l=e);1===h&&(f[h++]=[0,0]),f.length=h}return a},v=function(a){function b(a){a&&j.hasOwnProperty(a.type)&&j[a.type](a)}function c(a){for(var b=0,c=a.length;b<c;++b)i[++f]=a[b];var d={0:f-c+1,1:f};return g.push(d),d}function d(a){for(var b=0,c=a.length;b<c;++b)i[++f]=a[b];var d={0:f-c+1,1:f};return h.push(d),d}function e(a){return a.map(d)}var f=-1,g=[],h=[],i=[],j={GeometryCollection:function(a){a.geometries.forEach(b)},LineString:function(a){a.arcs=c(a.arcs)},MultiLineString:function(a){a.arcs=a.arcs.map(c)},Polygon:function(a){a.arcs=a.arcs.map(d)},MultiPolygon:function(a){a.arcs=a.arcs.map(e)}};for(var k in a)b(a[k]);return{type:"Topology",coordinates:i,lines:g,rings:h,objects:a}},w=function(a){var b,c={};for(b in a)c[b]=d(a[b]);return c},x=function(a,b,c){function d(a){return[Math.round((a[0]-j)*n),Math.round((a[1]-k)*o)]}function e(a,b){for(var c,d,e,f,g,h=-1,i=0,l=a.length,m=new Array(l);++h<l;)c=a[h],f=Math.round((c[0]-j)*n),g=Math.round((c[1]-k)*o),f===d&&g===e||(m[i++]=[d=f,e=g]);for(m.length=i;i<b;)i=m.push([m[0][0],m[0][1]]);return m}function f(a){return e(a,2)}function g(a){return e(a,4)}function h(a){return a.map(g)}function i(a){null!=a&&p.hasOwnProperty(a.type)&&p[a.type](a)}var j=b[0],k=b[1],l=b[2],m=b[3],n=l-j?(c-1)/(l-j):1,o=m-k?(c-1)/(m-k):1,p={GeometryCollection:function(a){a.geometries.forEach(i)},Point:function(a){a.coordinates=d(a.coordinates)},MultiPoint:function(a){a.coordinates=a.coordinates.map(d)},LineString:function(a){a.arcs=f(a.arcs)},MultiLineString:function(a){a.arcs=a.arcs.map(f)},Polygon:function(a){a.arcs=h(a.arcs)},MultiPolygon:function(a){a.arcs=a.arcs.map(h)}};for(var q in a)i(a[q]);return{scale:[1/n,1/o],translate:[j,k]}},y=function(a,b){function c(a){a&&o.hasOwnProperty(a.type)&&o[a.type](a)}function d(a){var b=[];do{var c=n.get(a);b.push(a[0]<a[1]?c:~c)}while(a=a.next);return b}function e(a){return a.map(d)}var f=j(a=w(a)),g=b>0&&f&&x(a,f,b),k=t(s(v(a))),m=k.coordinates,n=l(1.4*k.arcs.length,h,i);a=k.objects,k.bbox=f,k.arcs=k.arcs.map(function(a,b){return n.set(a,b),m.slice(a[0],a[1]+1)}),delete k.coordinates,m=null;var o={GeometryCollection:function(a){a.geometries.forEach(c)},LineString:function(a){a.arcs=d(a.arcs)},MultiLineString:function(a){a.arcs=a.arcs.map(d)},Polygon:function(a){a.arcs=a.arcs.map(d)},MultiPolygon:function(a){a.arcs=a.arcs.map(e)}};for(var p in a)c(a[p]);return g&&(k.transform=g,k.arcs=u(k.arcs)),k};a.topology=y,Object.defineProperty(a,"__esModule",{value:!0})})})),go=si(function(a,b){!function(a,c){c(b)}(0,function(a){function b(a,b){var d=b.id,e=b.bbox,f=null==b.properties?{}:b.properties,g=c(a,b);return null==d&&null==e?{type:"Feature",properties:f,geometry:g}:null==e?{type:"Feature",id:d,properties:f,geometry:g}:{type:"Feature",id:d,bbox:e,properties:f,geometry:g}}function c(a,b){function c(a,b){b.length&&b.pop();for(var c=l[a<0?~a:a],d=0,e=c.length;d<e;++d)b.push(j(c[d],d));a<0&&k(b,e)}function d(a){return j(a)}function e(a){for(var b=[],d=0,e=a.length;d<e;++d)c(a[d],b);return b.length<2&&b.push(b[0]),b}function f(a){for(var b=e(a);b.length<4;)b.push(b[0]);return b}function g(a){return a.map(f)}function h(a){var b,c=a.type;switch(c){case"GeometryCollection":return{type:c,geometries:a.geometries.map(h)};case"Point":b=d(a.coordinates);break;case"MultiPoint":b=a.coordinates.map(d);break;case"LineString":b=e(a.arcs);break;case"MultiLineString":b=a.arcs.map(e);break;case"Polygon":b=g(a.arcs);break;case"MultiPolygon":b=a.arcs.map(g);break;default:return null}return{type:c,coordinates:b}}var j=i(a.transform),l=a.arcs;return h(b)}function d(a,b,c){var d,f,g;if(arguments.length>1)d=e(a,b,c);else for(f=0,d=new Array(g=a.arcs.length);f<g;++f)d[f]=f;return{type:"MultiLineString",arcs:m(a,d)}}function e(a,b,c){function d(a){var b=a<0?~a:a;(k[b]||(k[b]=[])).push({i:a,g:i})}function e(a){a.forEach(d)}function f(a){a.forEach(e)}function g(a){a.forEach(f)}function h(a){switch(i=a,a.type){case"GeometryCollection":a.geometries.forEach(h);break;case"LineString":e(a.arcs);break;case"MultiLineString":case"Polygon":f(a.arcs);break;case"MultiPolygon":g(a.arcs)}}var i,j=[],k=[];return h(b),k.forEach(null==c?function(a){j.push(a[0].i)}:function(a){c(a[0].g,a[a.length-1].g)&&j.push(a[0].i)}),j}function f(a){for(var b,c=-1,d=a.length,e=a[d-1],f=0;++c<d;)b=e,e=a[c],f+=b[0]*e[1]-b[1]*e[0];return Math.abs(f)}function g(a,b){function d(a){switch(a.type){case"GeometryCollection":a.geometries.forEach(d);break;case"Polygon":e(a.arcs);break;case"MultiPolygon":a.arcs.forEach(e)}}function e(a){a.forEach(function(b){b.forEach(function(b){(h[b=b<0?~b:b]||(h[b]=[])).push(a)})}),i.push(a)}function g(b){return f(c(a,{type:"Polygon",arcs:[b]}).coordinates[0])}var h={},i=[],j=[];return b.forEach(d),i.forEach(function(a){if(!a._){var b=[],c=[a];for(a._=1,j.push(b);a=c.pop();)b.push(a),a.forEach(function(a){a.forEach(function(a){h[a<0?~a:a].forEach(function(a){a._||(a._=1,c.push(a))})})})}}),i.forEach(function(a){delete a._}),{type:"MultiPolygon",arcs:j.map(function(b){var c,d=[];if(b.forEach(function(a){a.forEach(function(a){a.forEach(function(a){h[a<0?~a:a].length<2&&d.push(a)})})}),d=m(a,d),(c=d.length)>1)for(var e,f,i=1,j=g(d[0]);i<c;++i)(e=g(d[i]))>j&&(f=d[0],d[0]=d[i],d[i]=f,j=e);return d})}}var h=function(a){return a},i=function(a){if(null==a)return h;var b,c,d=a.scale[0],e=a.scale[1],f=a.translate[0],g=a.translate[1];return function(a,h){h||(b=c=0);var i=2,j=a.length,k=new Array(j);for(k[0]=(b+=a[0])*d+f,k[1]=(c+=a[1])*e+g;i<j;)k[i]=a[i],++i;return k}},j=function(a){function b(a){a=e(a),a[0]<f&&(f=a[0]),a[0]>h&&(h=a[0]),a[1]<g&&(g=a[1]),a[1]>j&&(j=a[1])}function c(a){switch(a.type){case"GeometryCollection":a.geometries.forEach(c);break;case"Point":b(a.coordinates);break;case"MultiPoint":a.coordinates.forEach(b)}}var d,e=i(a.transform),f=1/0,g=f,h=-f,j=-f;a.arcs.forEach(function(a){for(var b,c=-1,d=a.length;++c<d;)b=e(a[c],c),b[0]<f&&(f=b[0]),b[0]>h&&(h=b[0]),b[1]<g&&(g=b[1]),b[1]>j&&(j=b[1])});for(d in a.objects)c(a.objects[d]);return[f,g,h,j]},k=function(a,b){for(var c,d=a.length,e=d-b;e<--d;)c=a[e],a[e++]=a[d],a[d]=c},l=function(a,c){return"GeometryCollection"===c.type?{type:"FeatureCollection",features:c.geometries.map(function(c){return b(a,c)})}:b(a,c)},m=function(a,b){function c(b){var c,d=a.arcs[b<0?~b:b],e=d[0];return a.transform?(c=[0,0],d.forEach(function(a){c[0]+=a[0],c[1]+=a[1]})):c=d[d.length-1],b<0?[c,e]:[e,c]}function d(a,b){for(var c in a){var d=a[c];delete b[d.start],delete d.start,delete d.end,d.forEach(function(a){e[a<0?~a:a]=1}),h.push(d)}}var e={},f={},g={},h=[],i=-1;return b.forEach(function(c,d){var e,f=a.arcs[c<0?~c:c];f.length<3&&!f[1][0]&&!f[1][1]&&(e=b[++i],b[i]=c,b[d]=e)}),b.forEach(function(a){var b,d,e=c(a),h=e[0],i=e[1];if(b=g[h])if(delete g[b.end],b.push(a),b.end=i,d=f[i]){delete f[d.start];var j=d===b?b:b.concat(d);f[j.start=b.start]=g[j.end=d.end]=j}else f[b.start]=g[b.end]=b;else if(b=f[i])if(delete f[b.start],b.unshift(a),b.start=h,d=g[h]){delete g[d.end];var k=d===b?b:d.concat(b);f[k.start=d.start]=g[k.end=b.end]=k}else f[b.start]=g[b.end]=b;else b=[a],f[b.start=h]=g[b.end=i]=b}),d(g,f),d(f,g),b.forEach(function(a){e[a<0?~a:a]||h.push([a])}),h},n=function(a){return c(a,d.apply(this,arguments))},o=function(a){return c(a,g.apply(this,arguments))},p=function(a,b){for(var c=0,d=a.length;c<d;){var e=c+d>>>1;a[e]<b?c=e+1:d=e}return c},q=function(a){function b(a,b){a.forEach(function(a){a<0&&(a=~a);var c=e[a];c?c.push(b):e[a]=[b]})}function c(a,c){a.forEach(function(a){b(a,c)})}function d(a,b){"GeometryCollection"===a.type?a.geometries.forEach(function(a){d(a,b)}):a.type in g&&g[a.type](a.arcs,b)}var e={},f=a.map(function(){return[]}),g={LineString:b,MultiLineString:c,Polygon:c,MultiPolygon:function(a,b){a.forEach(function(a){c(a,b)})}};a.forEach(d);for(var h in e)for(var i=e[h],j=i.length,k=0;k<j;++k)for(var l=k+1;l<j;++l){var m,n=i[k],o=i[l];(m=f[n])[h=p(m,o)]!==o&&m.splice(h,0,o),(m=f[o])[h=p(m,n)]!==n&&m.splice(h,0,n)}return f},r=function(a){if(null==a)return h;var b,c,d=a.scale[0],e=a.scale[1],f=a.translate[0],g=a.translate[1];return function(a,h){h||(b=c=0);var i=2,j=a.length,k=new Array(j),l=Math.round((a[0]-f)/d),m=Math.round((a[1]-g)/e);for(k[0]=l-b,b=l,k[1]=m-c,c=m;i<j;)k[i]=a[i],++i;return k}},s=function(a,b){function c(a){return n(a)}function d(a){var b;switch(a.type){case"GeometryCollection":b={type:"GeometryCollection",geometries:a.geometries.map(d)};break;case"Point":b={type:"Point",coordinates:c(a.coordinates)};break;case"MultiPoint":b={type:"MultiPoint",coordinates:a.coordinates.map(c)};break;default:return a}return null!=a.id&&(b.id=a.id),null!=a.bbox&&(b.bbox=a.bbox),null!=a.properties&&(b.properties=a.properties),b}function e(a){var b,c=0,d=1,e=a.length,f=new Array(e);for(f[0]=n(a[0],0);++c<e;)((b=n(a[c],c))[0]||b[1])&&(f[d++]=b);return 1===d&&(f[d++]=[0,0]),f.length=d,f}if(a.transform)throw new Error("already quantized");if(b&&b.scale)l=a.bbox;else{if(!((f=Math.floor(b))>=2))throw new Error("n must be ≥2");l=a.bbox||j(a);var f,g=l[0],h=l[1],i=l[2],k=l[3];b={scale:[i-g?(i-g)/(f-1):1,k-h?(k-h)/(f-1):1],translate:[g,h]}}var l,m,n=r(b),o=a.objects,p={};for(m in o)p[m]=d(o[m]);return{type:"Topology",bbox:l,transform:b,objects:p,arcs:a.arcs.map(e)}};a.bbox=j,a.feature=l,a.mesh=n,a.meshArcs=d,a.merge=o,a.mergeArcs=g,a.neighbors=q,a.quantize=s,a.transform=i,a.untransform=r,Object.defineProperty(a,"__esModule",{value:!0})})}),ho=vi,io=wi,jo=xi,ko=yi,lo=zi,mo=Ai,no=Bi,oo=Ci,po=Di,qo=Ei,ro={coordEach:io,coordReduce:jo,propEach:ko,propReduce:lo,featureEach:mo,featureReduce:no,coordAll:oo,geomEach:po,geomReduce:qo},so=Fi,to=fo.topology,uo=go.merge,vo=ro.geomEach,wo=Ji,xo=function(){return new Ni};Ni.prototype={constructor:Ni,reset:function(){this.s=this.t=0},add:function(a){Oi(yo,a,this.t),Oi(this,yo.s,this.s),this.s?this.t+=yo.t:this.s=yo.t},valueOf:function(){return this.s}};var yo=new Ni,zo=1e-6,Ao=Math.PI,Bo=Ao/2,Co=Ao/4,Do=2*Ao,Eo=180/Ao,Fo=Ao/180,Go=Math.abs,Ho=Math.atan,Io=Math.atan2,Jo=Math.cos,Ko=Math.exp,Lo=Math.log,Mo=Math.sin,No=Math.sqrt,Oo=Math.tan,Po={Feature:function(a,b){Si(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)Si(c[d].geometry,b)}},Qo={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){Ti(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Ti(c[d],b,0)},Polygon:function(a,b){Ui(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Ui(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)Si(c[d],b)}},Ro=function(a,b){a&&Po.hasOwnProperty(a.type)?Po[a.type](a,b):Si(a,b)},So=(xo(),xo(),xo(),function(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return(c=b.invert(c,d))&&a.invert(c[0],c[1])}),c});aj.invert=aj;var To=function(a){function b(b){return b=a(b[0]*Fo,b[1]*Fo),b[0]*=Eo,b[1]*=Eo,b}return a=bj(a[0]*Fo,a[1]*Fo,a.length>2?a[2]*Fo:0),b.invert=function(b){return b=a.invert(b[0]*Fo,b[1]*Fo),b[0]*=Eo,b[1]*=Eo,b},b},Uo=function(){var a,b=[];return{point:function(b,c){a.push([b,c])},lineStart:function(){b.push(a=[])},lineEnd:Ri,rejoin:function(){b.length>1&&b.push(b.pop().concat(b.shift()))},result:function(){var c=b;return b=[],a=null,c}}},Vo=function(a,b){return Go(a[0]-b[0])<zo&&Go(a[1]-b[1])<zo},Wo=function(a,b,c,d,e){var f,g,h=[],i=[];if(a.forEach(function(a){if(!((b=a.length-1)<=0)){var b,c,d=a[0],g=a[b];if(Vo(d,g)){for(e.lineStart(),f=0;f<b;++f)e.point((d=a[f])[0],d[1]);return void e.lineEnd()}h.push(c=new hj(d,a,null,!0)),i.push(c.o=new hj(d,null,c,!1)),h.push(c=new hj(g,a,null,!1)),i.push(c.o=new hj(g,null,c,!0))}}),h.length){for(i.sort(b),ij(h),ij(i),f=0,g=i.length;f<g;++f)i[f].e=c=!c;for(var j,k,l=h[0];;){for(var m=l,n=!0;m.v;)if((m=m.n)===l)return;j=m.z,e.lineStart();do{if(m.v=m.o.v=!0,m.e){if(n)for(f=0,g=j.length;f<g;++f)e.point((k=j[f])[0],k[1]);else d(m.x,m.n.x,1,e);m=m.n}else{if(n)for(j=m.p.z,f=j.length-1;f>=0;--f)e.point((k=j[f])[0],k[1]);else d(m.x,m.p.x,-1,e);m=m.p}m=m.o,j=m.z,n=!n}while(!m.v);e.lineEnd()}}},Xo=xo(),Yo=function(a,b){var c=b[0],d=b[1],e=[Mo(c),-Jo(c),0],f=0,g=0;Xo.reset();for(var h=0,i=a.length;h<i;++h)if(k=(j=a[h]).length)for(var j,k,l=j[k-1],m=l[0],n=l[1]/2+Co,o=Mo(n),p=Jo(n),q=0;q<k;++q,m=s,o=u,p=v,l=r){var r=j[q],s=r[0],t=r[1]/2+Co,u=Mo(t),v=Jo(t),w=s-m,x=w>=0?1:-1,y=x*w,z=y>Ao,A=o*u;if(Xo.add(Io(A*x*Mo(y),p*v+A*Jo(y))),f+=z?w+x*Do:w,z^m>=c^s>=c){var B=Yi(Wi(l),Wi(r));_i(B);var C=Yi(e,B);_i(C);var D=(z^w>=0?-1:1)*Qi(C[2]);(d>D||d===D&&(B[0]||B[1]))&&(g+=z^w>=0?1:-1)}}return(f<-zo||f<zo&&Xo<-zo)^1&g},Zo=function(a){for(var b,c,d,e=a.length,f=-1,g=0;++f<e;)g+=a[f].length;for(c=new Array(g);--e>=0;)for(d=a[e],b=d.length;--b>=0;)c[--g]=d[b];return c},$o=function(a,b,c,d){return function(e){function f(b,c){a(b,c)&&e.point(b,c)}function g(a,b){p.point(a,b)}function h(){t.point=g,p.lineStart()}function i(){t.point=f,p.lineEnd()}function j(a,b){o.push([a,b]),r.point(a,b)}function k(){r.lineStart(),o=[]}function l(){j(o[0][0],o[0][1]),r.lineEnd();var a,b,c,d,f=r.clean(),g=q.result(),h=g.length;if(o.pop(),m.push(o),o=null,h)if(1&f){if(c=g[0],(b=c.length-1)>0){for(s||(e.polygonStart(),s=!0),e.lineStart(),a=0;a<b;++a)e.point((d=c[a])[0],d[1]);e.lineEnd()}}else h>1&&2&f&&g.push(g.pop().concat(g.shift())),n.push(g.filter(jj))}var m,n,o,p=b(e),q=Uo(),r=b(q),s=!1,t={point:f,lineStart:h,lineEnd:i,polygonStart:function(){t.point=j,t.lineStart=k,t.lineEnd=l,n=[],m=[]},polygonEnd:function(){t.point=f,t.lineStart=h,t.lineEnd=i,n=Zo(n);var a=Yo(m,d);n.length?(s||(e.polygonStart(),s=!0),Wo(n,kj,a,c,e)):a&&(s||(e.polygonStart(),s=!0),e.lineStart(),c(null,null,1,e),e.lineEnd()),s&&(e.polygonEnd(),s=!1),n=m=null},sphere:function(){e.polygonStart(),e.lineStart(),c(null,null,1,e),e.lineEnd(),e.polygonEnd()}};return t}},_o=$o(function(){return!0},lj,nj,[-Ao,-Bo]),ap=function(a){function b(b,c,d,e){fj(e,a,h,d,b,c)}function c(a,b){return Jo(a)*Jo(b)>g}function d(a){var b,d,g,h,k;return{lineStart:function(){h=g=!1,k=1},point:function(l,m){var n,o=[l,m],p=c(l,m),q=i?p?0:f(l,m):p?f(l+(l<0?Ao:-Ao),m):0;if(!b&&(h=g=p)&&a.lineStart(),p!==g&&(!(n=e(b,o))||Vo(b,n)||Vo(o,n))&&(o[0]+=zo,o[1]+=zo,p=c(o[0],o[1])),p!==g)k=0,p?(a.lineStart(),n=e(o,b),a.point(n[0],n[1])):(n=e(b,o),a.point(n[0],n[1]),a.lineEnd()),b=n;else if(j&&b&&i^p){var r;q&d||!(r=e(o,b,!0))||(k=0,i?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1])))}!p||b&&Vo(b,o)||a.point(o[0],o[1]),b=o,g=p,d=q},lineEnd:function(){g&&a.lineEnd(),b=null},clean:function(){return k|(h&&g)<<1}}}function e(a,b,c){var d=Wi(a),e=Wi(b),f=[1,0,0],h=Yi(d,e),i=Xi(h,h),j=h[0],k=i-j*j;if(!k)return!c&&a;var l=g*i/k,m=-g*j/k,n=Yi(f,h),o=$i(f,l);Zi(o,$i(h,m));var p=n,q=Xi(o,p),r=Xi(p,p),s=q*q-r*(Xi(o,o)-1);if(!(s<0)){var t=No(s),u=$i(p,(-q-t)/r);if(Zi(u,o),u=Vi(u),!c)return u;var v,w=a[0],x=b[0],y=a[1],z=b[1];x<w&&(v=w,w=x,x=v);var A=x-w,B=Go(A-Ao)<zo,C=B||A<zo;if(!B&&z<y&&(v=y,y=z,z=v),C?B?y+z>0^u[1]<(Go(u[0]-w)<zo?y:z):y<=u[1]&&u[1]<=z:A>Ao^(w<=u[0]&&u[0]<=x)){var D=$i(p,(-q+t)/r);return Zi(D,o),[u,Vi(D)]}}}function f(b,c){var d=i?a:Ao-a,e=0;return b<-d?e|=1:b>d&&(e|=2),c<-d?e|=4:c>d&&(e|=8),e}var g=Jo(a),h=6*Fo,i=g>0,j=Go(g)>zo;return $o(c,d,b,i?[0,-a]:[-Ao,a-Ao])},bp=function(a,b,c,d,e,f){var g,h=a[0],i=a[1],j=b[0],k=b[1],l=0,m=1,n=j-h,o=k-i;if(g=c-h,n||!(g>0)){if(g/=n,n<0){if(g<l)return;g<m&&(m=g)}else if(n>0){if(g>m)return;g>l&&(l=g)}if(g=e-h,n||!(g<0)){if(g/=n,n<0){if(g>m)return;g>l&&(l=g)}else if(n>0){if(g<l)return;g<m&&(m=g)}if(g=d-i,o||!(g>0)){if(g/=o,o<0){if(g<l)return;g<m&&(m=g)}else if(o>0){if(g>m)return;g>l&&(l=g)}if(g=f-i,o||!(g<0)){if(g/=o,o<0){if(g>m)return;g>l&&(l=g)}else if(o>0){if(g<l)return;g<m&&(m=g)}return l>0&&(a[0]=h+l*n,a[1]=i+l*o),m<1&&(b[0]=h+m*n,b[1]=i+m*o),!0}}}}},cp=1e9,dp=-cp,ep=(xo(),function(a){return a}),fp=(xo(),xo(),1/0),gp=fp,hp=-fp,ip=hp,jp={point:pj,lineStart:Ri,lineEnd:Ri,polygonStart:Ri,polygonEnd:Ri,result:function(){var a=[[fp,gp],[hp,ip]];return hp=ip=-(gp=fp=1/0),a}};xo();rj.prototype={constructor:rj,point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var kp=16,lp=Jo(30*Fo),mp=function(a,b){return+b?yj(a,b):xj(a)},np=qj({point:function(a,b){this.stream.point(a*Fo,b*Fo)}});Cj(function(a){return No(2/(1+a))}).invert=Dj(function(a){return 2*Qi(a/2)}),Cj(function(a){return(a=Pi(a))&&a/Mo(a)}).invert=Dj(function(a){return a}),Ej.invert=function(a,b){return[a,2*Ho(Ko(b))-Bo]},Gj.invert=Dj(Ho),Hj.invert=Dj(Qi),Ij.invert=Dj(function(a){return 2*Ho(a)}),Jj.invert=function(a,b){return[-b,2*Ho(Ko(a))-Bo]};var op=function(){var a=Fj(Jj),b=a.center,c=a.rotate;return a.center=function(a){return arguments.length?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return arguments.length?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90]).scale(159.155)},pp=(console.debug.bind(console,"%c turfHelper:","color:#00CC00;font-weight:bold;"),console.debug.bind(console,"%c turfHelper:","color:orange;font-weight:bold;")),qp={along:kk,arrayToFeaturePoints:gk,createbuffer:mk,pointInPolygon:nk,polygonToFeaturePolygon:fk,polylineToFeatureLinestring:ek,simplifyFeature:jk,simplifyPointArray:ik,toLatLngs:$a,toCoords:ab,trimPaths:Bk,union:lk,kinks:ok,unkink:pk,concave:hk};a.along=kk,a.arrayToFeaturePoints=gk,a.createbuffer=mk,a.pointInPolygon=nk,a.polygonToFeaturePolygon=fk,a.polylineToFeatureLinestring=ek,a.simplifyFeature=jk,a.simplifyPointArray=ik,a.toLatLngs=$a,a.toCoords=ab,a.trimPaths=Bk,a.kinks=ok,a.unkink=pk,a.union=lk,a.concave=hk,a.default=qp,Object.defineProperty(a,"__esModule",{value:!0})})})(function(a){"function"==typeof define&&define.amd?define([],a):"object"==typeof module&&module.exports&&"function"==typeof require?module.exports=a():turfHelper=a()});
//# sourceMappingURL=ig_turfhelper.min.js.map