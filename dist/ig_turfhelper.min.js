!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.turfHelper=a.turfHelper||{})}(this,function(a){"use strict";!function(b,c){"object"==typeof a&&"undefined"!=typeof module?c(a):"function"==typeof define&&define.amd?define(["exports"],c):c(b.turfHelper=b.turfHelper||{})}(void 0,function(a){function b(){return new km.Wkt}function c(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function d(){this.__data__=[],this.size=0}function e(a,b){return a===b||a!==a&&b!==b}function f(a,b){for(var c=a.length;c--;)if(e(a[c][0],b))return c;return-1}function g(a){var b=this.__data__,c=f(b,a);return!(c<0)&&(c==b.length-1?b.pop():mm.call(b,c,1),--this.size,!0)}function h(a){var b=this.__data__,c=f(b,a);return c<0?void 0:b[c][1]}function i(a){return f(this.__data__,a)>-1}function j(a,b){var c=this.__data__,d=f(c,a);return d<0?(++this.size,c.push([a,b])):c[d][1]=b,this}function k(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function l(){this.__data__=new k,this.size=0}function m(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c}function n(a){return this.__data__.get(a)}function o(a){return this.__data__.has(a)}function p(a){var b=sm.call(a,um),c=a[um];try{a[um]=void 0;var d=!0}catch(a){}var e=tm.call(a);return d&&(b?a[um]=c:delete a[um]),e}function q(a){return wm.call(a)}function r(a){return null==a?void 0===a?ym:xm:zm&&zm in Object(a)?p(a):q(a)}function s(a){var b=void 0===a?"undefined":jm(a);return null!=a&&("object"==b||"function"==b)}function t(a){if(!s(a))return!1;var b=r(a);return b==Bm||b==Cm||b==Am||b==Dm}function u(a){return!!Fm&&Fm in a}function v(a){if(null!=a){try{return Hm.call(a)}catch(a){}try{return a+""}catch(a){}}return""}function w(a){return!(!s(a)||u(a))&&(t(a)?Om:Jm).test(v(a))}function x(a,b){return null==a?void 0:a[b]}function y(a,b){var c=x(a,b);return w(c)?c:void 0}function z(){this.__data__=Qm?Qm(null):{},this.size=0}function A(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}function B(a){var b=this.__data__;if(Qm){var c=b[a];return c===Rm?void 0:c}return Tm.call(b,a)?b[a]:void 0}function C(a){var b=this.__data__;return Qm?void 0!==b[a]:Vm.call(b,a)}function D(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=Qm&&void 0===b?Wm:b,this}function E(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function F(){this.size=0,this.__data__={hash:new E,map:new(Pm||k),string:new E}}function G(a){var b=void 0===a?"undefined":jm(a);return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function H(a,b){var c=a.__data__;return G(b)?c["string"==typeof b?"string":"hash"]:c.map}function I(a){var b=H(this,a).delete(a);return this.size-=b?1:0,b}function J(a){return H(this,a).get(a)}function K(a){return H(this,a).has(a)}function L(a,b){var c=H(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this}function M(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function N(a,b){var c=this.__data__;if(c instanceof k){var d=c.__data__;if(!Pm||d.length<Xm-1)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new M(d)}return c.set(a,b),this.size=c.size,this}function O(a){var b=this.__data__=new k(a);this.size=b.size}function P(a){return this.__data__.set(a,Ym),this}function Q(a){return this.__data__.has(a)}function R(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new M;++b<c;)this.add(a[b])}function S(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function T(a,b){return a.has(b)}function U(a,b,c,d,e,f){var g=c&Zm,h=a.length,i=b.length;if(h!=i&&!(g&&i>h))return!1;var j=f.get(a);if(j&&f.get(b))return j==b;var k=-1,l=!0,m=c&$m?new R:void 0;for(f.set(a,b),f.set(b,a);++k<h;){var n=a[k],o=b[k];if(d)var p=g?d(o,n,k,b,a,f):d(n,o,k,a,b,f);if(void 0!==p){if(p)continue;l=!1;break}if(m){if(!S(b,function(a,b){if(!T(m,b)&&(n===a||e(n,a,c,d,f)))return m.push(b)})){l=!1;break}}else if(n!==o&&!e(n,o,c,d,f)){l=!1;break}}return f.delete(a),f.delete(b),l}function V(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function W(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function X(a,b,c,d,f,g,h){switch(c){case nn:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case mn:return!(a.byteLength!=b.byteLength||!g(new _m(a),new _m(b)));case cn:case dn:case gn:return e(+a,+b);case en:return a.name==b.name&&a.message==b.message;case hn:case kn:return a==b+"";case fn:var i=V;case jn:var j=d&an;if(i||(i=W),a.size!=b.size&&!j)return!1;var k=h.get(a);if(k)return k==b;d|=bn,h.set(a,b);var l=U(i(a),i(b),d,f,g,h);return h.delete(a),l;case ln:if(pn)return pn.call(a)==pn.call(b)}return!1}function Y(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function Z(a,b,c){var d=b(a);return qn(a)?d:Y(d,c(a))}function $(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function _(){return[]}function aa(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function ba(a){return null!=a&&"object"==(void 0===a?"undefined":jm(a))}function ca(a){return ba(a)&&r(a)==vn}function da(){return!1}function ea(a,b){return!!(b=null==b?Gn:b)&&("number"==typeof a||Hn.test(a))&&a>-1&&a%1==0&&a<b}function fa(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=In}function ga(a){return ba(a)&&fa(a.length)&&!!Jn[r(a)]}function ha(a){return function(b){return a(b)}}function ia(a,b){var c=qn(a),d=!c&&zn(a),e=!c&&!d&&Fn(a),f=!c&&!d&&!e&&Qn(a),g=c||d||e||f,h=g?aa(a.length,String):[],i=h.length;for(var j in a)!b&&!Sn.call(a,j)||g&&("length"==j||e&&("offset"==j||"parent"==j)||f&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||ea(j,i))||h.push(j);return h}function ja(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||Tn)}function ka(a,b){return function(c){return a(b(c))}}function la(a){if(!ja(a))return Un(a);var b=[];for(var c in Object(a))Wn.call(a,c)&&"constructor"!=c&&b.push(c);return b}function ma(a){return null!=a&&fa(a.length)&&!t(a)}function na(a){return ma(a)?ia(a):la(a)}function oa(a){return Z(a,na,un)}function pa(a,b,c,d,e,f){var g=c&Xn,h=oa(a),i=h.length;if(i!=oa(b).length&&!g)return!1;for(var j=i;j--;){var k=h[j];if(!(g?k in b:Zn.call(b,k)))return!1}var l=f.get(a);if(l&&f.get(b))return l==b;var m=!0;f.set(a,b),f.set(b,a);for(var n=g;++j<i;){k=h[j];var o=a[k],p=b[k];if(d)var q=g?d(p,o,k,b,a,f):d(o,p,k,a,b,f);if(!(void 0===q?o===p||e(o,p,c,d,f):q)){m=!1;break}n||(n="constructor"==k)}if(m&&!n){var r=a.constructor,s=b.constructor;r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s)&&(m=!1)}return f.delete(a),f.delete(b),m}function qa(a,b,c,d,e,f){var g=qn(a),h=qn(b),i=g?ro:oo(a),j=h?ro:oo(b);i=i==qo?so:i,j=j==qo?so:j;var k=i==so,l=j==so,m=i==j;if(m&&Fn(a)){if(!Fn(b))return!1;g=!0,k=!1}if(m&&!k)return f||(f=new O),g||Qn(a)?U(a,b,c,d,e,f):X(a,b,i,c,d,e,f);if(!(c&po)){var n=k&&uo.call(a,"__wrapped__"),o=l&&uo.call(b,"__wrapped__");if(n||o){var p=n?a.value():a,q=o?b.value():b;return f||(f=new O),e(p,q,c,d,f)}}return!!m&&(f||(f=new O),pa(a,b,c,d,e,f))}function ra(a,b,c,d,e){return a===b||(null==a||null==b||!ba(a)&&!ba(b)?a!==a&&b!==b:qa(a,b,c,d,ra,e))}function sa(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=Object(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){h=c[e];var i=h[0],j=a[i],k=h[1];if(g&&h[2]){if(void 0===j&&!(i in a))return!1}else{var l=new O;if(d)var m=d(j,k,i,a,b,l);if(!(void 0===m?ra(k,j,vo|wo,d,l):m))return!1}}return!0}function ta(a){return a===a&&!s(a)}function ua(a){for(var b=na(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,ta(e)]}return b}function va(a,b){return function(c){return null!=c&&(c[a]===b&&(void 0!==b||a in Object(c)))}}function wa(a){var b=ua(a);return 1==b.length&&b[0][2]?va(b[0][0],b[0][1]):function(c){return c===a||sa(c,a,b)}}function xa(a){return"symbol"==(void 0===a?"undefined":jm(a))||ba(a)&&r(a)==xo}function ya(a,b){if(qn(a))return!1;var c=void 0===a?"undefined":jm(a);return!("number"!=c&&"symbol"!=c&&"boolean"!=c&&null!=a&&!xa(a))||(zo.test(a)||!yo.test(a)||null!=b&&a in Object(b))}function za(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new TypeError(Ao);var c=function c(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g)||f,g};return c.cache=new(za.Cache||M),c}function Aa(a){var b=za(a,function(a){return c.size===Bo&&c.clear(),a}),c=b.cache;return b}function Ba(a){if("string"==typeof a)return a;if(qn(a))return c(a,Ba)+"";if(xa(a))return Io?Io.call(a):"";var b=a+"";return"0"==b&&1/a==-Go?"-0":b}function Ca(a){return null==a?"":Ba(a)}function Da(a,b){return qn(a)?a:ya(a,b)?[a]:Fo(Ca(a))}function Ea(a){if("string"==typeof a||xa(a))return a;var b=a+"";return"0"==b&&1/a==-Jo?"-0":b}function Fa(a,b){b=Da(b,a);for(var c=0,d=b.length;null!=a&&c<d;)a=a[Ea(b[c++])];return c&&c==d?a:void 0}function Ga(a,b,c){var d=null==a?void 0:Fa(a,b);return void 0===d?c:d}function Ha(a,b){return null!=a&&b in Object(a)}function Ia(a,b,c){b=Da(b,a);for(var d=-1,e=b.length,f=!1;++d<e;){var g=Ea(b[d]);if(!(f=null!=a&&c(a,g)))break;a=a[g]}return f||++d!=e?f:!!(e=null==a?0:a.length)&&fa(e)&&ea(g,e)&&(qn(a)||zn(a))}function Ja(a,b){return null!=a&&Ia(a,b,Ha)}function Ka(a,b){return ya(a)&&ta(b)?va(Ea(a),b):function(c){var d=Ga(c,a);return void 0===d&&d===b?Ja(c,a):ra(b,d,Ko|Lo)}}function La(a){return a}function Ma(a){return function(b){return null==b?void 0:b[a]}}function Na(a){return function(b){return Fa(b,a)}}function Oa(a){return ya(a)?Ma(Ea(a)):Na(a)}function Pa(a){return"function"==typeof a?a:null==a?La:"object"==(void 0===a?"undefined":jm(a))?qn(a)?Ka(a[0],a[1]):wa(a):Oa(a)}function Qa(a){return function(b,c,d){for(var e=-1,f=Object(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(!1===c(f[i],i,f))break}return b}}function Ra(a,b){return a&&Mo(a,b,na)}function Sa(a,b){return function(c,d){if(null==c)return c;if(!ma(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=Object(c);(b?f--:++f<e)&&!1!==d(g[f],f,g););return c}}function Ta(a,b){var c=-1,d=ma(a)?Array(a.length):[];return No(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Ua(a,b){return(qn(a)?c:Ta)(a,Pa(b,3))}function Va(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&&!1!==b(a[c],c,a););return a}function Wa(a){return"function"==typeof a?a:La}function Xa(a,b){return(qn(a)?Va:No)(a,Wa(b))}function Ya(a){return a instanceof google.maps.LatLng?{lat:a.lat(),lng:a.lng()}:a.lat&&a.lng?a:{lat:a[1],lng:a[0]}}function Za(a){return Ua(a,Ya)}function $a(a){if(google.maps&&google.maps.LatLng&&a instanceof google.maps.LatLng)return[a.lng(),a.lat()];if(a.lat&&a.lng)return[a.lng,a.lat];if(a.length&&a.length>=2)return a;throw new Error("google.maps is not present in the global scope")}function _a(a,b){var c=Ua(a,$a);if(!0===b){var d=c.pop();d[0]===c[0][0]&&d[1]===c[0][1]?c.push(c[0]):(c.push(d),c.push(c[0]))}return c}function ab(a,b,c,d){if(void 0===a)throw new Error("geometry is required");if(b&&b.constructor!==Object)throw new Error("properties must be an Object");if(c){if(!Array.isArray(c))throw new Error("bbox must be an Array");if(4!==c.length)throw new Error("bbox must be an Array of 4 numbers")}if(d&&-1===["string","number"].indexOf(void 0===d?"undefined":jm(d)))throw new Error("id must be a number or a string");var e={type:"Feature"};return d&&(e.id=d),c&&(e.bbox=c),e.properties=b||{},e.geometry=a,e}function bb(a,b,c,d){if(!a)throw new Error("No coordinates passed");if(!Array.isArray(a))throw new Error("Coordinates must be an Array");if(a.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(!lb(a[0])||!lb(a[1]))throw new Error("Coordinates must contain numbers");return ab({type:"Point",coordinates:a},b,c,d)}function cb(a,b,c,d){if(!a)throw new Error("No coordinates passed");for(var e=0;e<a.length;e++){var f=a[e];if(f.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<f[f.length-1].length;g++){if(0===e&&0===g&&!lb(f[0][0])||!lb(f[0][1]))throw new Error("Coordinates must contain numbers");if(f[f.length-1][g]!==f[0][g])throw new Error("First and last Position are not equivalent.")}}return ab({type:"Polygon",coordinates:a},b,c,d)}function db(a,b,c,d){if(!a)throw new Error("No coordinates passed");if(a.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!lb(a[0][1])||!lb(a[0][1]))throw new Error("Coordinates must contain numbers");return ab({type:"LineString",coordinates:a},b,c,d)}function eb(a,b,c){if(!a)throw new Error("No features passed");if(!Array.isArray(a))throw new Error("features must be an Array");if(b&&4!==b.length)throw new Error("bbox must be an Array of 4 numbers");if(c&&-1===["string","number"].indexOf(void 0===c?"undefined":jm(c)))throw new Error("id must be a number or a string");var d={type:"FeatureCollection"};return c&&(d.id=c),b&&(d.bbox=b),d.features=a,d}function fb(a,b,c,d){if(!a)throw new Error("No coordinates passed");return ab({type:"MultiLineString",coordinates:a},b,c,d)}function gb(a,b,c,d){if(!a)throw new Error("geometries is required");if(!Array.isArray(a))throw new Error("geometries must be an Array");return ab({type:"GeometryCollection",geometries:a},b,c,d)}function hb(a,b){if(void 0===a||null===a)throw new Error("radians is required");if(b&&"string"!=typeof b)throw new Error("units must be a string");var c=dp[b||"kilometers"];if(!c)throw new Error(b+" units is invalid");return a*c}function ib(a,b){if(void 0===a||null===a)throw new Error("distance is required");if(b&&"string"!=typeof b)throw new Error("units must be a string");var c=dp[b||"kilometers"];if(!c)throw new Error(b+" units is invalid");return a/c}function jb(a){if(null===a||void 0===a)throw new Error("radians is required");return a%(2*Math.PI)*180/Math.PI}function kb(a){if(null===a||void 0===a)throw new Error("degrees is required");return a%360*Math.PI/180}function lb(a){return!isNaN(a)&&null!==a&&!Array.isArray(a)}function mb(a){return!!a&&a.constructor===Object}function nb(a){return{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[_a(a,!0)]}}}function ob(a){if(!a.getPosition||"function"!=typeof a.getPosition)throw new Error("input object does not have a getPosition method");var b=a.getPosition();return{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[b.lng(),b.lat()]}}}function pb(a){var b;return b=_a(a instanceof google.maps.Polyline?a.getPath().getArray():a),db(b)}function qb(a){var b,c;if("Feature"===a.type)c=a;else if(a instanceof google.maps.Polygon)a=a.getPath().getArray(),b=_a(a,!0),c=nb(b);else if(a&&a.constructor===Array)b=_a(a,!0),c=nb(b);else{if(!a.geometry)throw new Error("object is not a Feature, google.maps.Polygon nor an array of google.maps.LatLng");c={type:"Feature",properties:{},geometry:a.geometry}}return c.properties={},c}function rb(a){var b={type:"FeatureCollection",features:[]};return a.forEach(function(a){var c={type:"Feature",geometry:{type:"Point",coordinates:_a([a])[0]}};b.features.push(c)}),b}function sb(a,b){if("FeatureCollection"!==a.type)throw new Error("points must be a FeatureCollection");var c=!1;return eb(wb(a.features.map(function(a){var d={x:a.geometry.coordinates[0],y:a.geometry.coordinates[1]};return b?d.z=a.properties[b]:3===a.geometry.coordinates.length&&(c=!0,d.z=a.geometry.coordinates[2]),d})).map(function(a){var b=[a.a.x,a.a.y],d=[a.b.x,a.b.y],e=[a.c.x,a.c.y],f={};return c?(b.push(a.a.z),d.push(a.b.z),e.push(a.c.z)):f={a:a.a.z,b:a.b.z,c:a.c.z},cb([[b,d,e,b]],f)}))}function tb(a,b,c){this.a=a,this.b=b,this.c=c;var d,e,f=b.x-a.x,g=b.y-a.y,h=c.x-a.x,i=c.y-a.y,j=f*(a.x+b.x)+g*(a.y+b.y),k=h*(a.x+c.x)+i*(a.y+c.y),l=2*(f*(c.y-b.y)-g*(c.x-b.x));this.x=(i*j-g*k)/l,this.y=(f*k-h*j)/l,d=this.x-a.x,e=this.y-a.y,this.r=d*d+e*e}function ub(a,b){return b.x-a.x}function vb(a){var b,c,d,e,f,g=a.length;a:for(;g;)for(c=a[--g],b=a[--g],d=g;d;)if(f=a[--d],e=a[--d],b===e&&c===f||b===f&&c===e){a.splice(g,2),a.splice(d,2),g-=2;continue a}}function wb(a){if(a.length<3)return[];a.sort(ub);for(var b,c,d,e,f,g,h=a.length-1,i=a[h].x,j=a[0].x,k=a[h].y,l=k,m=1e-12;h--;)a[h].y<k&&(k=a[h].y),a[h].y>l&&(l=a[h].y);var n,o=j-i,p=l-k,q=o>p?o:p,r=.5*(j+i),s=.5*(l+k),t=[new tb({x:r-20*q,y:s-q,__sentinel:!0},{x:r,y:s+20*q,__sentinel:!0},{x:r+20*q,y:s-q,__sentinel:!0})],u=[],v=[];for(h=a.length;h--;){for(v.length=0,n=t.length;n--;)o=a[h].x-t[n].x,o>0&&o*o>t[n].r?(u.push(t[n]),t.splice(n,1)):(p=a[h].y-t[n].y,o*o+p*p>t[n].r||(v.push(t[n].a,t[n].b,t[n].b,t[n].c,t[n].c,t[n].a),t.splice(n,1)));for(vb(v),n=v.length;n;)c=v[--n],b=v[--n],d=a[h],e=c.x-b.x,f=c.y-b.y,g=2*(e*(d.y-c.y)-f*(d.x-c.x)),Math.abs(g)>m&&t.push(new tb(b,c,d))}for(Array.prototype.push.apply(u,t),h=u.length;h--;)(u[h].a.__sentinel||u[h].b.__sentinel||u[h].c.__sentinel)&&u.splice(h,1);return u}function xb(a){if(!a)throw new Error("geojson is required");switch(a.type){case"Feature":return yb(a);case"FeatureCollection":return Ab(a);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Bb(a);default:throw new Error("unknown GeoJSON type")}}function yb(a){var b={type:"Feature"};return Object.keys(a).forEach(function(c){switch(c){case"type":case"properties":case"geometry":return;default:b[c]=a[c]}}),b.properties=zb(a.properties),b.geometry=Bb(a.geometry),b}function zb(a){var b={};return a?(Object.keys(a).forEach(function(c){var d=a[c];"object"===(void 0===d?"undefined":jm(d))?(d.length&&(b[c]=d.map(function(a){return a})),b[c]=zb(d)):b[c]=d}),b):b}function Ab(a){var b={type:"FeatureCollection"};return Object.keys(a).forEach(function(c){switch(c){case"type":case"features":return;default:b[c]=a[c]}}),b.features=a.features.map(function(a){return yb(a)}),b}function Bb(a){var b={type:a.type};return a.bbox&&(b.bbox=a.bbox),"GeometryCollection"===a.type?(b.geometries=a.geometries.map(function(a){return Bb(a)}),b):(b.coordinates=Cb(a.coordinates),b)}function Cb(a){return"object"!==jm(a[0])?a.slice():a.map(function(a){return Cb(a)})}function Db(a){if(!a)throw new Error("obj is required");var b=Eb(a);if(b.length>1&&lb(b[0])&&lb(b[1]))return b;throw new Error("Coordinate is not a valid Point")}function Eb(a){if(!a)throw new Error("obj is required");var b;if(a.length?b=a:a.coordinates?b=a.coordinates:a.geometry&&a.geometry.coordinates&&(b=a.geometry.coordinates),b)return Fb(b),b;throw new Error("No valid coordinates")}function Fb(a){if(a.length>1&&lb(a[0])&&lb(a[1]))return!0;if(Array.isArray(a[0])&&a[0].length)return Fb(a[0]);throw new Error("coordinates must only contain numbers")}function Gb(a,b){if(!a)throw new Error((b||"geojson")+" is required");if(a.geometry&&a.geometry.type)return a.geometry.type;if(a.type)return a.type;throw new Error((b||"geojson")+" is invalid")}function Hb(a,b,c){if(null!==a){var d,e,f,g,h,i,j,k,l,m,n=0,o=0,p=a.type,q="FeatureCollection"===p,r="Feature"===p,s=q?a.features.length:1;for(d=0;d<s;d++)for(l=q?a.features[d].geometry:r?a.geometry:a,m=!!l&&"GeometryCollection"===l.type,j=m?l.geometries.length:1,e=0;e<j;e++){var t=0;if(null!==(i=m?l.geometries[e]:l)){k=i.coordinates;var u=i.type;switch(n=!c||"Polygon"!==u&&"MultiPolygon"!==u?0:1,u){case null:break;case"Point":b(k,o,d,t),o++,t++;break;case"LineString":case"MultiPoint":for(f=0;f<k.length;f++)b(k[f],o,d,t),o++,"MultiPoint"===u&&t++;"LineString"===u&&t++;break;case"Polygon":case"MultiLineString":for(f=0;f<k.length;f++){for(g=0;g<k[f].length-n;g++)b(k[f][g],o,d,t),o++;"MultiLineString"===u&&t++}"Polygon"===u&&t++;break;case"MultiPolygon":for(f=0;f<k.length;f++){for(g=0;g<k[f].length;g++)for(h=0;h<k[f][g].length-n;h++)b(k[f][g][h],o,d,t),o++;t++}break;case"GeometryCollection":for(f=0;f<i.geometries.length;f++)Hb(i.geometries[f],b,c);break;default:throw new Error("Unknown Geometry Type")}}}}}function Ib(a,b){if("Feature"===a.type)b(a,0);else if("FeatureCollection"===a.type)for(var c=0;c<a.features.length;c++)b(a.features[c],c)}function Jb(a,b){var c,d,e,f,g,h,i,j,k,l,m=0,n="FeatureCollection"===a.type,o="Feature"===a.type,p=n?a.features.length:1;for(c=0;c<p;c++){for(h=n?a.features[c].geometry:o?a.geometry:a,j=n?a.features[c].properties:o?a.properties:{},k=n?a.features[c].bbox:o?a.bbox:void 0,l=n?a.features[c].id:o?a.id:void 0,i=!!h&&"GeometryCollection"===h.type,g=i?h.geometries.length:1,e=0;e<g;e++)if(null!==(f=i?h.geometries[e]:h))switch(f.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":b(f,m,j,k,l);break;case"GeometryCollection":for(d=0;d<f.geometries.length;d++)b(f.geometries[d],m,j,k,l);break;default:throw new Error("Unknown Geometry Type")}else b(null,m,j,k,l);m++}}function Kb(a,b,c){var d=c;return Jb(a,function(a,e,f){d=0===e&&void 0===c?a:b(d,a,e,f)}),d}function Lb(a,b){Jb(a,function(a,c,d,e,f){var g=null===a?null:a.type;switch(g){case null:case"Point":case"LineString":case"Polygon":return void b(ab(a,d,e,f),c,0)}var h;switch(g){case"MultiPoint":h="Point";break;case"MultiLineString":h="LineString";break;case"MultiPolygon":h="Polygon"}a.coordinates.forEach(function(a,e){b(ab({type:h,coordinates:a},d),c,e)})})}function Mb(a,b){if(!a)throw new Error("geojson is required");Lb(a,function(a,c,d){if(null!==a.geometry){var e=a.geometry.type,f=a.geometry.coordinates;switch(e){case"LineString":b(a,c,d,0);break;case"Polygon":for(var g=0;g<f.length;g++)b(db(f[g],a.properties),c,d,g)}}})}function Nb(a,b,c){var d=c;return Mb(a,function(a,e,f,g){d=0===e&&void 0===c?a:b(d,a,e,f,g)}),d}function Ob(a,b){if(b=b||{},!mb(b))throw new Error("options is invalid");var c=b.mutate;if("FeatureCollection"!==Gb(a))throw new Error("geojson must be a FeatureCollection");if(!a.features.length)throw new Error("geojson is empty");!1!==c&&void 0!==c||(a=xb(a));var d=[],e=Nb(a,function(a,b){var c=Qb(a,b);return c||(d.push(a),b)});return e&&d.push(e),d.length?1===d.length?d[0]:fb(d.map(function(a){return a.coordinates})):null}function Pb(a){return a[0].toString()+","+a[1].toString()}function Qb(a,b){var c,d=a.geometry.coordinates,e=b.geometry.coordinates,f=Pb(d[0]),g=Pb(d[d.length-1]),h=Pb(e[0]),i=Pb(e[e.length-1]);if(f===i)c=e.concat(d.slice(1));else if(h===g)c=d.concat(e.slice(1));else if(f===h)c=d.slice(1).reverse().concat(e);else{if(g!==i)return null;c=d.concat(e.reverse().slice(1))}return db(c)}function Rb(a,b){function c(a,b){b.length&&b.pop();for(var c=j[a<0?~a:a],d=0,e=c.length;d<e;++d)b.push(i(c[d],d));a<0&&hp(b,e)}function d(a){return i(a)}function e(a){for(var b=[],d=0,e=a.length;d<e;++d)c(a[d],b);return b.length<2&&b.push(b[0]),b}function f(a){for(var b=e(a);b.length<4;)b.push(b[0]);return b}function g(a){return a.map(f)}function h(a){var b,c=a.type;switch(c){case"GeometryCollection":return{type:c,geometries:a.geometries.map(h)};case"Point":b=d(a.coordinates);break;case"MultiPoint":b=a.coordinates.map(d);break;case"LineString":b=e(a.arcs);break;case"MultiLineString":b=a.arcs.map(e);break;case"Polygon":b=g(a.arcs);break;case"MultiPolygon":b=a.arcs.map(g);break;default:return null}return{type:c,coordinates:b}}var i=gp(a.transform),j=a.arcs;return h(b)}function Sb(a){for(var b,c=-1,d=a.length,e=a[d-1],f=0;++c<d;)b=e,e=a[c],f+=b[0]*e[1]-b[1]*e[0];return Math.abs(f)}function Tb(a,b){function c(a){switch(a.type){case"GeometryCollection":a.geometries.forEach(c);break;case"Polygon":d(a.arcs);break;case"MultiPolygon":a.arcs.forEach(d)}}function d(a){a.forEach(function(b){b.forEach(function(b){(f[b=b<0?~b:b]||(f[b]=[])).push(a)})}),g.push(a)}function e(b){return Sb(Rb(a,{type:"Polygon",arcs:[b]}).coordinates[0])}var f={},g=[],h=[];return b.forEach(c),g.forEach(function(a){if(!a._){var b=[],c=[a];for(a._=1,h.push(b);a=c.pop();)b.push(a),a.forEach(function(a){a.forEach(function(a){f[a<0?~a:a].forEach(function(a){a._||(a._=1,c.push(a))})})})}}),g.forEach(function(a){delete a._}),{type:"MultiPolygon",arcs:h.map(function(b){var c,d=[];if(b.forEach(function(a){a.forEach(function(a){a.forEach(function(a){f[a<0?~a:a].length<2&&d.push(a)})})}),d=ip(a,d),(c=d.length)>1)for(var g,h,i=1,j=e(d[0]);i<c;++i)(g=e(d[i]))>j&&(h=d[0],d[0]=d[i],d[i]=h,j=g);return d})}}function Ub(a,b,c,d){Vb(a,b,c),Vb(a,b,b+d),Vb(a,b+d,c)}function Vb(a,b,c){for(var d,e=b+(c---b>>1);b<e;++b,--c)d=a[b],a[b]=a[c],a[c]=d}function Wb(a){return null==a?{type:null}:("FeatureCollection"===a.type?Xb:"Feature"===a.type?Yb:Zb)(a)}function Xb(a){var b={type:"GeometryCollection",geometries:a.features.map(Yb)};return null!=a.bbox&&(b.bbox=a.bbox),b}function Yb(a){var b,c=Zb(a.geometry);null!=a.id&&(c.id=a.id),null!=a.bbox&&(c.bbox=a.bbox);for(b in a.properties){c.properties=a.properties;break}return c}function Zb(a){if(null==a)return{type:null};var b="GeometryCollection"===a.type?{type:"GeometryCollection",geometries:a.geometries.map(Zb)}:"Point"===a.type||"MultiPoint"===a.type?{type:a.type,coordinates:a.coordinates}:{type:a.type,arcs:a.coordinates};return null!=a.bbox&&(b.bbox=a.bbox),b}function $b(a){var b,c=a[0],d=a[1];return d<c&&(b=c,c=d,d=b),c+31*d}function _b(a,b){var c,d=a[0],e=a[1],f=b[0],g=b[1];return e<d&&(c=d,d=e,e=c),g<f&&(c=f,f=g,g=c),d===f&&e===g}function ac(a,b){if(b=b||{},!mb(b))throw new Error("options is invalid");var c=b.mutate;if("FeatureCollection"!==Gb(a))throw new Error("geojson must be a FeatureCollection");if(!a.features.length)throw new Error("geojson is empty");!1!==c&&void 0!==c||(a=xb(a));var d=[];Lb(a,function(a){d.push(a.geometry)});var e=zp({geoms:gb(d).geometry});return jp(e,e.objects.geoms.geometries)}function bc(a,b){if(b=b||{},!mb(b))throw new Error("options is invalid");var c=b.mutate;if("FeatureCollection"!==Gb(a))throw new Error("geojson must be a FeatureCollection");if(!a.features.length)throw new Error("geojson is empty");!1!==c&&void 0!==c||(a=xb(a));var d=cc(a);if(!d)throw new Error("geojson must be homogenous");switch(d){case"LineString":return Ob(a,b);case"Polygon":return ac(a,b);default:throw new Error(d+" is not supported")}}function cc(a){var b={};Lb(a,function(a){b[a.geometry.type]=!0});var c=Object.keys(b);return 1===c.length?c[0]:null}function dc(a,b,c){if(c=c||{},!mb(c))throw new Error("options is invalid");var d=c.units,e=Db(a),f=Db(b),g=kb(f[1]-e[1]),h=kb(f[0]-e[0]),i=kb(e[1]),j=kb(f[1]),k=Math.pow(Math.sin(g/2),2)+Math.pow(Math.sin(h/2),2)*Math.cos(i)*Math.cos(j);return hb(2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k)),d)}function ec(a,b){if(b=b||{},!mb(b))throw new Error("options is invalid");if(!a)throw new Error("points is required");var c=b.maxEdge||1/0;if(!lb(c))throw new Error("maxEdge is invalid");var d=fc(a),e=sb(d);if(e.features=e.features.filter(function(a){var d=a.geometry.coordinates[0][0],e=a.geometry.coordinates[0][1],f=a.geometry.coordinates[0][2],g=dc(d,e,b),h=dc(e,f,b),i=dc(d,f,b);return g<=c&&h<=c&&i<=c}),e.features.length<1)return null;var f=bc(e,b);return 1===f.coordinates.length&&(f.coordinates=f.coordinates[0],f.type="Polygon"),ab(f)}function fc(a){var b=[],c={};return Ib(a,function(a){if(a.geometry){var d=a.geometry.coordinates.join("-");c.hasOwnProperty(d)||(b.push(a),c[d]=!0)}}),eb(b)}function gc(a,b,c){return ec(rb(a),{maxEdge:b,units:c})}function hc(a,b){return b={exports:{}},a(b,b.exports),b.exports}function ic(a,b){var c="object"===(void 0===b?"undefined":jm(b))?b.mutate:b;if(!a)throw new Error("geojson is required");var d=Gb(a),e=[];switch(d){case"LineString":e=jc(a);break;case"MultiLineString":case"Polygon":Eb(a).forEach(function(a){e.push(jc(a))});break;case"MultiPolygon":Eb(a).forEach(function(a){var b=[];a.forEach(function(a){b.push(jc(a))}),e.push(b)});break;case"Point":return a;case"MultiPoint":var f={};Eb(a).forEach(function(a){var b=a.join("-");f.hasOwnProperty(b)||(e.push(a),f[b]=!0)});break;default:throw new Error(d+" geometry not supported")}return a.coordinates?!0===c?(a.coordinates=e,a):{type:d,coordinates:e}:!0===c?(a.geometry.coordinates=e,a):ab({type:d,coordinates:e},a.properties,a.bbox,a.id)}function jc(a){var b=Eb(a);if(2===b.length&&!kc(b[0],b[1]))return b;var c,d,e,f=[],g=b.length-1;f.push(b[0]);for(var h=1;h<g;h++)c=b[h-1],d=b[h],e=b[h+1],lc(c,e,d)||f.push(d);return f.push(e),f}function kc(a,b){return a[0]===b[0]&&a[1]===b[1]}function lc(a,b,c){var d=c[0],e=c[1],f=a[0],g=a[1],h=b[0],i=b[1],j=d-f,k=e-g,l=h-f,m=i-g;return 0==j*m-k*l&&(Math.abs(l)>=Math.abs(m)?l>0?f<=d&&d<=h:h<=d&&d<=f:m>0?g<=e&&e<=i:i<=e&&e<=g)}function mc(a,b){if(b=b||{},!mb(b))throw new Error("options is invalid");var c=b.tolerance,d=b.highQuality,e=b.mutate;if(!a)throw new Error("geojson is required");if(c&&c<0)throw new Error("invalid tolerance");return!0!==e&&(a=xb(a)),Jb(a,function(a){nc(a,c,d)}),a}function nc(a,b,c){var d=a.type;if("Point"===d||"MultiPoint"===d)return a;ic(a,!0);var e=a.coordinates;switch(d){case"LineString":a.coordinates=oc(e,b,c);break;case"MultiLineString":a.coordinates=e.map(function(a){return oc(a,b,c)});break;case"Polygon":a.coordinates=pc(e,b,c);break;case"MultiPolygon":a.coordinates=e.map(function(a){return pc(a,b,c)})}return a}function oc(a,b,c){return Ap(a.map(function(a){return{x:a[0],y:a[1],z:a[2]}}),b,c).map(function(a){return a.z?[a.x,a.y,a.z]:[a.x,a.y]})}function pc(a,b,c){return a.map(function(a){var d=a.map(function(a){return{x:a[0],y:a[1]}});if(d.length<4)throw new Error("invalid polygon");for(var e=Ap(d,b,c).map(function(a){return[a.x,a.y]});!qc(e);)b-=.01*b,e=Ap(d,b,c).map(function(a){return[a.x,a.y]});return e[e.length-1][0]===e[0][0]&&e[e.length-1][1]===e[0][1]||e.push(e[0]),e})}function qc(a){return!(a.length<3)&&!(3===a.length&&a[2][0]===a[0][0]&&a[2][1]===a[0][1])}function rc(a,b,c){return b=b||1e-5,c=c||!1,mc(db(_a(a)),b,c).geometry.coordinates}function sc(a,c,d,e){c=(c||"feature").toLowerCase();var f;if(a instanceof google.maps.Polyline||a instanceof google.maps.Polygon){f={type:"Feature",properties:{},geometry:b().fromObject(a).toJson()}}else f=a.type&&"Feature"===a.type&&a.geometry?a:qb(a);"MultiPolygon"===f.geometry.type&&(f.geometry.type="Polygon",f.geometry.coordinates=f.geometry.coordinates[0]);var g=mc(f,d,e);return g&&g.geometry?f=g:ep("Cannot simplify  Feature",f),"geometry"===c?f.geometry:"object"===c?b().fromJson(f.geometry).toObject():f}function tc(a,b,c){if(c=c||{},!mb(c))throw new Error("options is invalid");if(!0===c.final)return uc(a,b);var d=Db(a),e=Db(b),f=kb(d[0]),g=kb(e[0]),h=kb(d[1]),i=kb(e[1]),j=Math.sin(g-f)*Math.cos(i),k=Math.cos(h)*Math.sin(i)-Math.sin(h)*Math.cos(i)*Math.cos(g-f);return jb(Math.atan2(j,k))}function uc(a,b){var c=tc(b,a);return c=(c+180)%360}function vc(a,b,c,d){if(d=d||{},!mb(d))throw new Error("options is invalid");var e=d.units,f=Db(a),g=kb(f[0]),h=kb(f[1]),i=kb(c),j=ib(b,e),k=Math.asin(Math.sin(h)*Math.cos(j)+Math.cos(h)*Math.sin(j)*Math.cos(i));return bb([jb(g+Math.atan2(Math.sin(i)*Math.sin(j)*Math.cos(h),Math.cos(j)-Math.sin(h)*Math.sin(k))),jb(k)])}function wc(a,b,c){if(c=c||{},!mb(c))throw new Error("options is invalid");var d;if("Feature"===a.type)d=a.geometry.coordinates;else{if("LineString"!==a.type)throw new Error("input must be a LineString Feature or Geometry");d=a.coordinates}if(!lb(b))throw new Error("distance must be a number");for(var e=0,f=0;f<d.length&&!(b>=e&&f===d.length-1);f++){if(e>=b){var g=b-e;if(g){var h=tc(d[f],d[f-1])-180;return vc(d[f],g,h,c)}return bb(d[f])}e+=dc(d[f],d[f+1],c)}return bb(d[d.length-1])}function xc(a,c,d){var e;if(a instanceof google.maps.Polyline){e={type:"Feature",properties:{},geometry:b().fromObject(a).toJson()}}else if(a.type&&"Feature"===a.type&&a.geometry)e=a;else{var f=_a(a);e=db(f)}return wc(e,c,d)}function yc(){}function zc(){}function Ac(){}function Bc(){}function Cc(){}function Dc(){}function Ec(){}function Fc(a){this.name="RuntimeException",this.message=a,this.stack=(new Error).stack,Error.call(this,a)}function Gc(){if(0===arguments.length)Fc.call(this);else if(1===arguments.length){var a=arguments[0];Fc.call(this,a)}}function Hc(){}function Ic(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)Ic.call(this,0,0);else if(1===arguments.length){var a=arguments[0];Ic.call(this,a.x,a.y,a.z)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];Ic.call(this,b,c,Ic.NULL_ORDINATE)}else if(3===arguments.length){var b=arguments[0],c=arguments[1],d=arguments[2];this.x=b,this.y=c,this.z=d}}function Jc(){if(this._dimensionsToTest=2,0===arguments.length)Jc.call(this,2);else if(1===arguments.length){var a=arguments[0];if(2!==a&&3!==a)throw new zc("only 2 or 3 dimensions may be specified");this._dimensionsToTest=a}}function Kc(){}function Lc(){}function Mc(a){this.message=a||""}function Nc(){}function Oc(a){this.message=a||""}function Pc(a){this.message=a||""}function Qc(){this.array_=[],arguments[0]instanceof Lc&&this.addAll(arguments[0])}function Rc(){if(Qc.apply(this),0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.ensureCapacity(a.length),this.add(a,!0)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this.ensureCapacity(a.length),this.add(a,b)}}function Sc(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof Ic){var a=arguments[0];this.init(a.x,a.x,a.y,a.y)}else if(arguments[0]instanceof Sc){var b=arguments[0];this.init(b)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];this.init(c.x,d.x,c.y,d.y)}else if(4===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2],h=arguments[3];this.init(e,f,g,h)}}function Tc(){}function Uc(){Tc.call(this,"Projective point not representable on the Cartesian plane.")}function Vc(){}function Wc(){}function Xc(a){this.str=a}function Yc(a){this.value=a}function Zc(){}function $c(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var a=arguments[0];this.init(a)}else if(arguments[0]instanceof $c){var b=arguments[0];this.init(b)}else if("string"==typeof arguments[0]){var c=arguments[0];$c.call(this,$c.parse(c))}}else if(2===arguments.length){var d=arguments[0],e=arguments[1];this.init(d,e)}}function _c(){}function ad(){}function bd(){}function cd(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var a=arguments[0];this.x=a.x,this.y=a.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var b=arguments[0],c=arguments[1];this.x=b,this.y=c,this.w=1}else if(arguments[0]instanceof cd&&arguments[1]instanceof cd){var d=arguments[0],e=arguments[1];this.x=d.y*e.w-e.y*d.w,this.y=e.x*d.w-d.x*e.w,this.w=d.x*e.y-e.x*d.y}else if(arguments[0]instanceof Ic&&arguments[1]instanceof Ic){var d=arguments[0],e=arguments[1];this.x=d.y-e.y,this.y=e.x-d.x,this.w=d.x*e.y-e.x*d.y}}else if(3===arguments.length){var b=arguments[0],c=arguments[1],f=arguments[2];this.x=b,this.y=c,this.w=f}else if(4===arguments.length){var d=arguments[0],e=arguments[1],g=arguments[2],h=arguments[3],i=d.y-e.y,j=e.x-d.x,k=d.x*e.y-e.x*d.y,l=g.y-h.y,m=h.x-g.x,n=g.x*h.y-h.x*g.y;this.x=j*n-m*k,this.y=l*k-i*n,this.w=i*m-l*j}}function dd(){}function ed(){}function fd(){this._envelope=null,this._factory=null,this._SRID=null,this._userData=null;var a=arguments[0];this._factory=a,this._SRID=a.getSRID()}function gd(){}function hd(){}function id(){}function jd(){}function kd(){}function ld(){}function md(){}function nd(){}function od(){}function pd(){}function qd(){}function rd(){}function sd(){this.array_=[],arguments[0]instanceof Lc&&this.addAll(arguments[0])}function td(a){return null==a?Gp:a.color}function ud(a){return null==a?null:a.parent}function vd(a,b){null!==a&&(a.color=b)}function wd(a){return null==a?null:a.left}function xd(a){return null==a?null:a.right}function yd(){this.root_=null,this.size_=0}function zd(){}function Ad(){}function Bd(){this.array_=[],arguments[0]instanceof Lc&&this.addAll(arguments[0])}function Cd(){}function Dd(){}function Ed(){}function Fd(){}function Gd(){this._geometries=null;var a=arguments[0],b=arguments[1];if(fd.call(this,b),null===a&&(a=[]),fd.hasNullElements(a))throw new zc("geometries must not contain null elements");this._geometries=a}function Hd(){var a=arguments[0],b=arguments[1];Gd.call(this,a,b)}function Id(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var a=arguments[0];Id.call(this,a,hd.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this._geom=a,this._geomFact=a.getFactory(),this._bnRule=b}}function Jd(){this.count=null}function Kd(){}function Ld(){}function Md(){}function Nd(){}function Od(){}function Pd(){}function Qd(){}function Rd(){}function Sd(){this._points=null;var a=arguments[0],b=arguments[1];fd.call(this,b),this.init(a)}function Td(){}function Ud(){this._coordinates=null;var a=arguments[0],b=arguments[1];fd.call(this,b),this.init(a)}function Vd(){}function Wd(){this._shell=null,this._holes=null;var a=arguments[0],b=arguments[1],c=arguments[2];if(fd.call(this,c),null===a&&(a=this.getFactory().createLinearRing()),null===b&&(b=[]),fd.hasNullElements(b))throw new zc("holes must not contain null elements");if(a.isEmpty()&&fd.hasNonEmptyElements(b))throw new zc("shell is empty but holes are not");this._shell=a,this._holes=b}function Xd(){var a=arguments[0],b=arguments[1];Gd.call(this,a,b)}function Yd(){if(arguments[0]instanceof Ic&&arguments[1]instanceof xe){var a=arguments[0],b=arguments[1];Yd.call(this,b.getCoordinateSequenceFactory().create(a),b)}else if(Ep(arguments[0],ad)&&arguments[1]instanceof xe){var a=arguments[0],b=arguments[1];Sd.call(this,a,b),this.validateConstruction()}}function Zd(){var a=arguments[0],b=arguments[1];Gd.call(this,a,b)}function $d(){if(this._factory=null,this._isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this._factory=a}}function _d(){}function ae(){}function be(){}function ce(){}function de(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];de.call(this,a,3)}else if(Number.isInteger(arguments[0])){var b=arguments[0];this._coordinates=new Array(b).fill(null);for(var c=0;c<b;c++)this._coordinates[c]=new Ic}else if(Ep(arguments[0],ad)){var d=arguments[0];if(null===d)return this._coordinates=new Array(0).fill(null),null;this._dimension=d.getDimension(),this._coordinates=new Array(d.size()).fill(null);for(var c=0;c<this._coordinates.length;c++)this._coordinates[c]=d.getCoordinateCopy(c)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var a=arguments[0],e=arguments[1];this._coordinates=a,this._dimension=e,null===a&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var b=arguments[0],e=arguments[1];this._coordinates=new Array(b).fill(null),this._dimension=e;for(var c=0;c<b;c++)this._coordinates[c]=new Ic}}function ee(){}function fe(a,b){return a===b||a!==a&&b!==b}function ge(a,b){function c(a){if(!this||this.constructor!==c)return new c(a);this._keys=[],this._values=[],this._itp=[],this.objectOnly=b,a&&he.call(this,a)}return b||Kp(a,"size",{get:se}),a.constructor=c,c.prototype=a,c}function he(a){this.add?a.forEach(this.add,this):a.forEach(function(a){this.set(a[0],a[1])},this)}function ie(a){return this.has(a)&&(this._keys.splice(Jp,1),this._values.splice(Jp,1),this._itp.forEach(function(a){Jp<a[0]&&a[0]--})),Jp>-1}function je(a){return this.has(a)?this._values[Jp]:void 0}function ke(a,b){if(this.objectOnly&&b!==Object(b))throw new TypeError("Invalid value used as weak collection key");if(b!==b||0===b)for(Jp=a.length;Jp--&&!fe(a[Jp],b););else Jp=a.indexOf(b);return Jp>-1}function le(a){return ke.call(this,this._keys,a)}function me(a,b){return this.has(a)?this._values[Jp]=b:this._values[this._keys.push(a)-1]=b,this}function ne(){(this._keys||0).length=this._values.length=0}function oe(){return re(this._itp,this._keys)}function pe(){return re(this._itp,this._values)}function qe(){return re(this._itp,this._keys,this._values)}function re(a,b,c){var d=[0],e=!1;return a.push(d),{next:function(){var f,g=d[0];return!e&&g<b.length?(f=c?[b[g],c[g]]:b[g],d[0]++):(e=!0,a.splice(a.indexOf(d),1)),{done:e,value:f}}}}function se(){return this._values.length}function te(a,b){for(var c=this.entries();;){var d=c.next();if(d.done)break;a.call(b,d.value[1],d.value[0],this)}}function ue(){this.map_=new Mp}function ve(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=ve.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof we){var a=arguments[0];this._modelType=a,a===ve.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var b=arguments[0];this._modelType=ve.FIXED,this.setScale(b)}else if(arguments[0]instanceof ve){var c=arguments[0];this._modelType=c._modelType,this._scale=c._scale}}function we(){this._name=null;var a=arguments[0];this._name=a,we.nameToTypeMap.put(a,this)}function xe(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,0===arguments.length)xe.call(this,new ve,0);else if(1===arguments.length){if(Ep(arguments[0],dd)){var a=arguments[0];xe.call(this,new ve,0,a)}else if(arguments[0]instanceof ve){var b=arguments[0];xe.call(this,b,0,xe.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var b=arguments[0],c=arguments[1];xe.call(this,b,c,xe.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var b=arguments[0],c=arguments[1],a=arguments[2];this._precisionModel=b,this._coordinateSequenceFactory=a,this._SRID=c}}function ye(a){this.geometryFactory=a||new xe}function ze(a){this.parser=new ye(a)}function Ae(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Ic,this._intPt[1]=new Ic,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}function Be(){Ae.apply(this)}function Ce(){}function De(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var a=arguments[0];this._p=a}function Ee(){}function Fe(){if(this.p0=null,this.p1=null,0===arguments.length)Fe.call(this,new Ic,new Ic);else if(1===arguments.length){var a=arguments[0];Fe.call(this,a.p0,a.p1)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.p0=b,this.p1=c}else if(4===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2],g=arguments[3];Fe.call(this,new Ic(d,e),new Ic(f,g))}}function Ge(){if(this._matrix=null,0===arguments.length)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(Dd.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var a=arguments[0];Ge.call(this),this.set(a)}else if(arguments[0]instanceof Ge){var b=arguments[0];Ge.call(this),this._matrix[Vc.INTERIOR][Vc.INTERIOR]=b._matrix[Vc.INTERIOR][Vc.INTERIOR],this._matrix[Vc.INTERIOR][Vc.BOUNDARY]=b._matrix[Vc.INTERIOR][Vc.BOUNDARY],this._matrix[Vc.INTERIOR][Vc.EXTERIOR]=b._matrix[Vc.INTERIOR][Vc.EXTERIOR],this._matrix[Vc.BOUNDARY][Vc.INTERIOR]=b._matrix[Vc.BOUNDARY][Vc.INTERIOR],this._matrix[Vc.BOUNDARY][Vc.BOUNDARY]=b._matrix[Vc.BOUNDARY][Vc.BOUNDARY],this._matrix[Vc.BOUNDARY][Vc.EXTERIOR]=b._matrix[Vc.BOUNDARY][Vc.EXTERIOR],this._matrix[Vc.EXTERIOR][Vc.INTERIOR]=b._matrix[Vc.EXTERIOR][Vc.INTERIOR],this._matrix[Vc.EXTERIOR][Vc.BOUNDARY]=b._matrix[Vc.EXTERIOR][Vc.BOUNDARY],this._matrix[Vc.EXTERIOR][Vc.EXTERIOR]=b._matrix[Vc.EXTERIOR][Vc.EXTERIOR]}}function He(){this._areaBasePt=null,this._triangleCent3=new Ic,this._areasum2=0,this._cg3=new Ic,this._lineCentSum=new Ic,this._totalLength=0,this._ptCount=0,this._ptCentSum=new Ic;var a=arguments[0];this._areaBasePt=null,this.add(a)}function Ie(a){this.message=a||""}function Je(){this.array_=[]}function Ke(){this.treeSet=new Bd,this.list=new Qc}function Le(){if(this._geomFactory=null,this._inputPts=null,1===arguments.length){var a=arguments[0];Le.call(this,Le.extractCoordinates(a),a.getFactory())}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this._inputPts=Ke.filterCoordinates(b),this._geomFactory=c}}function Me(){this._origin=null;var a=arguments[0];this._origin=a}function Ne(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1}function Oe(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Fe,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Sd&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1];Oe.call(this,a.getCoordinates(),b)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var c=arguments[0],b=arguments[1];this._srcPts=c,this._isClosed=Oe.isClosed(c),this._snapTolerance=b}}function Pe(){this._srcGeom=null;var a=arguments[0];this._srcGeom=a}function Qe(){if(Ne.apply(this),this._snapTolerance=null,this._snapPts=null,this._isSelfSnap=!1,2===arguments.length){var a=arguments[0],b=arguments[1];this._snapTolerance=a,this._snapPts=b}else if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];this._snapTolerance=a,this._snapPts=b,this._isSelfSnap=c}}function Re(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null}function Se(){this._commonCoord=null,this._ccFilter=new Te}function Te(){this._commonBitsX=new Re,this._commonBitsY=new Re}function Ue(){this.trans=null;var a=arguments[0];this.trans=a}function Ve(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var a=arguments[0];this._parent=a,this._atStart=!0,this._index=0,this._max=a.getNumGeometries()}function We(){if(this._boundaryRule=hd.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var a=arguments[0];if(null===a)throw new zc("Rule must be non-null");this._boundaryRule=a}}function Xe(){}function Ye(){}function Ze(){this._pts=null,this._data=null;var a=arguments[0],b=arguments[1];this._pts=a,this._data=b}function $e(){}function _e(){this._bounds=null,this._item=null;var a=arguments[0],b=arguments[1];this._bounds=a,this._item=b}function af(){this._size=null,this._items=null,this._size=0,this._items=new Qc,this._items.add(null)}function bf(){}function cf(){}function df(){if(this._childBoundables=new Qc,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this._level=a}}function ef(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var a=arguments[0],b=arguments[1],c=arguments[2];this._boundable1=a,this._boundable2=b,this._itemDistance=c,this._distance=this.distance()}function ff(){if(this._root=null,this._built=!1,this._itemBoundables=new Qc,this._nodeCapacity=null,0===arguments.length)ff.call(this,ff.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var a=arguments[0];Hc.isTrue(a>1,"Node capacity must be greater than 1"),this._nodeCapacity=a}}function gf(){}function hf(){}function jf(){if(0===arguments.length)jf.call(this,jf.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var a=arguments[0];ff.call(this,a)}}function kf(){var a=arguments[0];df.call(this,a)}function lf(){}function mf(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];this._segString=a,this.coord=new Ic(b),this.segmentIndex=c,this._segmentOctant=d,this._isInterior=!b.equals2D(a.getCoordinate(c))}function nf(){this._nodeMap=new yd,this._edge=null;var a=arguments[0];this._edge=a}function of(){this._nodeList=null,this._edge=null,this._nodeIt=null,this._currNode=null,this._nextNode=null,this._currSegIndex=0;var a=arguments[0];this._nodeList=a,this._edge=a.getEdge(),this._nodeIt=a.iterator(),this.readNextNode()}function pf(){}function qf(){this._nodeList=new nf(this),this._pts=null,this._data=null;var a=arguments[0],b=arguments[1];this._pts=a,this._data=b}function rf(){this.tempEnv1=new Sc,this.tempEnv2=new Sc,this._overlapSeg1=new Fe,this._overlapSeg2=new Fe}function sf(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];this._pts=a,this._start=b,this._end=c,this._context=d}function tf(){}function uf(){}function vf(){}function wf(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.setSegmentIntersector(a)}}function xf(){if(this._monoChains=new Qc,this._index=new jf,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,0===arguments.length);else if(1===arguments.length){var a=arguments[0];wf.call(this,a)}}function yf(){rf.apply(this),this._si=null;var a=arguments[0];this._si=a}function zf(){if(this.pt=null,1===arguments.length){var a=arguments[0];Fc.call(this,a)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];Fc.call(this,zf.msgWithCoord(a,b)),this.name="TopologyException",this.pt=new Ic(b)}}function Af(){}function Bf(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Qc,this._intersectionCount=0,this._keepIntersections=!0;var a=arguments[0];this._li=a,this._interiorIntersection=null}function Cf(){this._li=new Be,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var a=arguments[0];this._segStrings=a}function Df(){this._nv=null;var a=arguments[0];this._nv=new Cf(Df.toSegmentStrings(a))}function Ef(){this._mapOp=null;var a=arguments[0];this._mapOp=a}function Ff(){}function Gf(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];this.init(a.length)}else if(Number.isInteger(arguments[0])){var b=arguments[0];this.init(1),this.location[Ff.ON]=b}else if(arguments[0]instanceof Gf){var c=arguments[0];if(this.init(c.location.length),null!==c)for(var d=0;d<this.location.length;d++)this.location[d]=c.location[d]}}else if(3===arguments.length){var b=arguments[0],e=arguments[1],f=arguments[2];this.init(3),this.location[Ff.ON]=b,this.location[Ff.LEFT]=e,this.location[Ff.RIGHT]=f}}function Hf(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var a=arguments[0];this.elt[0]=new Gf(a),this.elt[1]=new Gf(a)}else if(arguments[0]instanceof Hf){var b=arguments[0];this.elt[0]=new Gf(b.elt[0]),this.elt[1]=new Gf(b.elt[1])}}else if(2===arguments.length){var c=arguments[0],a=arguments[1];this.elt[0]=new Gf(Vc.NONE),this.elt[1]=new Gf(Vc.NONE),this.elt[c].setLocation(a)}else if(3===arguments.length){var a=arguments[0],d=arguments[1],e=arguments[2];this.elt[0]=new Gf(a,d,e),this.elt[1]=new Gf(a,d,e)}else if(4===arguments.length){var c=arguments[0],a=arguments[1],d=arguments[2],e=arguments[3];this.elt[0]=new Gf(Vc.NONE,Vc.NONE,Vc.NONE),this.elt[1]=new Gf(Vc.NONE,Vc.NONE,Vc.NONE),this.elt[c].setLocations(a,d,e)}}function If(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Qc,this._pts=new Qc,this._label=new Hf(Vc.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Qc,this._geometryFactory=null;var a=arguments[0],b=arguments[1];this._geometryFactory=b,this.computePoints(a),this.computeRing()}function Jf(){var a=arguments[0],b=arguments[1];If.call(this,a,b)}function Kf(){var a=arguments[0],b=arguments[1];If.call(this,a,b)}function Lf(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this._label=a}}function Mf(){Lf.apply(this),this._coord=null,this._edges=null;var a=arguments[0],b=arguments[1];this._coord=a,this._edges=b,this._label=new Hf(0,Vc.NONE)}function Nf(){this.nodeMap=new yd,this.nodeFact=null;var a=arguments[0];this.nodeFact=a}function Of(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var a=arguments[0];this._edge=a}else if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];Of.call(this,a,b,c,null)}else if(4===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];Of.call(this,a),this.init(b,c),this._label=d}}function Pf(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var a=arguments[0],b=arguments[1];if(Of.call(this,a),this._isForward=b,b)this.init(a.getCoordinate(0),a.getCoordinate(1));else{var c=a.getNumPoints()-1;this.init(a.getCoordinate(c),a.getCoordinate(c-1))}this.computeDirectedLabel()}function Qf(){}function Rf(){if(this._edges=new Qc,this._nodes=null,this._edgeEndList=new Qc,0===arguments.length)this._nodes=new Nf(new Qf);else if(1===arguments.length){var a=arguments[0];this._nodes=new Nf(a)}}function Sf(){this._geometryFactory=null,this._shellList=new Qc;var a=arguments[0];this._geometryFactory=a}function Tf(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Qc,this._resultLineList=new Qc;var a=arguments[0],b=arguments[1],c=arguments[2];this._op=a,this._geometryFactory=b,this._ptLocator=c}function Uf(){this._op=null,this._geometryFactory=null,this._resultPointList=new Qc;var a=arguments[0],b=arguments[1];this._op=a,this._geometryFactory=b}function Vf(){}function Wf(){this._geom=null;var a=arguments[0];this._geom=a}function Xf(){this._edgeMap=new yd,this._edgeList=null,this._ptInAreaLocation=[Vc.NONE,Vc.NONE]}function Yf(){Xf.apply(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}function Zf(){Qf.apply(this)}function $f(){this.mce=null,this.chainIndex=null;var a=arguments[0],b=arguments[1];this.mce=a,this.chainIndex=b}function _f(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var a=arguments[0],b=arguments[1];this._eventType=_f.DELETE,this._xValue=a,this._insertEvent=b}else if(3===arguments.length){var c=arguments[0],a=arguments[1],d=arguments[2];this._eventType=_f.INSERT,this._label=c,this._xValue=a,this._obj=d}}function ag(){}function bg(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var a=arguments[0],b=arguments[1],c=arguments[2];this._li=a,this._includeProper=b,this._recordIsolated=c}function cg(){ag.apply(this),this.events=new Qc,this.nOverlaps=null}function dg(){this._min=Ac.POSITIVE_INFINITY,this._max=Ac.NEGATIVE_INFINITY}function eg(){}function fg(){dg.apply(this),this._item=null;var a=arguments[0],b=arguments[1],c=arguments[2];this._min=a,this._max=b,this._item=c}function gg(){dg.apply(this),this._node1=null,this._node2=null;var a=arguments[0],b=arguments[1];this._node1=a,this._node2=b,this.buildExtent(this._node1,this._node2)}function hg(){this._leaves=new Qc,this._root=null,this._level=0}function ig(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var a=arguments[0];this._lines=a}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this._lines=a,this._isForcedToLineString=b}}function jg(){this._items=new Qc}function kg(){this._index=null;var a=arguments[0];if(!Ep(a,Vd))throw new zc("Argument must be Polygonal");this._index=new mg(a)}function lg(){this._counter=null;var a=arguments[0];this._counter=a}function mg(){this._index=new hg;var a=arguments[0];this.init(a)}function ng(){this.coord=null,this.segmentIndex=null,this.dist=null;var a=arguments[0],b=arguments[1],c=arguments[2];this.coord=new Ic(a),this.segmentIndex=b,this.dist=c}function og(){this._nodeMap=new yd,this.edge=null;var a=arguments[0];this.edge=a}function pg(){}function qg(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Sc,this.env2=new Sc;var a=arguments[0];this.e=a,this.pts=a.getCoordinates();var b=new pg;this.startIndex=b.getChainStartIndices(this.pts)}function rg(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var a=0;a<2;a++)for(var b=0;b<3;b++)this._depth[a][b]=rg.NULL_VALUE}function sg(){if(Lf.apply(this),this.pts=null,this._env=null,this.eiList=new og(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new rg,this._depthDelta=0,1===arguments.length){var a=arguments[0];sg.call(this,a,null)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this.pts=a,this._label=b}}function tg(){if(Rf.apply(this),this._parentGeom=null,this._lineEdgeMap=new ue,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new We,2===arguments.length){var a=arguments[0],b=arguments[1];tg.call(this,a,b,hd.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];this._argIndex=a,this._parentGeom=b,this._boundaryNodeRule=c,null!==b&&this.add(b)}}function ug(){if(this._li=new Be,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var a=arguments[0];this.setComputationPrecision(a.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new tg(0,a)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];ug.call(this,a,b,hd.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];a.getPrecisionModel().compareTo(b.getPrecisionModel())>=0?this.setComputationPrecision(a.getPrecisionModel()):this.setComputationPrecision(b.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new tg(0,a,c),this._arg[1]=new tg(1,b,c)}}function vg(){this._pts=null,this._orientation=null;var a=arguments[0];this._pts=a,this._orientation=vg.orientation(a)}function wg(){this._edges=new Qc,this._ocaMap=new yd}function xg(){this._ptLocator=new We,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new wg,this._resultPolyList=new Qc,this._resultLineList=new Qc,this._resultPointList=new Qc;var a=arguments[0],b=arguments[1];ug.call(this,a,b),this._graph=new Rf(new Zf),this._geomFact=a.getFactory()}function yg(){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null;var a=arguments[0],b=arguments[1];this._geom[0]=a,this._geom[1]=b,this.computeSnapTolerance()}function zg(){this._geom=new Array(2).fill(null);var a=arguments[0],b=arguments[1];this._geom[0]=a,this._geom[1]=b}function Ag(){this._factory=null,this._interiorPoint=null,this._maxWidth=0;var a=arguments[0];this._factory=a.getFactory(),this.add(a)}function Bg(){this._poly=null,this._centreY=null,this._hiY=Ac.MAX_VALUE,this._loY=-Ac.MAX_VALUE;var a=arguments[0];this._poly=a,this._hiY=a.getEnvelopeInternal().getMaxY(),this._loY=a.getEnvelopeInternal().getMinY(),this._centreY=Ag.avg(this._loY,this._hiY)}function Cg(){this._centroid=null,this._minDistance=Ac.MAX_VALUE,this._interiorPoint=null;var a=arguments[0];this._centroid=a.getCentroid().getCoordinate(),this.addInterior(a),null===this._interiorPoint&&this.addEndpoints(a)}function Dg(){this._centroid=null,this._minDistance=Ac.MAX_VALUE,this._interiorPoint=null;var a=arguments[0];this._centroid=a.getCentroid().getCoordinate(),this.add(a)}function Eg(){this.tempEnv1=new Sc,this.selectedSegment=new Fe}function Fg(){this._items=new Qc,this._subnode=[null,null]}function Gg(){if(this.min=null,this.max=null,0===arguments.length)this.min=0,this.max=0;else if(1===arguments.length){var a=arguments[0];this.init(a.min,a.max)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.init(b,c)}}function Hg(){}function Ig(a,b){var c,d,e,f,g={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}},h={32:8,64:11}[a];if(f||(c=b<0||1/b<0,isFinite(b)||(f=g[a],c&&(f.d+=1<<a/4-1),d=Math.pow(2,h)-1,e=0)),!f){for(d={32:127,64:1023}[a],e=Math.abs(b);e>=2;)d++,e/=2;for(;e<1&&d>0;)d--,e*=2;d<=0&&(e/=2),32===a&&d>254&&(f={d:c?255:127,c:128,b:0,a:0},d=Math.pow(2,h)-1,e=0)}return d}function Jg(){this._pt=0,this._level=0,this._interval=null;var a=arguments[0];this.computeKey(a)}function Kg(){Fg.apply(this),this._interval=null,this._centre=null,this._level=null;var a=arguments[0],b=arguments[1];this._interval=a,this._level=b,this._centre=(a.getMin()+a.getMax())/2}function Lg(){}function Mg(){Fg.apply(this)}function Ng(){this._root=null,this._minExtent=1,this._root=new Mg}function Og(){}function Pg(){this._ring=null,this._tree=null,this._crossings=0,this._interval=new Gg;var a=arguments[0];this._ring=a,this.buildIndex()}function Qg(){Eg.apply(this),this.mcp=null,this.p=null;var a=arguments[0],b=arguments[1];this.mcp=a,this.p=b}function Rg(){}function Sg(){this.p0=null,this.p1=null,this.p2=null;var a=arguments[0],b=arguments[1],c=arguments[2];this.p0=a,this.p1=b,this.p2=c}function Tg(){this._input=null,this._extremalPts=null,this._centre=null,this._radius=0;var a=arguments[0];this._input=a}function Ug(){if(this._inputGeom=null,this._isConvex=null,this._convexHullPts=null,this._minBaseSeg=new Fe,this._minWidthPt=null,this._minPtIndex=null,this._minWidth=0,1===arguments.length){var a=arguments[0];Ug.call(this,a,!1)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this._inputGeom=a,this._isConvex=b}}function Vg(){this._inputGeom=null,this._distanceTolerance=null;var a=arguments[0];this._inputGeom=a}function Wg(){Ne.apply(this),this.distanceTolerance=null;var a=arguments[0];this.distanceTolerance=a}function Xg(){this._orig=null,this._sym=null,this._next=null;var a=arguments[0];this._orig=a}function Yg(){this._isMarked=!1;var a=arguments[0];Xg.call(this,a)}function Zg(){this._vertexMap=new ue}function $g(){this._isStart=!1;var a=arguments[0];Yg.call(this,a)}function _g(){Zg.apply(this)}function ah(){this._result=null,this._factory=null,this._graph=null,this._lines=new Qc,this._nodeEdgeStack=new Je,this._ringStartEdge=null,this._graph=new _g}function bh(){this._items=new Qc,this._subnode=new Array(4).fill(null)}function ch(){this._pt=new Ic,this._level=0,this._env=null;var a=arguments[0];this.computeKey(a)}function dh(){bh.apply(this),this._env=null,this._centrex=null,this._centrey=null,this._level=null;var a=arguments[0],b=arguments[1];this._env=a,this._level=b,this._centrex=(a.getMinX()+a.getMaxX())/2,this._centrey=(a.getMinY()+a.getMaxY())/2}function eh(){bh.apply(this)}function fh(){this._root=null,this._minExtent=1,this._root=new eh}function gh(a){this.geometryFactory=a||new xe}function hh(a){this.geometryFactory=a||new xe,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new gh(this.geometryFactory)}function ih(){this.parser=new gh(this.geometryFactory)}function jh(a){this.geometryFactory=a||new xe,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new ye(this.geometryFactory)}function kh(a){return[a.x,a.y]}function lh(a,b){this.geometryFactory=a||new xe,this.ol=b||"undefined"!=typeof ol&&ol}function mh(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var a=arguments[0],b=arguments[1];mh.call(this,a,b,0,0)}else if(4===arguments.length){var a=arguments[0],b=arguments[1];this._noder=a,this._scaleFactor=b,this._isScaled=!this.isIntegerPrecision()}}function nh(){if(this._inputGeom=null,this._isClosedEndpointsInInterior=!0,this._nonSimpleLocation=null,1===arguments.length){var a=arguments[0];this._inputGeom=a}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this._inputGeom=a,this._isClosedEndpointsInInterior=!b.isInBoundary(2)}}function oh(){this.pt=null,this.isClosed=null,this.degree=null;var a=arguments[0];this.pt=a,this.isClosed=!1,this.degree=0}function ph(){if(this._quadrantSegments=ph.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=ph.CAP_ROUND,this._joinStyle=ph.JOIN_ROUND,this._mitreLimit=ph.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=ph.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.setQuadrantSegments(a)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this.setQuadrantSegments(a),this.setEndCapStyle(b)}else if(4===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];this.setQuadrantSegments(a),this.setEndCapStyle(b),this.setJoinStyle(c),this.setMitreLimit(d)}}function qh(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}function rh(){this.array_=[]}function sh(){this._finder=null,this._dirEdgeList=new Qc,this._nodes=new Qc,this._rightMostCoord=null,this._env=null,this._finder=new qh}function th(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Ee.COUNTERCLOCKWISE;var a=arguments[0];this._inputLine=a}function uh(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Qc}function vh(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Fe,this._seg1=new Fe,this._offset0=new Fe,this._offset1=new Fe,this._side=0,this._hasNarrowConcaveAngle=!1;var a=arguments[0],b=arguments[1],c=arguments[2];this._precisionModel=a,this._bufParams=b,this._li=new Be,this._filletAngleQuantum=Math.PI/2/b.getQuadrantSegments(),b.getQuadrantSegments()>=8&&b.getJoinStyle()===ph.JOIN_ROUND&&(this._closingSegLengthFactor=vh.MAX_CLOSING_SEG_LEN_FACTOR),this.init(c)}function wh(){this._distance=0,this._precisionModel=null,this._bufParams=null;var a=arguments[0],b=arguments[1];this._precisionModel=a,this._bufParams=b}function xh(){this._subgraphs=null,this._seg=new Fe,this._cga=new Ee;var a=arguments[0];this._subgraphs=a}function yh(){this._upwardSeg=null,this._leftDepth=null;var a=arguments[0],b=arguments[1];this._upwardSeg=new Fe(a),this._leftDepth=b}function zh(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Qc;var a=arguments[0],b=arguments[1],c=arguments[2];this._inputGeom=a,this._distance=b,this._curveBuilder=c}function Ah(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var a=arguments[0];this._li=a}function Bh(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new wg;var a=arguments[0];this._bufParams=a}function Ch(){this._li=new Be,this._segStrings=null;var a=arguments[0];this._segStrings=a}function Dh(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var a=arguments[0],b=arguments[1],c=arguments[2];if(this._originalPt=a,this._pt=a,this._scaleFactor=b,this._li=c,b<=0)throw new zc("Scale factor must be non-zero");1!==b&&(this._pt=new Ic(this.scale(a.x),this.scale(a.y)),this._p0Scaled=new Ic,this._p1Scaled=new Ic),this.initCorners(this._pt)}function Eh(){this._index=null;var a=arguments[0];this._index=a}function Fh(){Eg.apply(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var a=arguments[0],b=arguments[1],c=arguments[2];this._hotPixel=a,this._parentEdge=b,this._hotPixelVertexIndex=c}function Gh(){this._li=null,this._interiorIntersections=null;var a=arguments[0];this._li=a,this._interiorIntersections=new Qc}function Hh(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var a=arguments[0];this._pm=a,this._li=new Be,this._li.setPrecisionModel(a),this._scaleFactor=a.getScale()}function Ih(){if(this._argGeom=null,this._distance=null,this._bufParams=new ph,this._resultGeometry=null,this._saveException=null,1===arguments.length){var a=arguments[0];this._argGeom=a}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this._argGeom=a,this._bufParams=b}}function Jh(){this._comps=null;var a=arguments[0];this._comps=a}function Kh(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var a=arguments[0],b=arguments[1];Kh.call(this,a,Kh.INSIDE_AREA,b)}else if(3===arguments.length){var a=arguments[0],c=arguments[1],b=arguments[2];this._component=a,this._segIndex=c,this._pt=b}}function Lh(){this._pts=null;var a=arguments[0];this._pts=a}function Mh(){this._locations=null;var a=arguments[0];this._locations=a}function Nh(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new We,this._minDistanceLocation=null,this._minDistance=Ac.MAX_VALUE,2===arguments.length){var a=arguments[0],b=arguments[1];Nh.call(this,a,b,0)}else if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=a,this._geom[1]=b,this._terminateDistance=c}}function Oh(){this._factory=null,this._directedEdges=new Qc,this._coordinates=null;var a=arguments[0];this._factory=a}function Ph(){this._isMarked=!1,this._isVisited=!1,this._data=null}function Qh(){Ph.apply(this),this._parentEdge=null,this._from=null,this._to=null,this._p0=null,this._p1=null,this._sym=null,this._edgeDirection=null,this._quadrant=null,this._angle=null;var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];this._from=a,this._to=b,this._edgeDirection=d,this._p0=a.getCoordinate(),this._p1=c;var e=this._p1.x-this._p0.x,f=this._p1.y-this._p0.y;this._quadrant=tf.quadrant(e,f),this._angle=Math.atan2(f,e)}function Rh(){var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];Qh.call(this,a,b,c,d)}function Sh(){if(Ph.apply(this),this._dirEdge=null,0===arguments.length);else if(2===arguments.length){var a=arguments[0],b=arguments[1];this.setDirectedEdges(a,b)}}function Th(){this._outEdges=new Qc,this._sorted=!1}function Uh(){if(Ph.apply(this),this._pt=null,this._deStar=null,1===arguments.length){var a=arguments[0];Uh.call(this,a,new Th)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this._pt=a,this._deStar=b}}function Vh(){Sh.apply(this),this._line=null;var a=arguments[0];this._line=a}function Wh(){this._nodeMap=new yd}function Xh(){this._edges=new sd,this._dirEdges=new sd,this._nodeMap=new Wh}function Yh(){Xh.apply(this)}function Zh(){this._graph=new Yh,this._mergedLineStrings=null,this._factory=null,this._edgeStrings=null}function $h(){this._edgeRing=null,this._next=null,this._label=-1;var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];Qh.call(this,a,b,c,d)}function _h(){Sh.apply(this),this._line=null;var a=arguments[0];this._line=a}function ai(){this._geometryFactory=new xe,this._geomGraph=null,this._disconnectedRingcoord=null;var a=arguments[0];this._geomGraph=a}function bi(){}function ci(){if(this._edgeEnds=new Qc,1===arguments.length){var a=arguments[0];ci.call(this,null,a)}else if(2===arguments.length){var a=(arguments[0],arguments[1]);Of.call(this,a.getEdge(),a.getCoordinate(),a.getDirectedCoordinate(),new Hf(a.getLabel())),this.insert(a)}}function di(){Xf.apply(this)}function ei(){var a=arguments[0],b=arguments[1];Mf.call(this,a,b)}function fi(){Qf.apply(this)}function gi(){this._nodes=new Nf(new fi)}function hi(){this._li=new Be,this._geomGraph=null,this._nodeGraph=new gi,this._invalidPoint=null;var a=arguments[0];this._geomGraph=a}function ii(){this._graph=null,this._rings=new Qc,this._totalEnv=new Sc,this._index=null,this._nestedPt=null;var a=arguments[0];this._graph=a}function ji(){if(this._errorType=null,this._pt=null,1===arguments.length){var a=arguments[0];ji.call(this,a,null)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this._errorType=a,null!==b&&(this._pt=b.copy())}}function ki(){this._parentGeometry=null,this._isSelfTouchingRingFormingHoleValid=!1,this._validErr=null;var a=arguments[0];this._parentGeometry=a}function li(){this._factory=null,this._deList=new Qc,this._lowestEdge=null,this._ring=null,this._ringPts=null,this._holes=null,this._shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;var a=arguments[0];this._factory=a}function mi(){}function ni(){Xh.apply(this),this._factory=null;var a=arguments[0];this._factory=a}function oi(){if(this._lineStringAdder=new pi(this),this._graph=null,this._dangles=new Qc,this._cutEdges=new Qc,this._invalidRingLines=new Qc,this._holeList=null,this._shellList=null,this._polyList=null,this._isCheckingRingsValid=!0,this._extractOnlyPolygonal=null,this._geomFactory=null,0===arguments.length)oi.call(this,!1);else if(1===arguments.length){var a=arguments[0];this._extractOnlyPolygonal=a}}function pi(){this.p=null;var a=arguments[0];this.p=a}function qi(){this._li=new Be,this._ptLocator=new We,this._arg=null,this._nodes=new Nf(new fi),this._im=null,this._isolatedEdges=new Qc,this._invalidPoint=null;var a=arguments[0];this._arg=a}function ri(){this._rectEnv=null;var a=arguments[0];this._rectEnv=a.getEnvelopeInternal()}function si(){this._li=new Be,this._rectEnv=null,this._diagUp0=null,this._diagUp1=null,this._diagDown0=null,this._diagDown1=null;var a=arguments[0];this._rectEnv=a,this._diagUp0=new Ic(a.getMinX(),a.getMinY()),this._diagUp1=new Ic(a.getMaxX(),a.getMaxY()),this._diagDown0=new Ic(a.getMinX(),a.getMaxY()),this._diagDown1=new Ic(a.getMaxX(),a.getMinY())}function ti(){this._isDone=!1}function ui(){this._rectangle=null,this._rectEnv=null;var a=arguments[0];this._rectangle=a,this._rectEnv=a.getEnvelopeInternal()}function vi(){ti.apply(this),this._rectEnv=null,this._intersects=!1;var a=arguments[0];this._rectEnv=a}function wi(){ti.apply(this),this._rectSeq=null,this._rectEnv=null,this._containsPoint=!1;var a=arguments[0];this._rectSeq=a.getExteriorRing().getCoordinateSequence(),this._rectEnv=a.getEnvelopeInternal()}function xi(){ti.apply(this),this._rectEnv=null,this._rectIntersector=null,this._hasIntersection=!1,this._p0=new Ic,this._p1=new Ic;var a=arguments[0];this._rectEnv=a.getEnvelopeInternal(),this._rectIntersector=new si(this._rectEnv)}function yi(){if(this._relate=null,2===arguments.length){var a=arguments[0],b=arguments[1];ug.call(this,a,b),this._relate=new qi(this._arg)}else if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];ug.call(this,a,b,c),this._relate=new qi(this._arg)}}function zi(){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null;var a=arguments[0];this._geomFactory=zi.extractFactory(a),this._inputGeoms=a}function Ai(){this._inputPolys=null,this._geomFactory=null;var a=arguments[0];this._inputPolys=a,null===this._inputPolys&&(this._inputPolys=new Qc)}function Bi(){this._pointGeom=null,this._otherGeom=null,this._geomFact=null;var a=arguments[0],b=arguments[1];this._pointGeom=a,this._otherGeom=b,this._geomFact=b.getFactory()}function Ci(){this._sortIndex=-1,this._comps=null;var a=arguments[0],b=arguments[1];this._sortIndex=a,this._comps=b}function Di(){if(this._polygons=new Qc,this._lines=new Qc,this._points=new Qc,this._geomFact=null,1===arguments.length){if(Ep(arguments[0],Lc)){var a=arguments[0];this.extract(a)}else if(arguments[0]instanceof fd){var b=arguments[0];this.extract(b)}}else if(2===arguments.length){var a=arguments[0],c=arguments[1];this._geomFact=c,this.extract(a)}}function Ei(){this._geomFactory=null,this._g0=null,this._g1=null,this._interacts0=null,this._interacts1=null;var a=arguments[0],b=arguments[1];this._g0=a,this._g1=b,this._geomFactory=a.getFactory(),this._interacts0=new Array(a.getNumGeometries()).fill(null),this._interacts1=new Array(b.getNumGeometries()).fill(null)}function Fi(){}function Gi(){$d.CoordinateOperation.apply(this),this._targetPM=null,this._removeCollapsed=!0;var a=arguments[0],b=arguments[1];this._targetPM=a,this._removeCollapsed=b}function Hi(){this._targetPM=null,this._removeCollapsed=!0,this._changePrecisionModel=!1,this._isPointwise=!1;var a=arguments[0];this._targetPM=a}function Ii(){this._pts=null,this._usePt=null,this._distanceTolerance=null,this._seg=new Fe;var a=arguments[0];this._pts=a}function Ji(){this._inputGeom=null,this._distanceTolerance=null,this._isEnsureValidTopology=!0;var a=arguments[0];this._inputGeom=a}function Ki(){Ne.apply(this),this._isEnsureValidTopology=!0,this._distanceTolerance=null;var a=arguments[0],b=arguments[1];this._isEnsureValidTopology=a,this._distanceTolerance=b}function Li(){if(this._parent=null,this._index=null,2===arguments.length){var a=arguments[0],b=arguments[1];Li.call(this,a,b,null,-1)}else if(4===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];Fe.call(this,a,b),this._parent=c,this._index=d}}function Mi(){if(this._parentLine=null,this._segs=null,this._resultSegs=new Qc,this._minimumSize=null,1===arguments.length){var a=arguments[0];Mi.call(this,a,2)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];this._parentLine=a,this._minimumSize=b,this.init()}}function Ni(){this._index=new fh}function Oi(){this._querySeg=null,this._items=new Qc;var a=arguments[0];this._querySeg=a}function Pi(){this._li=new Be,this._inputIndex=new Ni,this._outputIndex=new Ni,this._line=null,this._linePts=null,this._distanceTolerance=0;var a=arguments[0],b=arguments[1];this._inputIndex=a,this._outputIndex=b}function Qi(){this._inputIndex=new Ni,this._outputIndex=new Ni,this._distanceTolerance=0}function Ri(){this._inputGeom=null,this._lineSimplifier=new Qi,this._linestringMap=null;var a=arguments[0];this._inputGeom=a}function Si(){Ne.apply(this),this._linestringMap=null;var a=arguments[0];this._linestringMap=a}function Ti(){this.tps=null;var a=arguments[0];this.tps=a}function Ui(){this._seg=null,this._segLen=null,this._splitPt=null,this._minimumLen=0;var a=arguments[0];this._seg=a,this._segLen=a.getLength()}function Vi(){}function Wi(){}function Xi(){}function Yi(){if(this._p=null,1===arguments.length){var a=arguments[0];this._p=new Ic(a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this._p=new Ic(b,c)}else if(3===arguments.length){var b=arguments[0],c=arguments[1],d=arguments[2];this._p=new Ic(b,c,d)}}function Zi(){this._isOnConstraint=null,this._constraint=null;var a=arguments[0];Yi.call(this,a)}function $i(){this._rot=null,this._vertex=null,this._next=null,this._data=null}function _i(){this._subdiv=null,this._isUsingTolerance=!1;var a=arguments[0];this._subdiv=a,this._isUsingTolerance=a.getTolerance()>0}function aj(){}function bj(){this._subdiv=null,this._lastEdge=null;var a=arguments[0];this._subdiv=a,this.init()}function cj(){if(this._seg=null,1===arguments.length){if("string"==typeof arguments[0]){var a=arguments[0];Fc.call(this,a)}else if(arguments[0]instanceof Fe){var b=arguments[0];Fc.call(this,"Locate failed to converge (at edge: "+b+").  Possible causes include invalid Subdivision topology or very close sites"),this._seg=new Fe(b)}}else if(2===arguments.length){var a=arguments[0],b=arguments[1];Fc.call(this,cj.msgWithSpatial(a,b)),this._seg=new Fe(b)}}function dj(){}function ej(){this._visitedKey=0,this._quadEdges=new Qc,this._startingEdge=null,this._tolerance=null,this._edgeCoincidenceTolerance=null,this._frameVertex=new Array(3).fill(null),this._frameEnv=null,this._locator=null,this._seg=new Fe,this._triEdges=new Array(3).fill(null);var a=arguments[0],b=arguments[1];this._tolerance=b,this._edgeCoincidenceTolerance=b/ej.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(a),this._startingEdge=this.initSubdiv(),this._locator=new bj(this)}function fj(){}function gj(){this._triList=new Qc}function hj(){this._triList=new Qc}function ij(){this._coordList=new Rc,this._triCoords=new Qc}function jj(){if(this._ls=null,this._data=null,2===arguments.length){var a=arguments[0],b=arguments[1];this._ls=new Fe(a,b)}else if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];this._ls=new Fe(a,b),this._data=c}else if(6===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2],g=arguments[3],h=arguments[4],i=arguments[5];jj.call(this,new Ic(d,e,f),new Ic(g,h,i))}else if(7===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2],g=arguments[3],h=arguments[4],i=arguments[5],c=arguments[6];jj.call(this,new Ic(d,e,f),new Ic(g,h,i),c)}}function kj(){}function lj(){if(this._p=null,this._data=null,this._left=null,this._right=null,this._count=null,2===arguments.length){var a=arguments[0],b=arguments[1];this._p=new Ic(a),this._left=null,this._right=null,this._count=1,this._data=b}else if(3===arguments.length){var c=arguments[0],d=arguments[1],b=arguments[2];this._p=new Ic(c,d),this._left=null,this._right=null,this._count=1,this._data=b}}function mj(){if(this._root=null,this._numberOfNodes=null,this._tolerance=null,0===arguments.length)mj.call(this,0);else if(1===arguments.length){var a=arguments[0];this._tolerance=a}}function nj(){this._tolerance=null,this._matchNode=null,this._matchDist=0,this._p=null;var a=arguments[0],b=arguments[1];this._p=a,this._tolerance=b}function oj(){this._initialVertices=null,this._segVertices=null,this._segments=new Qc,this._subdiv=null,this._incDel=null,this._convexHull=null,this._splitFinder=new Wi,this._kdt=null,this._vertexFactory=null,this._computeAreaEnv=null,this._splitPt=null,this._tolerance=null;var a=arguments[0],b=arguments[1];this._initialVertices=new Qc(a),this._tolerance=b,this._kdt=new mj(b)}function pj(){this._siteCoords=null,this._tolerance=0,this._subdiv=null}function qj(){this._siteCoords=null,this._constraintLines=null,this._tolerance=0,this._subdiv=null,this._constraintVertexMap=new yd}function rj(){this._siteCoords=null,this._tolerance=0,this._subdiv=null,this._clipEnv=null,this._diagramEnv=null}function sj(){if(this._componentIndex=0,this._segmentIndex=0,this._segmentFraction=0,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this._componentIndex=a._componentIndex,this._segmentIndex=a._segmentIndex,this._segmentFraction=a._segmentFraction}else if(2===arguments.length){var b=arguments[0],c=arguments[1];sj.call(this,0,b,c)}else if(3===arguments.length){var d=arguments[0],b=arguments[1],c=arguments[2];this._componentIndex=d,this._segmentIndex=b,this._segmentFraction=c,this.normalize()}else if(4===arguments.length){var d=arguments[0],b=arguments[1],c=arguments[2],e=arguments[3];this._componentIndex=d,this._segmentIndex=b,this._segmentFraction=c,e&&this.normalize()}}function tj(){if(this._linearGeom=null,this._numLines=null,this._currentLine=null,this._componentIndex=0,this._vertexIndex=0,1===arguments.length){var a=arguments[0];tj.call(this,a,0,0)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];tj.call(this,a,b.getComponentIndex(),tj.segmentEndVertexIndex(b))}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];if(!Ep(c,zd))throw new zc("Lineal geometry is required");this._linearGeom=c,this._numLines=c.getNumGeometries(),this._componentIndex=d,this._vertexIndex=e,this.loadCurrentLine()}}function uj(){this._linearGeom=null;var a=arguments[0];this._linearGeom=a}function vj(){this._linearGeom=null;var a=arguments[0];this._linearGeom=a}function wj(){this._geomFact=null,this._lines=new Qc,this._coordList=null,this._ignoreInvalidLines=!1,this._fixInvalidLines=!1,this._lastPt=null;var a=arguments[0];this._geomFact=a}function xj(){this._line=null;var a=arguments[0];this._line=a}function yj(){this._linearGeom=null;var a=arguments[0];this._linearGeom=a,this.checkGeometryType()}function zj(){this._linearGeom=null;var a=arguments[0];this._linearGeom=a}function Aj(){this._linearGeom=null;var a=arguments[0];this._linearGeom=a}function Bj(){this._linearGeom=null;var a=arguments[0];this._linearGeom=a}function Cj(){for(var a=new hh,b=a.read(JSON.stringify(arguments[0].geometry)),c=1;c<arguments.length;c++)b=Fi.union(b,a.read(JSON.stringify(arguments[c].geometry)));return b=(new ih).write(b),{type:"Feature",geometry:b,properties:arguments[0].properties}}function Dj(a,b){return Cj(qb(a),qb(b))}function Ej(a){var b=[1/0,1/0,-1/0,-1/0];return Hb(a,function(a){b[0]>a[0]&&(b[0]=a[0]),b[1]>a[1]&&(b[1]=a[1]),b[2]<a[0]&&(b[2]=a[0]),b[3]<a[1]&&(b[3]=a[1])}),b}function Fj(a,b){var c=Ej(a);return bb([(c[0]+c[2])/2,(c[1]+c[3])/2],b)}function Gj(a,b){return Ij(a,"mercator",b)}function Hj(a,b){return Ij(a,"wgs84",b)}function Ij(a,b,c){if(c=c||{},!mb(c))throw new Error("options is invalid");var d=c.mutate;if(!a)throw new Error("geojson is required");return Array.isArray(a)&&lb(a[0])?a="mercator"===b?Jj(a):Kj(a):(!0!==d&&(a=xb(a)),Hb(a,function(a){var c="mercator"===b?Jj(a):Kj(a);a[0]=c[0],a[1]=c[1]})),a}function Jj(a){var b=Math.PI/180,c=6378137,d=20037508.342789244,e=Math.abs(a[0])<=180?a[0]:a[0]-360*Lj(a[0]),f=[c*e*b,c*Math.log(Math.tan(.25*Math.PI+.5*a[1]*b))];return f[0]>d&&(f[0]=d),f[0]<-d&&(f[0]=-d),f[1]>d&&(f[1]=d),f[1]<-d&&(f[1]=-d),f}function Kj(a){var b=180/Math.PI,c=6378137;return[a[0]*b/c,(.5*Math.PI-2*Math.atan(Math.exp(-a[1]/c)))*b]}function Lj(a){return a<0?-1:a>0?1:0}function Mj(){this.reset()}function Nj(a,b,c){var d=a.s=b+c,e=d-b,f=d-e;a.t=b-f+(c-e)}function Oj(a){return a>1?0:a<-1?Xp:Math.acos(a)}function Pj(a){return a>1?Yp:a<-1?-Yp:Math.asin(a)}function Qj(){}function Rj(a,b){a&&lq.hasOwnProperty(a.type)&&lq[a.type](a,b)}function Sj(a,b,c){var d,e=-1,f=a.length-c;for(b.lineStart();++e<f;)d=a[e],b.point(d[0],d[1],d[2]);b.lineEnd()}function Tj(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)Sj(a[c],b,1);b.polygonEnd()}function Uj(a){return[dq(a[1],a[0]),Pj(a[2])]}function Vj(a){var b=a[0],c=a[1],d=eq(c);return[d*eq(b),d*hq(b),hq(c)]}function Wj(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Xj(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Yj(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function Zj(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function $j(a){var b=iq(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}function _j(a,b){return[a>Xp?a-$p:a<-Xp?a+$p:a,b]}function ak(a,b,c){return(a%=$p)?b||c?nq(ck(a),dk(b,c)):ck(a):b||c?dk(b,c):_j}function bk(a){return function(b,c){return b+=a,[b>Xp?b-$p:b<-Xp?b+$p:b,c]}}function ck(a){var b=bk(a);return b.invert=bk(-a),b}function dk(a,b){function c(a,b){var c=eq(b),h=eq(a)*c,i=hq(a)*c,j=hq(b),k=j*d+h*e;return[dq(i*f-k*g,h*d-j*e),Pj(k*f+i*g)]}var d=eq(a),e=hq(a),f=eq(b),g=hq(b);return c.invert=function(a,b){var c=eq(b),h=eq(a)*c,i=hq(a)*c,j=hq(b),k=j*f-i*g;return[dq(i*f+j*g,h*d+k*e),Pj(k*d-h*e)]},c}function ek(a,b,c,d,e,f){if(c){var g=eq(b),h=hq(b),i=d*c;null==e?(e=b+d*$p,f=b-i/2):(e=fk(g,e),f=fk(g,f),(d>0?e<f:e>f)&&(e+=d*$p));for(var j,k=e;d>0?k>f:k<f;k-=i)j=Uj([g,-h*eq(k),-h*hq(k)]),a.point(j[0],j[1])}}function fk(a,b){b=Vj(b),b[0]-=a,$j(b);var c=Oj(-b[1]);return((-b[2]<0?-c:c)+$p-Wp)%$p}function gk(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function hk(a){if(b=a.length){for(var b,c,d=0,e=a[0];++d<b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0],c.p=e}}function ik(a){return function(b,c){return tq(a(b),c)}}function jk(a,b,c,d){function e(e,f){return a<=e&&e<=c&&b<=f&&f<=d}function f(e,f,h,j){var k=0,l=0;if(null==e||(k=g(e,h))!==(l=g(f,h))||i(e,f)<0^h>0)do{j.point(0===k||3===k?a:c,k>1?d:b)}while((k=(k+h+4)%4)!==l);else j.point(f[0],f[1])}function g(d,e){return bq(d[0]-a)<Wp?e>0?0:3:bq(d[0]-c)<Wp?e>0?2:1:bq(d[1]-b)<Wp?e>0?1:0:e>0?3:2}function h(a,b){return i(a.x,b.x)}function i(a,b){var c=g(a,1),d=g(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(g){function i(a,b){e(a,b)&&A.point(a,b)}function j(){for(var b=0,c=0,e=q.length;c<e;++c)for(var f,g,h=q[c],i=1,j=h.length,k=h[0],l=k[0],m=k[1];i<j;++i)f=l,g=m,k=h[i],l=k[0],m=k[1],g<=d?m>d&&(l-f)*(d-g)>(m-g)*(a-f)&&++b:m<=d&&(l-f)*(d-g)<(m-g)*(a-f)&&--b;return b}function k(){A=B,p=[],q=[],z=!0}function l(){var a=j(),b=z&&a,c=(p=vq(p)).length;(b||c)&&(g.polygonStart(),b&&(g.lineStart(),f(null,null,1,g),g.lineEnd()),c&&sq(p,h,a,f,g),g.polygonEnd()),A=g,p=q=r=null}function m(){C.point=o,q&&q.push(r=[]),y=!0,x=!1,v=w=NaN}function n(){p&&(o(s,t),u&&x&&B.rejoin(),p.push(B.result())),C.point=i,x&&A.lineEnd()}function o(f,g){var h=e(f,g);if(q&&r.push([f,g]),y)s=f,t=g,u=h,y=!1,h&&(A.lineStart(),A.point(f,g));else if(h&&x)A.point(f,g);else{var i=[v=Math.max(xq,Math.min(wq,v)),w=Math.max(xq,Math.min(wq,w))],j=[f=Math.max(xq,Math.min(wq,f)),g=Math.max(xq,Math.min(wq,g))];qq(i,j,a,b,c,d)?(x||(A.lineStart(),A.point(i[0],i[1])),A.point(j[0],j[1]),h||A.lineEnd(),z=!1):h&&(A.lineStart(),A.point(f,g),z=!1)}v=f,w=g,x=h}var p,q,r,s,t,u,v,w,x,y,z,A=g,B=pq(),C={point:i,lineStart:m,lineEnd:n,polygonStart:k,polygonEnd:l};return C}}function kk(a,b){a<Bq&&(Bq=a),a>Dq&&(Dq=a),b<Cq&&(Cq=b),b>Eq&&(Eq=b)}function lk(a){return a.length>1}function mk(a,b){return((a=a.x)[0]<0?a[1]-Yp-Wp:Yp-a[1])-((b=b.x)[0]<0?b[1]-Yp-Wp:Yp-b[1])}function nk(a){var b,c=NaN,d=NaN,e=NaN;return{lineStart:function(){a.lineStart(),b=1},point:function(f,g){var h=f>0?Xp:-Xp,i=bq(f-c);bq(i-Xp)<Wp?(a.point(c,d=(d+g)/2>0?Yp:-Yp),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),a.point(f,d),b=0):e!==h&&i>=Xp&&(bq(c-e)<Wp&&(c-=e*Wp),bq(f-h)<Wp&&(f-=h*Wp),d=ok(c,d,f,g),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),b=0),a.point(c=f,d=g),e=h},lineEnd:function(){a.lineEnd(),c=d=NaN},clean:function(){return 2-b}}}function ok(a,b,c,d){var e,f,g=hq(a-c);return bq(g)>Wp?cq((hq(b)*(f=eq(d))*hq(c)-hq(d)*(e=eq(b))*hq(a))/(e*f*g)):(b+d)/2}function pk(a,b,c,d){var e;if(null==a)e=c*Yp,d.point(-Xp,e),d.point(0,e),d.point(Xp,e),d.point(Xp,0),d.point(Xp,-e),d.point(0,-e),d.point(-Xp,-e),d.point(-Xp,0),d.point(-Xp,e);else if(bq(a[0]-b[0])>Wp){var f=a[0]<b[0]?Xp:-Xp;e=c*f/2,d.point(-f,e),d.point(0,e),d.point(f,e)}else d.point(b[0],b[1])}function qk(a){return function(b){var c=new rk;for(var d in a)c[d]=a[d];return c.stream=b,c}}function rk(){}function sk(a,b,c){var d=b[1][0]-b[0][0],e=b[1][1]-b[0][1],f=a.clipExtent&&a.clipExtent();a.scale(150).translate([0,0]),null!=f&&a.clipExtent(null),mq(c,a.stream(Fq));var g=Fq.result(),h=Math.min(d/(g[1][0]-g[0][0]),e/(g[1][1]-g[0][1])),i=+b[0][0]+(d-h*(g[1][0]+g[0][0]))/2,j=+b[0][1]+(e-h*(g[1][1]+g[0][1]))/2;return null!=f&&a.clipExtent(f),a.scale(150*h).translate([i,j])}function tk(a,b,c){return sk(a,[[0,0],b],c)}function uk(a){return qk({point:function(b,c){b=a(b,c),this.stream.point(b[0],b[1])}})}function vk(a,b){function c(d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=j-d,s=k-e,t=r*r+s*s;if(t>4*b&&p--){var u=g+m,v=h+n,w=i+o,x=iq(u*u+v*v+w*w),y=Pj(w/=x),z=bq(bq(w)-1)<Wp||bq(f-l)<Wp?(f+l)/2:dq(v,u),A=a(z,y),B=A[0],C=A[1],D=B-d,E=C-e,F=s*D-r*E;(F*F/t>b||bq((r*D+s*E)/t-.5)>.3||g*m+h*n+i*o<Kq)&&(c(d,e,f,g,h,i,B,C,z,u/=x,v/=x,w,p,q),q.point(B,C),c(B,C,z,u,v,w,j,k,l,m,n,o,p,q))}}return function(b){function d(c,d){c=a(c,d),b.point(c[0],c[1])}function e(){r=NaN,w.point=f,b.lineStart()}function f(d,e){var f=Vj([d,e]),g=a(d,e);c(r,s,q,t,u,v,r=g[0],s=g[1],q=d,t=f[0],u=f[1],v=f[2],Jq,b),b.point(r,s)}function g(){w.point=d,b.lineEnd()}function h(){e(),w.point=i,w.lineEnd=j}function i(a,b){f(k=a,b),l=r,m=s,n=t,o=u,p=v,w.point=f}function j(){c(r,s,q,t,u,v,l,m,k,n,o,p,Jq,b),w.lineEnd=g,g()}var k,l,m,n,o,p,q,r,s,t,u,v,w={point:d,lineStart:e,lineEnd:g,polygonStart:function(){b.polygonStart(),w.lineStart=h},polygonEnd:function(){b.polygonEnd(),w.lineStart=e}};return w}}function wk(a){return xk(function(){return a})()}function xk(a){function b(a){return a=k(a[0]*aq,a[1]*aq),[a[0]*q+h,i-a[1]*q]}function c(a){return(a=k.invert((a[0]-h)/q,(i-a[1])/q))&&[a[0]*_p,a[1]*_p]}function d(a,b){return a=g(a,b),[a[0]*q+h,i-a[1]*q]}function e(){k=nq(j=ak(v,w,x),g);var a=g(t,u);return h=r-a[0]*q,i=s+a[1]*q,f()}function f(){return o=p=null,b}var g,h,i,j,k,l,m,n,o,p,q=150,r=480,s=250,t=0,u=0,v=0,w=0,x=0,y=null,z=Hq,A=null,B=Aq,C=.5,D=Lq(d,C);return b.stream=function(a){return o&&p===a?o:o=Mq(z(j,D(B(p=a))))},b.clipAngle=function(a){return arguments.length?(z=+a?Iq(y=a*aq,6*aq):(y=null,Hq),f()):y*_p},b.clipExtent=function(a){return arguments.length?(B=null==a?(A=l=m=n=null,Aq):jk(A=+a[0][0],l=+a[0][1],m=+a[1][0],n=+a[1][1]),f()):null==A?null:[[A,l],[m,n]]},b.scale=function(a){return arguments.length?(q=+a,e()):q},b.translate=function(a){return arguments.length?(r=+a[0],s=+a[1],e()):[r,s]},b.center=function(a){return arguments.length?(t=a[0]%360*aq,u=a[1]%360*aq,e()):[t*_p,u*_p]},b.rotate=function(a){return arguments.length?(v=a[0]%360*aq,w=a[1]%360*aq,x=a.length>2?a[2]%360*aq:0,e()):[v*_p,w*_p,x*_p]},b.precision=function(a){return arguments.length?(D=Lq(d,C=a*a),f()):iq(C)},b.fitExtent=function(a,c){return sk(b,a,c)},b.fitSize=function(a,c){return tk(b,a,c)},function(){return g=a.apply(this,arguments),b.invert=g.invert&&c,e()}}function yk(a,b){return[a,gq(jq((Yp+b)/2))]}function zk(a){function b(){var b=Xp*h(),g=f(oq(f.rotate()).invert([0,0]));return j(null==k?[[g[0]-b,g[1]-b],[g[0]+b,g[1]+b]]:a===yk?[[Math.max(g[0]-b,k),c],[Math.min(g[0]+b,d),e]]:[[k,Math.max(g[1]-b,c)],[d,Math.min(g[1]+b,e)]])}var c,d,e,f=wk(a),g=f.center,h=f.scale,i=f.translate,j=f.clipExtent,k=null;return f.scale=function(a){return arguments.length?(h(a),b()):h()},f.translate=function(a){return arguments.length?(i(a),b()):i()},f.center=function(a){return arguments.length?(g(a),b()):g()},f.clipExtent=function(a){return arguments.length?(null==a?k=c=d=e=null:(k=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]),b()):null==k?null:[[k,c],[d,e]]},b()}function Ak(a,b){return[gq(jq((Yp+b)/2)),-a]}function Bk(a,b,c){c=c||{};var d=c.units,e=c.steps||64;if(!a)throw new Error("geojson is required");if("object"!==(void 0===c?"undefined":jm(c)))throw new Error("options must be an object");if("number"!=typeof e)throw new Error("steps must be an number");if(void 0===b)throw new Error("radius is required");if(e<=0)throw new Error("steps must be greater than 0");e=e||64,d=d||"kilometers";var f=[];switch(a.type){case"GeometryCollection":return Jb(a,function(a){var c=Ck(a,b,d,e);c&&f.push(c)}),eb(f);case"FeatureCollection":return Ib(a,function(a){var c=Ck(a,b,d,e);c&&Ib(c,function(a){a&&f.push(a)})}),eb(f)}return Ck(a,b,d,e)}function Ck(a,b,c,d){var e=a.properties||{},f="Feature"===a.type?a.geometry:a;if("GeometryCollection"===f.type){var g=[];return Jb(a,function(a){var e=Ck(a,b,c,d);e&&g.push(e)}),eb(g)}var h,i=Ej(a),j=i[1]>50&&i[3]>50;h=j?{type:f.type,coordinates:Ek(f.coordinates,Gk(f))}:Gj(f);var k=new hh,l=k.read(h),m=hb(ib(b,c),"meters"),n=Ih.bufferOp(l,m);if(n=(new ih).write(n),!Dk(n.coordinates)){var o;return o=j?{type:n.type,coordinates:Fk(n.coordinates,Gk(f))}:Hj(n),o.geometry?o:ab(o,e)}}function Dk(a){return Array.isArray(a[0])?Dk(a[0]):isNaN(a[0])}function Ek(a,b){return"object"!==jm(a[0])?b(a):a.map(function(a){return Ek(a,b)})}function Fk(a,b){return"object"!==jm(a[0])?b.invert(a):a.map(function(a){return Fk(a,b)})}function Gk(a){var b=Fj(a).geometry.coordinates.reverse(),c=b.map(function(a){return-a});return Nq().center(b).rotate(c).scale(cp)}function Hk(a,c,d,e,f,g){e=e||"meters",c=(c||"feature").toLowerCase();var h;if(a instanceof google.maps.Polyline||a instanceof google.maps.Polygon||a instanceof google.maps.Marker||a instanceof google.maps.LatLng){h={type:"Feature",properties:{},geometry:b().fromObject(a).toJson()}}else h=a.type&&"Feature"===a.type&&a.geometry?a:qb(a);var i=Bk(h,d,{units:e,steps:g});return"FeatureCollection"===i.type&&(i=i.features[0]),"geometry"===c?i.geometry:"object"===c?b().fromJson(i.geometry).toObject():i}function Ik(a,b,c){if(c=c||{},"object"!==(void 0===c?"undefined":jm(c)))throw new Error("options is invalid");var d=c.ignoreBoundary;if(!a)throw new Error("point is required");if(!b)throw new Error("polygon is required");var e=Db(a),f=Eb(b),g=b.geometry?b.geometry.type:b.type,h=b.bbox;if(h&&!1===Kk(e,h))return!1;"Polygon"===g&&(f=[f]);for(var i=0,j=!1;i<f.length&&!j;i++)if(Jk(e,f[i][0],d)){for(var k=!1,l=1;l<f[i].length&&!k;)Jk(e,f[i][l],!d)&&(k=!0),l++;k||(j=!0)}return j}function Jk(a,b,c){var d=!1;b[0][0]===b[b.length-1][0]&&b[0][1]===b[b.length-1][1]&&(b=b.slice(0,b.length-1));for(var e=0,f=b.length-1;e<b.length;f=e++){var g=b[e][0],h=b[e][1],i=b[f][0],j=b[f][1];if(a[1]*(g-i)+h*(i-a[0])+j*(a[0]-g)==0&&(g-a[0])*(i-a[0])<=0&&(h-a[1])*(j-a[1])<=0)return!c;h>a[1]!=j>a[1]&&a[0]<(i-g)*(a[1]-h)/(j-h)+g&&(d=!d)}return d}function Kk(a,b){return b[0]<=a[0]&&b[1]<=a[1]&&b[2]>=a[0]&&b[3]>=a[1]}function Lk(a,b){var c=[],d=[];return"Feature"!==b.type&&(b={type:"Feature",properties:{},geometry:b}),"Polygon"!==b.geometry.type&&"Multipolygon"!==b.geometry.type||Xa(a,function(a){Ik(ob(a),b)?c.push(a):d.push(a)}),{pointsInside:c,pointsOutside:d}}function Mk(a){var b,c,d={type:"FeatureCollection",features:[]};if(c="Feature"===a.type?a.geometry:a,"LineString"===c.type)b=[c.coordinates];else if("MultiLineString"===c.type)b=c.coordinates;else if("MultiPolygon"===c.type)b=[].concat.apply([],c.coordinates);else{if("Polygon"!==c.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");b=c.coordinates}return b.forEach(function(a){b.forEach(function(b){for(var c=0;c<a.length-1;c++)for(var e=c;e<b.length-1;e++){if(a===b){if(1===Math.abs(c-e))continue;if(0===c&&e===a.length-2&&a[c][0]===a[a.length-1][0]&&a[c][1]===a[a.length-1][1])continue}var f=Nk(a[c][0],a[c][1],a[c+1][0],a[c+1][1],b[e][0],b[e][1],b[e+1][0],b[e+1][1]);f&&d.features.push(bb([f[0],f[1]]))}})}),d}function Nk(a,b,c,d,e,f,g,h){var i,j,k,l,m,n={x:null,y:null,onLine1:!1,onLine2:!1};return 0===(i=(h-f)*(c-a)-(g-e)*(d-b))?null!==n.x&&null!==n.y&&n:(j=b-f,k=a-e,l=(g-e)*j-(h-f)*k,m=(c-a)*j-(d-b)*k,j=l/i,k=m/i,n.x=a+j*(c-a),n.y=b+j*(d-b),j>=0&&j<=1&&(n.onLine1=!0),k>=0&&k<=1&&(n.onLine2=!0),!(!n.onLine1||!n.onLine2)&&[n.x,n.y])}function Ok(a){var b;if(a instanceof google.maps.Polyline||a instanceof google.maps.Polygon){b={type:"Feature",properties:{},geometry:Wicket().fromObject(a).toJson()}}else b=a.type&&"Feature"===a.type&&a.geometry?a:qb(a);return Mk(b)}function Pk(a,b,c,d,e){for(c=c||0,d=d||a.length-1,e=e||Rk;d>c;){if(d-c>600){var f=d-c+1,g=b-c+1,h=Math.log(f),i=.5*Math.exp(2*h/3),j=.5*Math.sqrt(h*i*(f-i)/f)*(g-f/2<0?-1:1);Pk(a,b,Math.max(c,Math.floor(b-g*i/f+j)),Math.min(d,Math.floor(b+(f-g)*i/f+j)),e)}var k=a[b],l=c,m=d;for(Qk(a,c,b),e(a[d],k)>0&&Qk(a,c,d);l<m;){for(Qk(a,l,m),l++,m--;e(a[l],k)<0;)l++;for(;e(a[m],k)>0;)m--}0===e(a[c],k)?Qk(a,c,m):(m++,Qk(a,m,d)),m<=b&&(c=m+1),b<=m&&(d=m-1)}}function Qk(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function Rk(a,b){return a<b?-1:a>b?1:0}function Sk(a,b){if(!(this instanceof Sk))return new Sk(a,b);this._maxEntries=Math.max(4,a||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),b&&this._initFormat(b),this.clear()}function Tk(a,b,c){if(!c)return b.indexOf(a);for(var d=0;d<b.length;d++)if(c(a,b[d]))return d;return-1}function Uk(a,b){Vk(a,0,a.children.length,b,a)}function Vk(a,b,c,d,e){e||(e=dl(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var f,g=b;g<c;g++)f=a.children[g],Wk(e,a.leaf?d(f):f);return e}function Wk(a,b){return a.minX=Math.min(a.minX,b.minX),a.minY=Math.min(a.minY,b.minY),a.maxX=Math.max(a.maxX,b.maxX),a.maxY=Math.max(a.maxY,b.maxY),a}function Xk(a,b){return a.minX-b.minX}function Yk(a,b){return a.minY-b.minY}function Zk(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function $k(a){return a.maxX-a.minX+(a.maxY-a.minY)}function _k(a,b){return(Math.max(b.maxX,a.maxX)-Math.min(b.minX,a.minX))*(Math.max(b.maxY,a.maxY)-Math.min(b.minY,a.minY))}function al(a,b){var c=Math.max(a.minX,b.minX),d=Math.max(a.minY,b.minY),e=Math.min(a.maxX,b.maxX),f=Math.min(a.maxY,b.maxY);return Math.max(0,e-c)*Math.max(0,f-d)}function bl(a,b){return a.minX<=b.minX&&a.minY<=b.minY&&b.maxX<=a.maxX&&b.maxY<=a.maxY}function cl(a,b){return b.minX<=a.maxX&&b.minY<=a.maxY&&b.maxX>=a.minX&&b.maxY>=a.minY}function dl(a){return{children:a,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function el(a,b,c,d,e){for(var f,g=[b,c];g.length;)c=g.pop(),b=g.pop(),c-b<=d||(f=b+Math.ceil((c-b)/d/2)*d,Oq(a,f,b,c,e),g.push(b,f,f,c))}function fl(a,b,c,d){if(gl(a,c)||gl(a,d)||gl(b,c)||gl(d,c))return null;var e=a[0],f=a[1],g=b[0],h=b[1],i=c[0],j=c[1],k=d[0],l=d[1],m=(e-g)*(j-l)-(f-h)*(i-k);return 0===m?null:[((e*h-f*g)*(i-k)-(e-g)*(i*l-j*k))/m,((e*h-f*g)*(j-l)-(f-h)*(i*l-j*k))/m]}function gl(a,b){if(!a||!b)return!1;if(a.length!==b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]instanceof Array&&b[c]instanceof Array){if(!gl(a[c],b[c]))return!1}else if(a[c]!==b[c])return!1;return!0}function hl(a){return Kb(a,function(a,b){return a+il(b)},0)}function il(a){var b,c=0;switch(a.type){case"Polygon":return jl(a.coordinates);case"MultiPolygon":for(b=0;b<a.coordinates.length;b++)c+=jl(a.coordinates[b]);return c;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(b=0;b<a.geometries.length;b++)c+=il(a.geometries[b]);return c}}function jl(a){var b=0;if(a&&a.length>0){b+=Math.abs(kl(a[0]));for(var c=1;c<a.length;c++)b-=Math.abs(kl(a[c]))}return b}function kl(a){var b,c,d,e,f,g,h,i=0,j=a.length;if(j>2){for(h=0;h<j;h++)h===j-2?(e=j-2,f=j-1,g=0):h===j-1?(e=j-1,f=0,g=1):(e=h,f=h+1,g=h+2),b=a[e],c=a[f],d=a[g],i+=(ll(d[0])-ll(b[0]))*Math.sin(ll(c[1]));i=i*Rq*Rq/2}return i}function ll(a){return a*Math.PI/180}function ml(a,b){if(void 0===b&&(b=!0),3!=a.length)throw new Error("This function requires an array of three points [x,y]");return(a[1][0]-a[0][0])*(a[2][1]-a[0][1])-(a[1][1]-a[0][1])*(a[2][0]-a[0][0])>=0==b}function nl(a){for(var b=0,c=0;c<a.length-1;c++)a[c][0]<a[b][0]&&(b=c);if(ml([a[(b-1).modulo(a.length-1)],a[b],a[(b+1).modulo(a.length-1)]],!0))var d=1;else var d=-1;return d}function pl(a,b){if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]instanceof Array&&b[c]instanceof Array){if(!pl(a[c],b[c]))return!1}else if(a[c]!=b[c])return!1;return!0}function ql(a){for(var b={},c=1,d=0,e=a.length;d<e;++d){if(b.hasOwnProperty(a[d])){c=0;break}b[a[d]]=1}return c}function rl(a){var b=[];return Lb(a,function(a){"Polygon"===a.geometry.type&&Ib(Sq(a),function(c){b.push(cb(c.geometry.coordinates,a.properties))})}),eb(b)}function sl(a){return rl(qb(a))}function tl(a,b){var c=[];return No(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function ul(a,b){return(qn(a)?$:tl)(a,Pa(b,3))}function vl(a,b,c){for(var d=-1,e=a.length;++d<e;){var f=a[d],g=b(f);if(null!=g&&(void 0===h?g===g&&!xa(g):c(g,h)))var h=g,i=f}return i}function wl(a,b){return a>b}function xl(a){return a&&a.length?vl(a,La,wl):void 0}function yl(a,b){return a<b}function zl(a){return a&&a.length?vl(a,La,yl):void 0}function Al(a,b,c,d,e){Bl(a,b,c||0,d||a.length-1,e||Dl)}function Bl(a,b,c,d,e){for(;d>c;){if(d-c>600){var f=d-c+1,g=b-c+1,h=Math.log(f),i=.5*Math.exp(2*h/3),j=.5*Math.sqrt(h*i*(f-i)/f)*(g-f/2<0?-1:1);Bl(a,b,Math.max(c,Math.floor(b-g*i/f+j)),Math.min(d,Math.floor(b+(f-g)*i/f+j)),e)}var k=a[b],l=c,m=d;for(Cl(a,c,b),e(a[d],k)>0&&Cl(a,c,d);l<m;){for(Cl(a,l,m),l++,m--;e(a[l],k)<0;)l++;for(;e(a[m],k)>0;)m--}0===e(a[c],k)?Cl(a,c,m):(m++,Cl(a,m,d)),m<=b&&(c=m+1),b<=m&&(d=m-1)}}function Cl(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function Dl(a,b){return a<b?-1:a>b?1:0}function El(a,b){if(!(this instanceof El))return new El(a,b);this._maxEntries=Math.max(4,a||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),b&&this._initFormat(b),this.clear()}function Fl(a,b,c){if(!c)return b.indexOf(a);for(var d=0;d<b.length;d++)if(c(a,b[d]))return d;return-1}function Gl(a,b){Hl(a,0,a.children.length,b,a)}function Hl(a,b,c,d,e){e||(e=Rl(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var f,g=b;g<c;g++)f=a.children[g],Il(e,a.leaf?d(f):f);return e}function Il(a,b){return a.minX=Math.min(a.minX,b.minX),a.minY=Math.min(a.minY,b.minY),a.maxX=Math.max(a.maxX,b.maxX),a.maxY=Math.max(a.maxY,b.maxY),a}function Jl(a,b){return a.minX-b.minX}function Kl(a,b){return a.minY-b.minY}function Ll(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function Ml(a){return a.maxX-a.minX+(a.maxY-a.minY)}function Nl(a,b){return(Math.max(b.maxX,a.maxX)-Math.min(b.minX,a.minX))*(Math.max(b.maxY,a.maxY)-Math.min(b.minY,a.minY))}function Ol(a,b){var c=Math.max(a.minX,b.minX),d=Math.max(a.minY,b.minY),e=Math.min(a.maxX,b.maxX),f=Math.min(a.maxY,b.maxY);return Math.max(0,e-c)*Math.max(0,f-d)}function Pl(a,b){return a.minX<=b.minX&&a.minY<=b.minY&&b.maxX<=a.maxX&&b.maxY<=a.maxY}function Ql(a,b){return b.minX<=a.maxX&&b.minY<=a.maxY&&b.maxX>=a.minX&&b.maxY>=a.minY}function Rl(a){return{children:a,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Sl(a,b,c,d,e){for(var f,g=[b,c];g.length;)c=g.pop(),b=g.pop(),c-b<=d||(f=b+Math.ceil((c-b)/d/2)*d,Al(a,f,b,c,e),g.push(b,f,f,c))}function Tl(a){var b=El(a);return b.insert=function(a){if(Array.isArray(a)){var b=a;a=Ul(b),a.bbox=b}else a.bbox=a.bbox?a.bbox:Vl(a);return El.prototype.insert.call(this,a)},b.load=function(a){var b=[];return Array.isArray(a)?a.forEach(function(a){var c=Ul(a);c.bbox=a,b.push(c)}):Ib(a,function(a){a.bbox=a.bbox?a.bbox:Vl(a),b.push(a)}),El.prototype.load.call(this,b)},b.remove=function(a){if(Array.isArray(a)){var b=a;a=Ul(b),a.bbox=b}return El.prototype.remove.call(this,a)},b.clear=function(){return El.prototype.clear.call(this)},b.search=function(a){return{type:"FeatureCollection",features:El.prototype.search.call(this,this.toBBox(a))}},b.collides=function(a){return El.prototype.collides.call(this,this.toBBox(a))},b.all=function(){return{type:"FeatureCollection",features:El.prototype.all.call(this)}},b.toJSON=function(){return El.prototype.toJSON.call(this)},b.fromJSON=function(a){return El.prototype.fromJSON.call(this,a)},b.toBBox=function(a){var b;return b=a.bbox?a.bbox:Array.isArray(a)&&4===a.length?a:Vl(a),{minX:b[0],minY:b[1],maxX:b[2],maxY:b[3]}},b}function Ul(a){var b=[a[0],a[1]],c=[a[0],a[3]],d=[a[2],a[3]];return{type:"Feature",bbox:a,properties:{},geometry:{type:"Polygon",coordinates:[[b,[a[2],a[1]],d,c,b]]}}}function Vl(a){var b=[1/0,1/0,-1/0,-1/0];return Hb(a,function(a){b[0]>a[0]&&(b[0]=a[0]),b[1]>a[1]&&(b[1]=a[1]),b[2]<a[0]&&(b[2]=a[0]),b[3]<a[1]&&(b[3]=a[1])}),b}function Wl(a){if(!a)throw new Error("geojson is required");var b=[];return Lb(a,function(a){Xl(a,b)}),eb(b)}function Xl(a,b){var c=[],d=a.geometry;switch(d.type){case"Polygon":c=Eb(d);break;case"LineString":c=[Eb(d)]}c.forEach(function(c){Yl(c,a.properties).forEach(function(a){a.id=b.length,b.push(a)})})}function Yl(a,b){var c=[];return a.reduce(function(a,d){var e=db([a,d],b);return e.bbox=Zl(a,d),c.push(e),d}),c}function Zl(a,b){var c=a[0],d=a[1],e=b[0],f=b[1];return[c<e?c:e,d<f?d:f,c>e?c:e,d>f?d:f]}function $l(a,b){var c={},d=[];if("LineString"===a.type&&(a=ab(a)),"LineString"===b.type&&(b=ab(b)),"Feature"===a.type&&"Feature"===b.type&&"LineString"===a.geometry.type&&"LineString"===b.geometry.type&&2===a.geometry.coordinates.length&&2===b.geometry.coordinates.length){var e=_l(a,b);return e&&d.push(e),eb(d)}var f=Tl();return f.load(Wl(b)),Ib(Wl(a),function(a){Ib(f.search(a),function(b){var e=_l(a,b);if(e){var f=Eb(e).join(",");c[f]||(c[f]=!0,d.push(e))}})}),eb(d)}function _l(a,b){var c=Eb(a),d=Eb(b);if(2!==c.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==d.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var e=c[0][0],f=c[0][1],g=c[1][0],h=c[1][1],i=d[0][0],j=d[0][1],k=d[1][0],l=d[1][1],m=(l-j)*(g-e)-(k-i)*(h-f),n=(k-i)*(f-j)-(l-j)*(e-i),o=(g-e)*(f-j)-(h-f)*(e-i);if(0===m)return null;var p=n/m,q=o/m;if(p>=0&&p<=1&&q>=0&&q<=1){return bb([e+p*(g-e),f+p*(h-f)])}return null}function am(a,b,c){if(c=c||{},!mb(c))throw new Error("options is invalid");var d=a.geometry?a.geometry.type:a.type;if("LineString"!==d&&"MultiLineString"!==d)throw new Error("lines must be LineString or MultiLineString");var e=bb([1/0,1/0],{dist:1/0}),f=0;return Lb(a,function(a){for(var d=Eb(a),g=0;g<d.length-1;g++){var h=bb(d[g]);h.properties.dist=dc(b,h,c);var i=bb(d[g+1]);i.properties.dist=dc(b,i,c);var j=dc(h,i,c),k=Math.max(h.properties.dist,i.properties.dist),l=tc(h,i),m=vc(b,k,l+90,c),n=vc(b,k,l-90,c),o=$l(db([m.geometry.coordinates,n.geometry.coordinates]),db([h.geometry.coordinates,i.geometry.coordinates])),p=null;o.features.length>0&&(p=o.features[0],p.properties.dist=dc(b,p,c),p.properties.location=f+dc(h,p,c)),h.properties.dist<e.properties.dist&&(e=h,e.properties.index=g,e.properties.location=f),i.properties.dist<e.properties.dist&&(e=i,e.properties.index=g+1,e.properties.location=f+j),p&&p.properties.dist<e.properties.dist&&(e=p,e.properties.index=g),f+=j}}),e}function bm(a,b,c){var d;if("Feature"===c.type)d=c.geometry.coordinates;else{if("LineString"!==c.type)throw new Error("input must be a LineString Feature or Geometry");d=c.coordinates}var e,f=am(c,a),g=am(c,b);e=f.properties.index<=g.properties.index?[f,g]:[g,f];for(var h=[e[0].geometry.coordinates],i=e[0].properties.index+1;i<e[1].properties.index+1;i++)h.push(d[i]);return h.push(e[1].geometry.coordinates),db(h,c.properties)}function cm(a,b){return ra(a,b)}function dm(a,b){var c=[Math.abs(a[0]-b[0]),Math.abs(a[1]-b[1])];return Math.sqrt(Math.pow(c[0],2)+Math.pow(c[1],2))}function em(a,b,c,d){var e=db([a,b]),f=db([c,d]),g=$l(e,f);if(g.features.length){var h=g.features[0].geometry.coordinates;return h[0]=Math.round(1e8*h[0])/1e8,h[1]=Math.round(1e8*h[1])/1e8,h}return!1}function fm(a,b){var c=eb([]),d=!1;cm(a,b)&&(d=!0);for(var e=0;e<a.length-1;e++)for(var f=d?e:0,g=f;g<b.length-1;g++)if(a!==b||1!==Math.abs(e-g)&&Math.abs(e-g)!==a.length-2){var h=em(a[e],a[e+1],b[g],b[g+1]);if(h&&(!(dm(h,a[0])<5e-6||dm(h,a[a.length-1])<5e-6)||!(dm(h,b[0])<5e-6||dm(h,b[b.length-1])<5e-6))){var i=bb([h[0],h[1]]);i.properties={position1:e,position2:g},c.features.push(i)}}return c}function gm(a,b){var c=_a(a),d=_a(b),e=fm(c,d);if(e.features.length>0){var f,g,h=db(c),i=db(d),j=bb(c[0]),k=bb(d.slice(-1)[0]),l=zl(e.features,function(a){return a.properties.position1}),m=ul(e.features,function(a){return a.properties.position1===l.properties.position1}),n=xl(m,function(a){return a.properties.position2}),o=Za([n.geometry.coordinates])[0];return f=0===n.properties.position1?h:bm(j,n,h),g=n.properties.position2>=d.length-1?i:bm(n,k,i),[Za(f.geometry.coordinates),Za(g.geometry.coordinates),o]}return[]}var hm,im,jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},km=function a(b){return b instanceof a?b:this instanceof a?void(this._wrapped=b):new a(b)};hm=function(a,b){return a.substring(0,b.length)===b},im=function(a,b){return a.substring(a.length-b.length)===b},km.delimiter=" ",km.isArray=function(a){return!(!a||a.constructor!==Array)},km.trim=function(a,b){for(b=b||" ";hm(a,b);)a=a.substring(1);for(;im(a,b);)a=a.substring(0,a.length-1);return a},km.Wkt=function(a){this.delimiter=km.delimiter||" ",this.wrapVertices=!0,this.regExes={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,spaces:/\s+|\+/,numeric:/-*\d+(\.*\d+)?/,comma:/\s*,\s*/,parenComma:/\)\s*,\s*\(/,coord:/-*\d+\.*\d+ -*\d+\.*\d+/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/,ogcTypes:/^(multi)?(point|line|polygon|box)?(string)?$/i,crudeJson:/^{.*"(type|coordinates|geometries|features)":.*}$/},this.components=void 0,a&&"string"==typeof a?this.read(a):a&&void 0!==(void 0===a?"undefined":jm(a))&&this.fromObject(a)},km.Wkt.prototype.isCollection=function(){switch(this.type.slice(0,5)){case"multi":case"polyg":return!0;default:return!1}},km.Wkt.prototype.sameCoords=function(a,b){return a.x===b.x&&a.y===b.y},km.Wkt.prototype.fromObject=function(a){var b;return b=a.hasOwnProperty("type")&&a.hasOwnProperty("coordinates")?this.fromJson(a):this.deconstruct.call(this,a),this.components=b.components,this.isRectangle=b.isRectangle||!1,this.type=b.type,this},km.Wkt.prototype.toObject=function(a){var b=this.construct[this.type].call(this,a);return"object"!==(void 0===b?"undefined":jm(b))||km.isArray(b)||(b.properties=this.properties),b},km.Wkt.prototype.toString=function(a){return this.write()},km.Wkt.prototype.fromJson=function(a){var b,c,d,e,f,g;if(this.type=a.type.toLowerCase(),this.components=[],a.hasOwnProperty("geometry"))return this.fromJson(a.geometry),this.properties=a.properties,this;if(e=a.coordinates,km.isArray(e[0])){for(b in e)if(e.hasOwnProperty(b))if(km.isArray(e[b][0])){g=[];for(c in e[b])if(e[b].hasOwnProperty(c))if(km.isArray(e[b][c][0])){f=[];for(d in e[b][c])e[b][c].hasOwnProperty(d)&&f.push({x:e[b][c][d][0],y:e[b][c][d][1]});g.push(f)}else g.push({x:e[b][c][0],y:e[b][c][1]});this.components.push(g)}else"multipoint"===this.type?this.components.push([{x:e[b][0],y:e[b][1]}]):this.components.push({x:e[b][0],y:e[b][1]})}else this.components.push({x:e[0],y:e[1]});return this},km.Wkt.prototype.toJson=function(){var a,b,c,d,e,f,g;if(a=this.components,b={coordinates:[],type:function(){var a,b,c;b=this.regExes.ogcTypes.exec(this.type).slice(1),c=[];for(a in b)b.hasOwnProperty(a)&&void 0!==b[a]&&c.push(b[a].toLowerCase().slice(0,1).toUpperCase()+b[a].toLowerCase().slice(1));return c}.call(this).join("")},"box"===this.type.toLowerCase()){b.type="Polygon",b.bbox=[];for(c in a)a.hasOwnProperty(c)&&(b.bbox=b.bbox.concat([a[c].x,a[c].y]));return b.coordinates=[[[a[0].x,a[0].y],[a[0].x,a[1].y],[a[1].x,a[1].y],[a[1].x,a[0].y],[a[0].x,a[0].y]]],b}for(c in a)if(a.hasOwnProperty(c))if(km.isArray(a[c])){g=[];for(d in a[c])if(a[c].hasOwnProperty(d))if(km.isArray(a[c][d])){f=[];for(e in a[c][d])a[c][d].hasOwnProperty(e)&&f.push([a[c][d][e].x,a[c][d][e].y]);g.push(f)}else a[c].length>1?g.push([a[c][d].x,a[c][d].y]):g=g.concat([a[c][d].x,a[c][d].y]);b.coordinates.push(g)}else a.length>1?b.coordinates.push([a[c].x,a[c].y]):b.coordinates=b.coordinates.concat([a[c].x,a[c].y]);return b},km.Wkt.prototype.merge=function(a){var b=this.type.slice(0,5);if(this.type!==a.type&&this.type.slice(5,this.type.length)!==a.type)throw TypeError("The input geometry types must agree or the calling Wkt.Wkt instance must be a multigeometry of the other");switch(b){case"point":this.components=[this.components.concat(a.components)];break;case"multi":this.components=this.components.concat("multi"===a.type.slice(0,5)?a.components:[a.components]);break;default:this.components=[this.components,a.components]}return"multi"!==b&&(this.type="multi"+this.type),this},km.Wkt.prototype.read=function(a){var b;if(b=this.regExes.typeStr.exec(a))this.type=b[1].toLowerCase(),this.base=b[2],this.ingest[this.type]&&(this.components=this.ingest[this.type].apply(this,[this.base]));else{if(!this.regExes.crudeJson.test(a))throw console.log("Invalid WKT string provided to read() ",a),{name:"WKTError",message:"Invalid WKT string provided to read()"};if("object"!==("undefined"==typeof JSON?"undefined":jm(JSON))||"function"!=typeof JSON.parse)throw console.log("JSON.parse() is not available; cannot parse GeoJSON strings"),{name:"JSONError",message:"JSON.parse() is not available; cannot parse GeoJSON strings"};this.fromJson(JSON.parse(a))}return this},km.Wkt.prototype.write=function(a){var b,c,d;for(a=a||this.components,c=[],c.push(this.type.toUpperCase()+"("),b=0;b<a.length;b+=1){if(this.isCollection()&&b>0&&c.push(","),!this.extract[this.type])return null;d=this.extract[this.type].apply(this,[a[b]]),this.isCollection()&&"multipoint"!==this.type?c.push("("+d+")"):(c.push(d),b!==a.length-1&&"multipoint"!==this.type&&c.push(","))}return c.push(")"),c.join("")},km.Wkt.prototype.extract={point:function(a){return String(a.x)+this.delimiter+String(a.y)},multipoint:function(a){var b,c,d=[];for(b=0;b<a.length;b+=1)c=this.extract.point.apply(this,[a[b]]),this.wrapVertices&&(c="("+c+")"),d.push(c);return d.join(",")},linestring:function(a){return this.extract.point.apply(this,[a])},multilinestring:function(a){var b,c=[];if(a.length)for(b=0;b<a.length;b+=1)c.push(this.extract.linestring.apply(this,[a[b]]));else c.push(this.extract.point.apply(this,[a]));return c.join(",")},polygon:function(a){return this.extract.multilinestring.apply(this,[a])},multipolygon:function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push("("+this.extract.polygon.apply(this,[a[b]])+")");return c.join(",")},box:function(a){return this.extract.linestring.apply(this,[a])},geometrycollection:function(a){console.log("The geometrycollection WKT type is not yet supported.")}},km.Wkt.prototype.ingest={point:function(a){var b=km.trim(a).split(this.regExes.spaces);return[{x:parseFloat(this.regExes.numeric.exec(b[0])[0]),y:parseFloat(this.regExes.numeric.exec(b[1])[0])}]},multipoint:function(a){var b,c,d;for(c=[],d=km.trim(a).split(this.regExes.comma),b=0;b<d.length;b+=1)c.push(this.ingest.point.apply(this,[d[b]]));return c},linestring:function(a){var b,c,d;for(c=this.ingest.multipoint.apply(this,[a]),d=[],b=0;b<c.length;b+=1)d=d.concat(c[b]);return d},multilinestring:function(a){var b,c,d,e;for(c=[],e=km.trim(a).split(this.regExes.doubleParenComma),1===e.length&&(e=km.trim(a).split(this.regExes.parenComma)),b=0;b<e.length;b+=1)d=e[b].replace(this.regExes.trimParens,"$1"),c.push(this.ingest.linestring.apply(this,[d]));return c},polygon:function(a){var b,c,d,e,f,g;for(g=km.trim(a).split(this.regExes.parenComma),d=[],b=0;b<g.length;b+=1){for(f=g[b].replace(this.regExes.trimParens,"$1").split(this.regExes.comma),e=[],c=0;c<f.length;c+=1){var h=f[c].split(this.regExes.spaces);if(h.length>2&&(h=h.filter(function(a){return""!=a})),2===h.length){var i=h[0],j=h[1];e.push({x:parseFloat(i),y:parseFloat(j)})}}d.push(e)}return d},box:function(a){var b,c,d;for(c=this.ingest.multipoint.apply(this,[a]),d=[],b=0;b<c.length;b+=1)d=d.concat(c[b]);return d},multipolygon:function(a){var b,c,d,e;for(c=[],e=km.trim(a).split(this.regExes.doubleParenComma),b=0;b<e.length;b+=1)d=e[b].replace(this.regExes.trimParens,"$1"),c.push(this.ingest.polygon.apply(this,[d]));return c},geometrycollection:function(a){console.log("The geometrycollection WKT type is not yet supported.")}},km.Wkt.prototype.isRectangle=!1,km.Wkt.prototype.construct={point:function(a,b){var c=b||this.components;return a=a||{optimized:!0},a.position=new google.maps.LatLng(c[0].y,c[0].x),new google.maps.Marker(a)},multipoint:function(a){var b,c,d;for(c=this.components,a=a||{},d=[],b=0;b<c.length;b+=1)d.push(this.construct.point(a,c[b]));return d},linestring:function(a,b){var c,d;for(d=b||this.components,a=a||{editable:!1},a.path=[],c=0;c<d.length;c+=1)a.path.push(new google.maps.LatLng(d[c].y,d[c].x));return new google.maps.Polyline(a)},multilinestring:function(a){var b,c,d;for(c=this.components,a=a||{editable:!1},a.path=[],d=[],b=0;b<c.length;b+=1)d.push(this.construct.linestring(a,c[b]));return d},box:function(a,b){var c=b||this.components;return a=a||{},a.bounds=new google.maps.LatLngBounds(new google.maps.LatLng(c[0].y,c[0].x),new google.maps.LatLng(c[1].y,c[1].x)),new google.maps.Rectangle(a)},polygon:function(a,b){var c,d,e,f,g;for(e=b||this.components,a=a||{editable:!1},a.paths=[],f=[],c=0;c<e.length;c+=1){for(g=[],d=0;d<e[c].length-1;d+=1)g.push(new google.maps.LatLng(e[c][d].y,e[c][d].x));0!==c&&(null===a.reverseInnerPolygons||a.reverseInnerPolygons)&&g.reverse(),f.push(g)}return a.paths=a.paths.concat(f),this.isRectangle?function(){var a,b;a=new google.maps.LatLngBounds;for(b in f[0])f[0].hasOwnProperty(b)&&a.extend(f[0][b]);return new google.maps.Rectangle({bounds:a})}():new google.maps.Polygon(a)},multipolygon:function(a){var b,c,d;for(c=this.components,a=a||{editable:!1},a.path=[],d=[],b=0;b<c.length;b+=1)d.push(this.construct.polygon(a,c[b]));return d}},km.Wkt.prototype.deconstruct=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;if(google.maps.geometry&&(h=google.maps.geometry.spherical.computeSignedArea),a.constructor===google.maps.LatLng)return j={type:"point",components:[{x:a.lng(),y:a.lat()}]};if(a.constructor===google.maps.Point)return j={type:"point",components:[{x:a.x,y:a.y}]};if(a.constructor===google.maps.Marker)return j={type:"point",components:[{x:a.getPosition().lng(),y:a.getPosition().lat()}]};if(a.constructor===google.maps.Polyline){for(f=[],d=0;d<a.getPath().length;d+=1)i=a.getPath().getAt(d),f.push({x:i.lng(),y:i.lat()});return j={type:"linestring",components:f}}if(a.constructor===google.maps.Polygon){for(g=[],void 0===b&&(b=function(){var c,d;return!((d=a.getPaths().length)<=1)&&(2===d?!(h(a.getPaths().getAt(0))*h(a.getPaths().getAt(1))<0):(c=a.getPaths().getArray().map(function(a){return h(a)/Math.abs(h(a))}),c.indexOf(c[0])!==c.lastIndexOf(c[0])&&(b=!0,!0)))}()),d=0;d<a.getPaths().length;d+=1){for(i=a.getPaths().getAt(d),f=[],e=0;e<a.getPaths().getAt(d).length;e+=1)f.push({x:i.getAt(e).lng(),y:i.getAt(e).lat()});i.getAt(i.length-1).equals(i.getAt(0))||(d%2!=0?f.unshift({x:i.getAt(i.length-1).lng(),y:i.getAt(i.length-1).lat()}):f.push({x:i.getAt(0).lng(),y:i.getAt(0).lat()})),a.getPaths().length>1&&d>0&&(h(a.getPaths().getAt(d))>0&&h(a.getPaths().getAt(d-1))>0||h(a.getPaths().getAt(d))<0&&h(a.getPaths().getAt(d-1))<0&&!b)&&(f=[f]),d%2!=0&&f.reverse(),g.push(f)}return j={type:b?"multipolygon":"polygon",components:g}}if(a.constructor===google.maps.Circle){var t=a.getCenter(),u=a.getRadius();f=[];var v=Math.PI/180,w=180/Math.PI;u/=1609;for(var x=3963,y=32,z=u/x*w,A=z/Math.cos(t.lat()*v),B=0;B<=y;B++){var C=Math.PI*(B/(y/2));l=t.lng()+A*Math.cos(C),k=t.lat()+z*Math.sin(C),f.push({x:l,y:k})}return j={type:"polygon",components:[f]}}if(a.constructor===google.maps.LatLngBounds)return i=a,f=[],f.push({x:i.getSouthWest().lng(),y:i.getNorthEast().lat()}),f.push({x:i.getNorthEast().lng(),y:i.getNorthEast().lat()}),f.push({x:i.getNorthEast().lng(),y:i.getSouthWest().lat()}),f.push({x:i.getSouthWest().lng(),y:i.getSouthWest().lat()}),f.push({x:i.getSouthWest().lng(),y:i.getNorthEast().lat()}),j={type:"polygon",isRectangle:!0,components:[f]};if(a.constructor===google.maps.Rectangle)return i=a.getBounds(),f=[],f.push({x:i.getSouthWest().lng(),y:i.getNorthEast().lat()}),f.push({x:i.getNorthEast().lng(),y:i.getNorthEast().lat()}),f.push({x:i.getNorthEast().lng(),y:i.getSouthWest().lat()}),f.push({x:i.getSouthWest().lng(),y:i.getSouthWest().lat()}),f.push({x:i.getSouthWest().lng(),y:i.getNorthEast().lat()}),j={type:"polygon",isRectangle:!0,components:[f]};if(a.constructor===google.maps.Data.Feature)return this.deconstruct.call(this,a.getGeometry());if(a.constructor===google.maps.Data.Point)return j={type:"point",components:[{x:a.get().lng(),y:a.get().lat()}]};if(a.constructor===google.maps.Data.LineString){for(f=[],d=0;d<a.getLength();d+=1)m=a.getAt(d),f.push({x:m.lng(),y:m.lat()});return j={type:"linestring",components:f}}if(a.constructor===google.maps.Data.Polygon){for(g=[],d=0;d<a.getLength();d+=1){for(n=a.getAt(d),f=[],e=0;e<n.getLength();e+=1)m=n.getAt(e),f.push({x:m.lng(),y:m.lat()});f.push({x:n.getAt(0).lng(),y:n.getAt(0).lat()}),g.push(f)}return j={type:"polygon",components:g}}if(a.constructor===google.maps.Data.MultiPoint){for(f=[],d=0;d<a.getLength();d+=1)m=a.getAt(d),f.push([{x:m.lng(),y:m.lat()}]);return j={type:"multipoint",components:f}}if(a.constructor===google.maps.Data.MultiLineString){for(s=[],d=0;d<a.getLength();d+=1){for(f=[],r=a.getAt(d),e=0;e<r.getLength();e+=1)m=r.getAt(e),f.push({x:m.lng(),y:m.lat()});s.push(f)}return j={type:"multilinestring",components:s}}if(a.constructor===google.maps.Data.MultiPolygon){for(o=[],q=0;q<a.getLength();q+=1){for(p=a.getAt(q),g=[],d=0;d<p.getLength();d+=1){for(n=p.getAt(d),f=[],e=0;e<n.getLength();e+=1)m=n.getAt(e),f.push({x:m.lng(),y:m.lat()});f.push({x:n.getAt(0).lng(),y:n.getAt(0).lat()}),g.push(f)}o.push(g)}return j={type:"multipolygon",components:o}}if(a.constructor===google.maps.Data.GeometryCollection){var D=[];for(q=0;q<a.getLength();q+=1){var E=a.getAt(q);D.push(this.deconstruct.call(this,E))}return j={type:"geometrycollection",components:D}}if(km.isArray(a)){for(c=[],d=0;d<a.length;d+=1)c.push(this.deconstruct.call(this,a[d],!0));return j={type:function(){var b,c=a[0].constructor;for(b=0;b<a.length;b+=1)if(a[b].constructor!==c)return"geometrycollection";switch(c){case google.maps.Marker:return"multipoint";case google.maps.Polyline:return"multilinestring";case google.maps.Polygon:return"multipolygon";default:return"geometrycollection"}}(),components:function(){var a,b;for(b=[],a=0;a<c.length;a+=1)c[a].components&&b.push(c[a].components);return{comps:b}}()},j.components=j.components.comps,j}console.warn("The passed object does not have any recognizable properties.")};var lm=Array.prototype,mm=lm.splice;k.prototype.clear=d,k.prototype.delete=g,k.prototype.get=h,k.prototype.has=i,k.prototype.set=j;var nm="object"==("undefined"==typeof global?"undefined":jm(global))&&global&&global.Object===Object&&global,om="object"==("undefined"==typeof self?"undefined":jm(self))&&self&&self.Object===Object&&self,pm=nm||om||Function("return this")(),qm=pm.Symbol,rm=Object.prototype,sm=rm.hasOwnProperty,tm=rm.toString,um=qm?qm.toStringTag:void 0,vm=Object.prototype,wm=vm.toString,xm="[object Null]",ym="[object Undefined]",zm=qm?qm.toStringTag:void 0,Am="[object AsyncFunction]",Bm="[object Function]",Cm="[object GeneratorFunction]",Dm="[object Proxy]",Em=pm["__core-js_shared__"],Fm=function(){var a=/[^.]+$/.exec(Em&&Em.keys&&Em.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Gm=Function.prototype,Hm=Gm.toString,Im=/[\\^$.*+?()[\]{}|]/g,Jm=/^\[object .+?Constructor\]$/,Km=Function.prototype,Lm=Object.prototype,Mm=Km.toString,Nm=Lm.hasOwnProperty,Om=RegExp("^"+Mm.call(Nm).replace(Im,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pm=y(pm,"Map"),Qm=y(Object,"create"),Rm="__lodash_hash_undefined__",Sm=Object.prototype,Tm=Sm.hasOwnProperty,Um=Object.prototype,Vm=Um.hasOwnProperty,Wm="__lodash_hash_undefined__";E.prototype.clear=z,E.prototype.delete=A,E.prototype.get=B,E.prototype.has=C,E.prototype.set=D,M.prototype.clear=F,M.prototype.delete=I,M.prototype.get=J,M.prototype.has=K,M.prototype.set=L;var Xm=200;O.prototype.clear=l,O.prototype.delete=m,O.prototype.get=n,O.prototype.has=o,O.prototype.set=N;var Ym="__lodash_hash_undefined__";R.prototype.add=R.prototype.push=P,R.prototype.has=Q;var Zm=1,$m=2,_m=pm.Uint8Array,an=1,bn=2,cn="[object Boolean]",dn="[object Date]",en="[object Error]",fn="[object Map]",gn="[object Number]",hn="[object RegExp]",jn="[object Set]",kn="[object String]",ln="[object Symbol]",mn="[object ArrayBuffer]",nn="[object DataView]",on=qm?qm.prototype:void 0,pn=on?on.valueOf:void 0,qn=Array.isArray,rn=Object.prototype,sn=rn.propertyIsEnumerable,tn=Object.getOwnPropertySymbols,un=tn?function(a){return null==a?[]:(a=Object(a),$(tn(a),function(b){return sn.call(a,b)}))}:_,vn="[object Arguments]",wn=Object.prototype,xn=wn.hasOwnProperty,yn=wn.propertyIsEnumerable,zn=ca(function(){return arguments}())?ca:function(a){return ba(a)&&xn.call(a,"callee")&&!yn.call(a,"callee")},An="object"==(void 0===a?"undefined":jm(a))&&a&&!a.nodeType&&a,Bn=An&&"object"==("undefined"==typeof module?"undefined":jm(module))&&module&&!module.nodeType&&module,Cn=Bn&&Bn.exports===An,Dn=Cn?pm.Buffer:void 0,En=Dn?Dn.isBuffer:void 0,Fn=En||da,Gn=9007199254740991,Hn=/^(?:0|[1-9]\d*)$/,In=9007199254740991,Jn={};Jn["[object Float32Array]"]=Jn["[object Float64Array]"]=Jn["[object Int8Array]"]=Jn["[object Int16Array]"]=Jn["[object Int32Array]"]=Jn["[object Uint8Array]"]=Jn["[object Uint8ClampedArray]"]=Jn["[object Uint16Array]"]=Jn["[object Uint32Array]"]=!0,Jn["[object Arguments]"]=Jn["[object Array]"]=Jn["[object ArrayBuffer]"]=Jn["[object Boolean]"]=Jn["[object DataView]"]=Jn["[object Date]"]=Jn["[object Error]"]=Jn["[object Function]"]=Jn["[object Map]"]=Jn["[object Number]"]=Jn["[object Object]"]=Jn["[object RegExp]"]=Jn["[object Set]"]=Jn["[object String]"]=Jn["[object WeakMap]"]=!1;var Kn="object"==(void 0===a?"undefined":jm(a))&&a&&!a.nodeType&&a,Ln=Kn&&"object"==("undefined"==typeof module?"undefined":jm(module))&&module&&!module.nodeType&&module,Mn=Ln&&Ln.exports===Kn,Nn=Mn&&nm.process,On=function(){try{return Nn&&Nn.binding&&Nn.binding("util")}catch(a){}}(),Pn=On&&On.isTypedArray,Qn=Pn?ha(Pn):ga,Rn=Object.prototype,Sn=Rn.hasOwnProperty,Tn=Object.prototype,Un=ka(Object.keys,Object),Vn=Object.prototype,Wn=Vn.hasOwnProperty,Xn=1,Yn=Object.prototype,Zn=Yn.hasOwnProperty,$n=y(pm,"DataView"),_n=y(pm,"Promise"),ao=y(pm,"Set"),bo=y(pm,"WeakMap"),co="[object Map]",eo="[object Promise]",fo="[object Set]",go="[object WeakMap]",ho="[object DataView]",io=v($n),jo=v(Pm),ko=v(_n),lo=v(ao),mo=v(bo),no=r;($n&&no(new $n(new ArrayBuffer(1)))!=ho||Pm&&no(new Pm)!=co||_n&&no(_n.resolve())!=eo||ao&&no(new ao)!=fo||bo&&no(new bo)!=go)&&(no=function(a){var b=r(a),c="[object Object]"==b?a.constructor:void 0,d=c?v(c):"";if(d)switch(d){case io:return ho;case jo:return co;case ko:return eo;case lo:return fo;case mo:return go}return b});var oo=no,po=1,qo="[object Arguments]",ro="[object Array]",so="[object Object]",to=Object.prototype,uo=to.hasOwnProperty,vo=1,wo=2,xo="[object Symbol]",yo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zo=/^\w*$/,Ao="Expected a function";za.Cache=M;var Bo=500,Co=/^\./,Do=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Eo=/\\(\\)?/g,Fo=Aa(function(a){var b=[];return Co.test(a)&&b.push(""),a.replace(Do,function(a,c,d,e){b.push(d?e.replace(Eo,"$1"):c||a)}),b}),Go=1/0,Ho=qm?qm.prototype:void 0,Io=Ho?Ho.toString:void 0,Jo=1/0,Ko=1,Lo=2,Mo=Qa(),No=Sa(Ra),Oo="\\ud800-\\udfff",Po="\\u0300-\\u036f",Qo="\\ufe20-\\ufe2f",Ro="\\u20d0-\\u20ff",So=Po+Qo+Ro,To="\\ufe0e\\ufe0f",Uo="["+Oo+"]",Vo="["+So+"]",Wo="\\ud83c[\\udffb-\\udfff]",Xo="(?:"+Vo+"|"+Wo+")",Yo="[^"+Oo+"]",Zo="(?:\\ud83c[\\udde6-\\uddff]){2}",$o="[\\ud800-\\udbff][\\udc00-\\udfff]",_o="\\u200d",ap=Xo+"?",bp="["+To+"]?",cp=([Yo,Zo,$o].join("|"),[Yo+Vo+"?",Vo,Zo,$o,Uo].join("|"),6371008.8),dp={meters:cp,metres:cp,millimeters:1e3*cp,millimetres:1e3*cp,centimeters:100*cp,centimetres:100*cp,kilometers:cp/1e3,kilometres:cp/1e3,miles:cp/1609.344,nauticalmiles:cp/1852,inches:39.37*cp,yards:cp/1.0936,feet:3.28084*cp,radians:1,degrees:cp/111325},ep=(console.debug.bind(console,"%c turfHelper:","color:#00CC00;font-weight:bold;"),console.debug.bind(console,"%c turfHelper:","color:orange;font-weight:bold;")),fp=function(a){return a},gp=function(a){if(null==a)return fp;var b,c,d=a.scale[0],e=a.scale[1],f=a.translate[0],g=a.translate[1];return function(a,h){h||(b=c=0);var i=2,j=a.length,k=new Array(j);for(k[0]=(b+=a[0])*d+f,k[1]=(c+=a[1])*e+g;i<j;)k[i]=a[i],++i;return k}},hp=function(a,b){for(var c,d=a.length,e=d-b;e<--d;)c=a[e],a[e++]=a[d],a[d]=c},ip=function(a,b){function c(b){var c,d=a.arcs[b<0?~b:b],e=d[0];return a.transform?(c=[0,0],d.forEach(function(a){c[0]+=a[0],c[1]+=a[1]})):c=d[d.length-1],b<0?[c,e]:[e,c]}function d(a,b){for(var c in a){var d=a[c];delete b[d.start],delete d.start,delete d.end,d.forEach(function(a){e[a<0?~a:a]=1}),h.push(d)}}var e={},f={},g={},h=[],i=-1;return b.forEach(function(c,d){var e,f=a.arcs[c<0?~c:c];f.length<3&&!f[1][0]&&!f[1][1]&&(e=b[++i],b[i]=c,b[d]=e)}),b.forEach(function(a){var b,d,e=c(a),h=e[0],i=e[1];if(b=g[h])if(delete g[b.end],b.push(a),b.end=i,d=f[i]){delete f[d.start];var j=d===b?b:b.concat(d);f[j.start=b.start]=g[j.end=d.end]=j}else f[b.start]=g[b.end]=b;else if(b=f[i])if(delete f[b.start],b.unshift(a),b.start=h,d=g[h]){delete g[d.end];var k=d===b?b:d.concat(b);f[k.start=d.start]=g[k.end=b.end]=k}else f[b.start]=g[b.end]=b;else b=[a],f[b.start=h]=g[b.end=i]=b}),d(g,f),d(f,g),b.forEach(function(a){e[a<0?~a:a]||h.push([a])}),h},jp=function(a){return Rb(a,Tb.apply(this,arguments))},kp=function(a){function b(a){null!=a&&j.hasOwnProperty(a.type)&&j[a.type](a)}function c(a){var b=a[0],c=a[1];b<f&&(f=b),b>h&&(h=b),c<g&&(g=c),c>i&&(i=c)}function d(a){a.forEach(c)}function e(a){a.forEach(d)}var f=1/0,g=1/0,h=-1/0,i=-1/0,j={GeometryCollection:function(a){a.geometries.forEach(b)},Point:function(a){c(a.coordinates)},MultiPoint:function(a){a.coordinates.forEach(c)},LineString:function(a){d(a.arcs)},MultiLineString:function(a){a.arcs.forEach(d)},Polygon:function(a){a.arcs.forEach(d)},MultiPolygon:function(a){a.arcs.forEach(e)}};for(var k in a)b(a[k]);return h>=f&&i>=g?[f,g,h,i]:void 0},lp=function(a,b,c,d,e){function f(d){for(var f=b(d)&j,g=i[f],h=0;g!=e;){if(c(g,d))return!0;if(++h>=a)throw new Error("full hashset");g=i[f=f+1&j]}return i[f]=d,!0}function g(d){for(var f=b(d)&j,g=i[f],h=0;g!=e;){if(c(g,d))return!0;if(++h>=a)break;g=i[f=f+1&j]}return!1}function h(){for(var a=[],b=0,c=i.length;b<c;++b){var d=i[b];d!=e&&a.push(d)}return a}3===arguments.length&&(d=Array,e=null);for(var i=new d(a=1<<Math.max(4,Math.ceil(Math.log(a)/Math.LN2))),j=a-1,k=0;k<a;++k)i[k]=e;return{add:f,has:g,values:h}},mp=function(a,b,c,d,e,f){function g(d,f){for(var g=b(d)&m,h=k[g],i=0;h!=e;){if(c(h,d))return l[g]=f;if(++i>=a)throw new Error("full hashmap");h=k[g=g+1&m]}return k[g]=d,l[g]=f,f}function h(d,f){for(var g=b(d)&m,h=k[g],i=0;h!=e;){if(c(h,d))return l[g];if(++i>=a)throw new Error("full hashmap");h=k[g=g+1&m]}return k[g]=d,l[g]=f,f}function i(d,f){for(var g=b(d)&m,h=k[g],i=0;h!=e;){if(c(h,d))return l[g];if(++i>=a)break;h=k[g=g+1&m]}return f}function j(){for(var a=[],b=0,c=k.length;b<c;++b){var d=k[b];d!=e&&a.push(d)}return a}3===arguments.length&&(d=f=Array,e=null);for(var k=new d(a=1<<Math.max(4,Math.ceil(Math.log(a)/Math.LN2))),l=new f(a),m=a-1,n=0;n<a;++n)k[n]=e;return{set:g,maybeSet:h,get:i,keys:j}},np=function(a,b){return a[0]===b[0]&&a[1]===b[1]},op=new ArrayBuffer(16),pp=new Float64Array(op),qp=new Uint32Array(op),rp=function(a){pp[0]=a[0],pp[1]=a[1];var b=qp[0]^qp[1];return 2147483647&(b=b<<5^b>>7^qp[2]^qp[3])},sp=function(a){function b(a,b,c,d){if(o[c]!==a){o[c]=a;var e=p[c];if(e>=0){var f=q[c];e===b&&f===d||e===d&&f===b||(++s,r[c]=1)}else p[c]=b,q[c]=d}}function c(){for(var a=mp(1.4*k.length,d,e,Int32Array,-1,Int32Array),b=new Int32Array(k.length),c=0,f=k.length;c<f;++c)b[c]=a.maybeSet(c,c);return b}function d(a){return rp(k[a])}function e(a,b){return np(k[a],k[b])}var f,g,h,i,j,k=a.coordinates,l=a.lines,m=a.rings,n=c(),o=new Int32Array(k.length),p=new Int32Array(k.length),q=new Int32Array(k.length),r=new Int8Array(k.length),s=0;for(f=0,g=k.length;f<g;++f)o[f]=p[f]=q[f]=-1;for(f=0,g=l.length;f<g;++f){var t=l[f],u=t[0],v=t[1];for(i=n[u],j=n[++u],++s,r[i]=1;++u<=v;)b(f,h=i,i=j,j=n[u]);++s,r[j]=1}for(f=0,g=k.length;f<g;++f)o[f]=-1;for(f=0,g=m.length;f<g;++f){var w=m[f],x=w[0]+1,y=w[1];for(h=n[y-1],i=n[x-1],j=n[x],b(f,h,i,j);++x<=y;)b(f,h=i,i=j,j=n[x])}o=p=q=null;var z,A=lp(1.4*s,rp,np);for(f=0,g=k.length;f<g;++f)r[z=n[f]]&&A.add(k[z]);return A},tp=function(a){var b,c,d,e=sp(a),f=a.coordinates,g=a.lines,h=a.rings;for(c=0,d=g.length;c<d;++c)for(var i=g[c],j=i[0],k=i[1];++j<k;)e.has(f[j])&&(b={0:j,1:i[1]},i[1]=j,i=i.next=b);for(c=0,d=h.length;c<d;++c)for(var l=h[c],m=l[0],n=m,o=l[1],p=e.has(f[m]);++n<o;)e.has(f[n])&&(p?(b={0:n,1:l[1]},l[1]=n,l=l.next=b):(Ub(f,m,o,o-n),f[o]=f[m],p=!0,n=m));return a},up=function(a){function b(a){var b,c,f,g,h,i,j,k;if(f=q.get(b=m[a[0]]))for(j=0,k=f.length;j<k;++j)if(g=f[j],d(g,a))return a[0]=g[0],void(a[1]=g[1]);if(h=q.get(c=m[a[1]]))for(j=0,k=h.length;j<k;++j)if(i=h[j],e(i,a))return a[1]=i[0],void(a[0]=i[1]);f?f.push(a):q.set(b,[a]),h?h.push(a):q.set(c,[a]),r.push(a)}function c(a){var b,c,d,e,i;if(c=q.get(b=m[a[0]]))for(e=0,i=c.length;e<i;++e){if(d=c[e],f(d,a))return a[0]=d[0],void(a[1]=d[1]);if(g(d,a))return a[0]=d[1],void(a[1]=d[0])}if(c=q.get(b=m[a[0]+h(a)]))for(e=0,i=c.length;e<i;++e){if(d=c[e],f(d,a))return a[0]=d[0],void(a[1]=d[1]);if(g(d,a))return a[0]=d[1],void(a[1]=d[0])}c?c.push(a):q.set(b,[a]),r.push(a)}function d(a,b){var c=a[0],d=b[0],e=a[1];if(c-e!=d-b[1])return!1;for(;c<=e;++c,++d)if(!np(m[c],m[d]))return!1;return!0}function e(a,b){var c=a[0],d=b[0],e=a[1],f=b[1];if(c-e!=d-f)return!1;for(;c<=e;++c,--f)if(!np(m[c],m[f]))return!1;return!0}function f(a,b){var c=a[0],d=b[0],e=a[1],f=b[1],g=e-c;if(g!==f-d)return!1;for(var i=h(a),j=h(b),k=0;k<g;++k)if(!np(m[c+(k+i)%g],m[d+(k+j)%g]))return!1;return!0}function g(a,b){var c=a[0],d=b[0],e=a[1],f=b[1],g=e-c;if(g!==f-d)return!1;for(var i=h(a),j=g-h(b),k=0;k<g;++k)if(!np(m[c+(k+i)%g],m[f-(k+j)%g]))return!1;return!0}function h(a){for(var b=a[0],c=a[1],d=b,e=d,f=m[d];++d<c;){var g=m[d];(g[0]<f[0]||g[0]===f[0]&&g[1]<f[1])&&(e=d,f=g)}return e-b}var i,j,k,l,m=a.coordinates,n=a.lines,o=a.rings,p=n.length+o.length;for(delete a.lines,delete a.rings,k=0,l=n.length;k<l;++k)for(i=n[k];i=i.next;)++p;for(k=0,l=o.length;k<l;++k)for(j=o[k];j=j.next;)++p;var q=mp(2*p*1.4,rp,np),r=a.arcs=[];for(k=0,l=n.length;k<l;++k){i=n[k];do{b(i)}while(i=i.next)}for(k=0,l=o.length;k<l;++k)if(j=o[k],j.next)do{b(j)}while(j=j.next);else c(j);return a},vp=function(a){for(var b=-1,c=a.length;++b<c;){for(var d,e,f=a[b],g=0,h=1,i=f.length,j=f[0],k=j[0],l=j[1];++g<i;)j=f[g],d=j[0],e=j[1],d===k&&e===l||(f[h++]=[d-k,e-l],k=d,l=e);1===h&&(f[h++]=[0,0]),f.length=h}return a},wp=function(a){function b(a){a&&j.hasOwnProperty(a.type)&&j[a.type](a)}function c(a){for(var b=0,c=a.length;b<c;++b)i[++f]=a[b];var d={0:f-c+1,1:f};return g.push(d),d}function d(a){for(var b=0,c=a.length;b<c;++b)i[++f]=a[b];var d={0:f-c+1,1:f};return h.push(d),d}function e(a){return a.map(d)}var f=-1,g=[],h=[],i=[],j={GeometryCollection:function(a){a.geometries.forEach(b)},LineString:function(a){a.arcs=c(a.arcs)},MultiLineString:function(a){a.arcs=a.arcs.map(c)},Polygon:function(a){a.arcs=a.arcs.map(d)},MultiPolygon:function(a){a.arcs=a.arcs.map(e)}};for(var k in a)b(a[k]);return{type:"Topology",coordinates:i,lines:g,rings:h,objects:a}},xp=function(a){var b,c={};for(b in a)c[b]=Wb(a[b]);return c},yp=function(a,b,c){function d(a){return[Math.round((a[0]-j)*n),Math.round((a[1]-k)*o)]}function e(a,b){for(var c,d,e,f,g,h=-1,i=0,l=a.length,m=new Array(l);++h<l;)c=a[h],f=Math.round((c[0]-j)*n),g=Math.round((c[1]-k)*o),f===d&&g===e||(m[i++]=[d=f,e=g]);for(m.length=i;i<b;)i=m.push([m[0][0],m[0][1]]);return m}function f(a){return e(a,2)}function g(a){return e(a,4)}function h(a){return a.map(g)}function i(a){null!=a&&p.hasOwnProperty(a.type)&&p[a.type](a)}var j=b[0],k=b[1],l=b[2],m=b[3],n=l-j?(c-1)/(l-j):1,o=m-k?(c-1)/(m-k):1,p={GeometryCollection:function(a){a.geometries.forEach(i)},Point:function(a){a.coordinates=d(a.coordinates)},MultiPoint:function(a){a.coordinates=a.coordinates.map(d)},LineString:function(a){a.arcs=f(a.arcs)},MultiLineString:function(a){a.arcs=a.arcs.map(f)},Polygon:function(a){a.arcs=h(a.arcs)},MultiPolygon:function(a){a.arcs=a.arcs.map(h)}};for(var q in a)i(a[q]);return{scale:[1/n,1/o],translate:[j,k]}},zp=function(a,b){function c(a){a&&k.hasOwnProperty(a.type)&&k[a.type](a)}function d(a){var b=[];do{var c=j.get(a);b.push(a[0]<a[1]?c:~c)}while(a=a.next);return b}function e(a){return a.map(d)}var f=kp(a=xp(a)),g=b>0&&f&&yp(a,f,b),h=up(tp(wp(a))),i=h.coordinates,j=mp(1.4*h.arcs.length,$b,_b);a=h.objects,h.bbox=f,h.arcs=h.arcs.map(function(a,b){return j.set(a,b),i.slice(a[0],a[1]+1)}),delete h.coordinates,i=null;var k={GeometryCollection:function(a){a.geometries.forEach(c)},LineString:function(a){a.arcs=d(a.arcs)},MultiLineString:function(a){a.arcs=a.arcs.map(d)},Polygon:function(a){a.arcs=a.arcs.map(d)},MultiPolygon:function(a){a.arcs=a.arcs.map(e)}};for(var l in a)c(a[l]);return g&&(h.transform=g,h.arcs=vp(h.arcs)),h},Ap=hc(function(a){!function(){function b(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d}function c(a,b,c){var d=b.x,e=b.y,f=c.x-d,g=c.y-e;if(0!==f||0!==g){var h=((a.x-d)*f+(a.y-e)*g)/(f*f+g*g);h>1?(d=c.x,e=c.y):h>0&&(d+=f*h,e+=g*h)}return f=a.x-d,g=a.y-e,f*f+g*g}function d(a,c){for(var d,e=a[0],f=[e],g=1,h=a.length;g<h;g++)d=a[g],b(d,e)>c&&(f.push(d),e=d);return e!==d&&f.push(d),f}function e(a,b){var d,e,f,g,h=a.length,i="undefined"!=typeof Uint8Array?Uint8Array:Array,j=new i(h),k=0,l=h-1,m=[],n=[];for(j[k]=j[l]=1;l;){for(e=0,d=k+1;d<l;d++)(f=c(a[d],a[k],a[l]))>e&&(g=d,e=f);e>b&&(j[g]=1,m.push(k,g,g,l)),l=m.pop(),k=m.pop()}for(d=0;d<h;d++)j[d]&&n.push(a[d]);return n}function f(a,b,c){var f=void 0!==b?b*b:1;return a=c?a:d(a,f),a=e(a,f)}a.exports=f}()}),Bp=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};Bp(yc.prototype,{interfaces_:function(){return[]},getClass:function(){return yc}}),yc.equalsWithTolerance=function(a,b,c){return Math.abs(a-b)<=c},Ac.isNaN=function(a){return Number.isNaN(a)},Ac.doubleToLongBits=function(a){return a},Ac.longBitsToDouble=function(a){return a},Ac.isInfinite=function(a){return!Number.isFinite(a)},Ac.MAX_VALUE=Number.MAX_VALUE,Fc.prototype=Object.create(Error.prototype),Fc.prototype.constructor=Error;var Cp=function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a};Cp(Gc,Fc),Bp(Gc.prototype,{interfaces_:function(){return[]},getClass:function(){return Gc}}),Bp(Hc.prototype,{interfaces_:function(){return[]},getClass:function(){return Hc}}),Hc.shouldNeverReachHere=function(){if(0===arguments.length)Hc.shouldNeverReachHere(null);else if(1===arguments.length){var a=arguments[0];throw new Gc("Should never reach here"+(null!==a?": "+a:""))}},Hc.isTrue=function(){if(1===arguments.length){var a=arguments[0];Hc.isTrue(a,null)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];if(!a)throw null===b?new Gc:new Gc(b)}},Hc.equals=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];Hc.equals(a,b,null)}else if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];if(!b.equals(a))throw new Gc("Expected "+a+" but encountered "+b+(null!==c?": "+c:""))}},Bp(Ic.prototype,{setOrdinate:function(a,b){switch(a){case Ic.X:this.x=b;break;case Ic.Y:this.y=b;break;case Ic.Z:this.z=b;break;default:throw new zc("Invalid ordinate index: "+a)}},equals2D:function(){if(1===arguments.length){var a=arguments[0];return this.x===a.x&&this.y===a.y}if(2===arguments.length){var b=arguments[0],c=arguments[1];return!!yc.equalsWithTolerance(this.x,b.x,c)&&!!yc.equalsWithTolerance(this.y,b.y,c)}},getOrdinate:function(a){switch(a){case Ic.X:return this.x;case Ic.Y:return this.y;case Ic.Z:return this.z}throw new zc("Invalid ordinate index: "+a)},equals3D:function(a){return this.x===a.x&&this.y===a.y&&(this.z===a.z||Ac.isNaN(this.z)&&Ac.isNaN(a.z))},equals:function(a){return a instanceof Ic&&this.equals2D(a)},equalInZ:function(a,b){return yc.equalsWithTolerance(this.z,a.z,b)},compareTo:function(a){var b=a;return this.x<b.x?-1:this.x>b.x?1:this.y<b.y?-1:this.y>b.y?1:0},clone:function(){try{return null}catch(a){if(a instanceof CloneNotSupportedException)return Hc.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw a}},copy:function(){return new Ic(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(a){var b=this.x-a.x,c=this.y-a.y,d=this.z-a.z;return Math.sqrt(b*b+c*c+d*d)},distance:function(a){var b=this.x-a.x,c=this.y-a.y;return Math.sqrt(b*b+c*c)},hashCode:function(){var a=17;return a=37*a+Ic.hashCode(this.x),a=37*a+Ic.hashCode(this.y)},setCoordinate:function(a){this.x=a.x,this.y=a.y,this.z=a.z},interfaces_:function(){return[Bc,Cc,Ec]},getClass:function(){return Ic}}),Ic.hashCode=function(){if(1===arguments.length){var a=arguments[0],b=Ac.doubleToLongBits(a);return Math.trunc(b^b>>>32)}},Bp(Jc.prototype,{compare:function(a,b){var c=a,d=b,e=Jc.compare(c.x,d.x);if(0!==e)return e;var f=Jc.compare(c.y,d.y);return 0!==f?f:this._dimensionsToTest<=2?0:Jc.compare(c.z,d.z)},interfaces_:function(){return[Dc]},getClass:function(){return Jc}}),Jc.compare=function(a,b){return a<b?-1:a>b?1:Ac.isNaN(a)?Ac.isNaN(b)?0:-1:Ac.isNaN(b)?1:0},Ic.DimensionalComparator=Jc,Ic.serialVersionUID=0x5cbf2c235c7e5800,Ic.NULL_ORDINATE=Ac.NaN,Ic.X=0,Ic.Y=1,Ic.Z=2,Kc.prototype.hasNext=function(){},Kc.prototype.next=function(){},Kc.prototype.remove=function(){},Lc.prototype.add=function(){},Lc.prototype.addAll=function(){},Lc.prototype.isEmpty=function(){},Lc.prototype.iterator=function(){},Lc.prototype.size=function(){},Lc.prototype.toArray=function(){},Lc.prototype.remove=function(){},Mc.prototype=new Error,Mc.prototype.name="IndexOutOfBoundsException",Nc.prototype=Object.create(Lc.prototype),Nc.prototype.constructor=Nc,Nc.prototype.get=function(){},Nc.prototype.set=function(){},Nc.prototype.isEmpty=function(){},Oc.prototype=new Error,Oc.prototype.name="NoSuchElementException",Pc.prototype=new Error,Pc.prototype.name="OperationNotSupported",Qc.prototype=Object.create(Nc.prototype),Qc.prototype.constructor=Qc,Qc.prototype.ensureCapacity=function(){},Qc.prototype.interfaces_=function(){return[Nc,Lc]},Qc.prototype.add=function(a){return 1===arguments.length?this.array_.push(a):this.array_.splice(arguments[0],arguments[1]),!0},Qc.prototype.clear=function(){this.array_=[]},Qc.prototype.addAll=function(a){for(var b=a.iterator();b.hasNext();)this.add(b.next());return!0},Qc.prototype.set=function(a,b){var c=this.array_[a];return this.array_[a]=b,c},Qc.prototype.iterator=function(){return new Dp(this)},Qc.prototype.get=function(a){if(a<0||a>=this.size())throw new Mc;return this.array_[a]},Qc.prototype.isEmpty=function(){return 0===this.array_.length},Qc.prototype.size=function(){return this.array_.length},Qc.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a},Qc.prototype.remove=function(a){for(var b=!1,c=0,d=this.array_.length;c<d;c++)if(this.array_[c]===a){this.array_.splice(c,1),b=!0;break}return b};var Dp=function(a){this.arrayList_=a,this.position_=0};Dp.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Oc;return this.arrayList_.get(this.position_++)},Dp.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},Dp.prototype.set=function(a){return this.arrayList_.set(this.position_-1,a)},Dp.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},Cp(Rc,Qc),Bp(Rc.prototype,{getCoordinate:function(a){return this.get(a)},addAll:function(){if(2===arguments.length){for(var a=arguments[0],b=arguments[1],c=!1,d=a.iterator();d.hasNext();)this.add(d.next(),b),c=!0;return c}return Qc.prototype.addAll.apply(this,arguments)},clone:function(){for(var a=Qc.prototype.clone.call(this),b=0;b<this.size();b++)a.add(b,this.get(b).copy());return a},toCoordinateArray:function(){return this.toArray(Rc.coordArrayType)},add:function(){if(1===arguments.length){var a=arguments[0];Qc.prototype.add.call(this,a)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],b=arguments[1];return this.add(a,b,!0),!0}if(arguments[0]instanceof Ic&&"boolean"==typeof arguments[1]){var a=arguments[0],b=arguments[1];if(!b&&this.size()>=1){var c=this.get(this.size()-1);if(c.equals2D(a))return null}Qc.prototype.add.call(this,a)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var d=arguments[0],b=arguments[1];return this.add(d,b),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],b=arguments[1],e=arguments[2];if(e)for(var f=0;f<a.length;f++)this.add(a[f],b);else for(var f=a.length-1;f>=0;f--)this.add(a[f],b);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof Ic){var f=arguments[0],a=arguments[1],b=arguments[2];if(!b){var g=this.size();if(g>0){if(f>0){var h=this.get(f-1);if(h.equals2D(a))return null}if(f<g){var i=this.get(f);if(i.equals2D(a))return null}}}Qc.prototype.add.call(this,f,a)}}else if(4===arguments.length){var a=arguments[0],b=arguments[1],j=arguments[2],k=arguments[3],l=1;j>k&&(l=-1);for(var f=j;f!==k;f+=l)this.add(a[f],b);return!0}},closeRing:function(){this.size()>0&&this.add(new Ic(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return Rc}}),Rc.coordArrayType=new Array(0).fill(null),Bp(Sc.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(a){if(!(a instanceof Sc))return!1;var b=a;return this.isNull()?b.isNull():this._maxx===b.getMaxX()&&this._maxy===b.getMaxY()&&this._minx===b.getMinX()&&this._miny===b.getMinY()},intersection:function(a){if(this.isNull()||a.isNull()||!this.intersects(a))return new Sc;var b=this._minx>a._minx?this._minx:a._minx,c=this._miny>a._miny?this._miny:a._miny;return new Sc(b,this._maxx<a._maxx?this._maxx:a._maxx,c,this._maxy<a._maxy?this._maxy:a._maxy)},isNull:function(){return this._maxx<this._minx},getMaxX:function(){return this._maxx},covers:function(){if(1===arguments.length){if(arguments[0]instanceof Ic){var a=arguments[0];return this.covers(a.x,a.y)}if(arguments[0]instanceof Sc){var b=arguments[0];return!this.isNull()&&!b.isNull()&&(b.getMinX()>=this._minx&&b.getMaxX()<=this._maxx&&b.getMinY()>=this._miny&&b.getMaxY()<=this._maxy)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];return!this.isNull()&&(c>=this._minx&&c<=this._maxx&&d>=this._miny&&d<=this._maxy)}},intersects:function(){if(1===arguments.length){if(arguments[0]instanceof Sc){var a=arguments[0];return!this.isNull()&&!a.isNull()&&!(a._minx>this._maxx||a._maxx<this._minx||a._miny>this._maxy||a._maxy<this._miny)}if(arguments[0]instanceof Ic){var b=arguments[0];return this.intersects(b.x,b.y)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];return!this.isNull()&&!(c>this._maxx||c<this._minx||d>this._maxy||d<this._miny)}},getMinY:function(){return this._miny},getMinX:function(){return this._minx},expandToInclude:function(){if(1===arguments.length){if(arguments[0]instanceof Ic){var a=arguments[0];this.expandToInclude(a.x,a.y)}else if(arguments[0]instanceof Sc){var b=arguments[0];if(b.isNull())return null;this.isNull()?(this._minx=b.getMinX(),this._maxx=b.getMaxX(),this._miny=b.getMinY(),this._maxy=b.getMaxY()):(b._minx<this._minx&&(this._minx=b._minx),b._maxx>this._maxx&&(this._maxx=b._maxx),b._miny<this._miny&&(this._miny=b._miny),b._maxy>this._maxy&&(this._maxy=b._maxy))}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];this.isNull()?(this._minx=c,this._maxx=c,this._miny=d,this._maxy=d):(c<this._minx&&(this._minx=c),c>this._maxx&&(this._maxx=c),d<this._miny&&(this._miny=d),d>this._maxy&&(this._maxy=d))}},minExtent:function(){if(this.isNull())return 0;var a=this.getWidth(),b=this.getHeight();return a<b?a:b},getWidth:function(){return this.isNull()?0:this._maxx-this._minx},compareTo:function(a){var b=a;return this.isNull()?b.isNull()?0:-1:b.isNull()?1:this._minx<b._minx?-1:this._minx>b._minx?1:this._miny<b._miny?-1:this._miny>b._miny?1:this._maxx<b._maxx?-1:this._maxx>b._maxx?1:this._maxy<b._maxy?-1:this._maxy>b._maxy?1:0},translate:function(a,b){if(this.isNull())return null;this.init(this.getMinX()+a,this.getMaxX()+a,this.getMinY()+b,this.getMaxY()+b)},toString:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},setToNull:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},getHeight:function(){return this.isNull()?0:this._maxy-this._miny},maxExtent:function(){if(this.isNull())return 0;var a=this.getWidth(),b=this.getHeight();return a>b?a:b},expandBy:function(){if(1===arguments.length){var a=arguments[0];this.expandBy(a,a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];if(this.isNull())return null;this._minx-=b,this._maxx+=b,this._miny-=c,this._maxy+=c,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},contains:function(){if(1===arguments.length){if(arguments[0]instanceof Sc){var a=arguments[0];return this.covers(a)}if(arguments[0]instanceof Ic){var b=arguments[0];return this.covers(b)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];return this.covers(c,d)}},centre:function(){return this.isNull()?null:new Ic((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof Ic){var a=arguments[0];this.init(a.x,a.x,a.y,a.y)}else if(arguments[0]instanceof Sc){var b=arguments[0];this._minx=b._minx,this._maxx=b._maxx,this._miny=b._miny,this._maxy=b._maxy}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];this.init(c.x,d.x,c.y,d.y)}else if(4===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2],h=arguments[3];e<f?(this._minx=e,this._maxx=f):(this._minx=f,this._maxx=e),g<h?(this._miny=g,this._maxy=h):(this._miny=h,this._maxy=g)}},getMaxY:function(){return this._maxy},distance:function(a){if(this.intersects(a))return 0;var b=0;this._maxx<a._minx?b=a._minx-this._maxx:this._minx>a._maxx&&(b=this._minx-a._maxx);var c=0;return this._maxy<a._miny?c=a._miny-this._maxy:this._miny>a._maxy&&(c=this._miny-a._maxy),0===b?c:0===c?b:Math.sqrt(b*b+c*c)},hashCode:function(){var a=17;return a=37*a+Ic.hashCode(this._minx),a=37*a+Ic.hashCode(this._maxx),a=37*a+Ic.hashCode(this._miny),a=37*a+Ic.hashCode(this._maxy)},interfaces_:function(){return[Bc,Ec]},getClass:function(){return Sc}}),Sc.intersects=function(){if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];return c.x>=(a.x<b.x?a.x:b.x)&&c.x<=(a.x>b.x?a.x:b.x)&&c.y>=(a.y<b.y?a.y:b.y)&&c.y<=(a.y>b.y?a.y:b.y)}if(4===arguments.length){var a=arguments[0],b=arguments[1],d=arguments[2],e=arguments[3],f=Math.min(d.x,e.x),g=Math.max(d.x,e.x),h=Math.min(a.x,b.x),i=Math.max(a.x,b.x);return!(h>g)&&(!(i<f)&&(f=Math.min(d.y,e.y),g=Math.max(d.y,e.y),h=Math.min(a.y,b.y),i=Math.max(a.y,b.y),!(h>g)&&!(i<f)))}},Sc.serialVersionUID=0x51845cd552189800,Cp(Uc,Tc),Bp(Uc.prototype,{interfaces_:function(){return[]},getClass:function(){return Uc}}),Bp(Vc.prototype,{interfaces_:function(){return[]},getClass:function(){return Vc}}),Vc.toLocationSymbol=function(a){switch(a){case Vc.EXTERIOR:return"e";case Vc.BOUNDARY:return"b";case Vc.INTERIOR:return"i";case Vc.NONE:return"-"}throw new zc("Unknown location value: "+a)},Vc.INTERIOR=0,Vc.BOUNDARY=1,Vc.EXTERIOR=2,Vc.NONE=-1;var Ep=function(a,b){return a.interfaces_&&a.interfaces_().indexOf(b)>-1};Bp(Wc.prototype,{interfaces_:function(){return[]},getClass:function(){return Wc}}),Wc.log10=function(a){var b=Math.log(a);return Ac.isInfinite(b)?b:Ac.isNaN(b)?b:b/Wc.LOG_10},Wc.min=function(a,b,c,d){var e=a;return b<e&&(e=b),c<e&&(e=c),d<e&&(e=d),e},Wc.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1],c=arguments[2];return a<b?b:a>c?c:a}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],b=arguments[1],c=arguments[2];return a<b?b:a>c?c:a}},Wc.wrap=function(a,b){return a<0?b- -a%b:a%b},Wc.max=function(){if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=a;return b>d&&(d=b),c>d&&(d=c),d}if(4===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],e=arguments[3],d=a;return b>d&&(d=b),c>d&&(d=c),e>d&&(d=e),d}},Wc.average=function(a,b){return(a+b)/2},Wc.LOG_10=Math.log(10),Xc.prototype.append=function(a){this.str+=a},Xc.prototype.setCharAt=function(a,b){this.str=this.str.substr(0,a)+b+this.str.substr(a+1)},Xc.prototype.toString=function(a){return this.str},Yc.prototype.intValue=function(){return this.value},Yc.prototype.compareTo=function(a){return this.value<a?-1:this.value>a?1:0},Yc.isNaN=function(a){return Number.isNaN(a)},Zc.isWhitespace=function(a){return a<=32&&a>=0||127==a},Zc.toUpperCase=function(a){return a.toUpperCase()},Bp($c.prototype,{le:function(a){return this._hi<a._hi||this._hi===a._hi&&this._lo<=a._lo},extractSignificantDigits:function(a,b){var c=this.abs(),d=$c.magnitude(c._hi),e=$c.TEN.pow(d);c=c.divide(e),c.gt($c.TEN)?(c=c.divide($c.TEN),d+=1):c.lt($c.ONE)&&(c=c.multiply($c.TEN),d-=1);for(var f=d+1,g=new Xc,h=$c.MAX_PRINT_DIGITS-1,i=0;i<=h;i++){a&&i===f&&g.append(".");var j=Math.trunc(c._hi);if(j<0)break;var k=!1,l=0;j>9?(k=!0,l="9"):l="0"+j,g.append(l),c=c.subtract($c.valueOf(j)).multiply($c.TEN),k&&c.selfAdd($c.TEN);var m=!0,n=$c.magnitude(c._hi);if(n<0&&Math.abs(n)>=h-i&&(m=!1),!m)break}return b[0]=d,g.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this._hi+this._lo},subtract:function(){if(arguments[0]instanceof $c){var a=arguments[0];return this.add(a.negate())}if("number"==typeof arguments[0]){var a=arguments[0];return this.add(-a)}},equals:function(){if(1===arguments.length){var a=arguments[0];return this._hi===a._hi&&this._lo===a._lo}},isZero:function(){return 0===this._hi&&0===this._lo},selfSubtract:function(){if(arguments[0]instanceof $c){var a=arguments[0];return this.isNaN()?this:this.selfAdd(-a._hi,-a._lo)}if("number"==typeof arguments[0]){var a=arguments[0];return this.isNaN()?this:this.selfAdd(-a,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(a){return this.le(a)?this:a},selfDivide:function(){if(1===arguments.length){if(arguments[0]instanceof $c){var a=arguments[0];return this.selfDivide(a._hi,a._lo)}if("number"==typeof arguments[0]){var a=arguments[0];return this.selfDivide(a,0)}}else if(2===arguments.length){var b=arguments[0],c=arguments[1],d=null,e=null,f=null,g=null,h=null,i=null,j=null,k=null;return h=this._hi/b,i=$c.SPLIT*h,d=i-h,k=$c.SPLIT*b,d=i-d,e=h-d,f=k-b,j=h*b,f=k-f,g=b-f,k=d*f-j+d*g+e*f+e*g,i=(this._hi-j-k+this._lo-h*c)/b,k=h+i,this._hi=k,this._lo=h-k+i,this}},dump:function(){return"DD<"+this._hi+", "+this._lo+">"},divide:function(){if(arguments[0]instanceof $c){var a=arguments[0],b=null,c=null,d=null,e=null,f=null,g=null,h=null,i=null;f=this._hi/a._hi,g=$c.SPLIT*f,b=g-f,i=$c.SPLIT*a._hi,b=g-b,c=f-b,d=i-a._hi,h=f*a._hi,d=i-d,e=a._hi-d,i=b*d-h+b*e+c*d+c*e,g=(this._hi-h-i+this._lo-f*a._lo)/a._hi,i=f+g;return new $c(i,f-i+g)}if("number"==typeof arguments[0]){var a=arguments[0];return Ac.isNaN(a)?$c.createNaN():$c.copy(this).selfDivide(a,0)}},ge:function(a){return this._hi>a._hi||this._hi===a._hi&&this._lo>=a._lo},pow:function(a){if(0===a)return $c.valueOf(1);var b=new $c(this),c=$c.valueOf(1),d=Math.abs(a);if(d>1)for(;d>0;)d%2==1&&c.selfMultiply(b),(d/=2)>0&&(b=b.sqr());else c=b;return a<0?c.reciprocal():c},ceil:function(){if(this.isNaN())return $c.NaN;var a=Math.ceil(this._hi),b=0;return a===this._hi&&(b=Math.ceil(this._lo)),new $c(a,b)},compareTo:function(a){var b=a;return this._hi<b._hi?-1:this._hi>b._hi?1:this._lo<b._lo?-1:this._lo>b._lo?1:0},rint:function(){return this.isNaN()?this:this.add(.5).floor()},setValue:function(){if(arguments[0]instanceof $c){var a=arguments[0];return this.init(a),this}if("number"==typeof arguments[0]){var a=arguments[0];return this.init(a),this}},max:function(a){return this.ge(a)?this:a},sqrt:function(){if(this.isZero())return $c.valueOf(0);if(this.isNegative())return $c.NaN;var a=1/Math.sqrt(this._hi),b=this._hi*a,c=$c.valueOf(b),d=this.subtract(c.sqr()),e=d._hi*(.5*a);return c.add(e)},selfAdd:function(){if(1===arguments.length){if(arguments[0]instanceof $c){var a=arguments[0];return this.selfAdd(a._hi,a._lo)}if("number"==typeof arguments[0]){var a=arguments[0],b=null,c=null,d=null,e=null,f=null,g=null;return d=this._hi+a,f=d-this._hi,e=d-f,e=a-f+(this._hi-e),g=e+this._lo,b=d+g,c=g+(d-b),this._hi=b+c,this._lo=c+(b-this._hi),this}}else if(2===arguments.length){var h=arguments[0],i=arguments[1],b=null,c=null,j=null,k=null,d=null,e=null,f=null,g=null;d=this._hi+h,j=this._lo+i,f=d-this._hi,g=j-this._lo,e=d-f,k=j-g,e=h-f+(this._hi-e),k=i-g+(this._lo-k),f=e+j,b=d+f,c=f+(d-b),f=k+c;var l=b+f,m=f+(b-l);return this._hi=l,this._lo=m,this}},selfMultiply:function(){if(1===arguments.length){if(arguments[0]instanceof $c){var a=arguments[0];return this.selfMultiply(a._hi,a._lo)}if("number"==typeof arguments[0]){var a=arguments[0];return this.selfMultiply(a,0)}}else if(2===arguments.length){var b=arguments[0],c=arguments[1],d=null,e=null,f=null,g=null,h=null,i=null;h=$c.SPLIT*this._hi,d=h-this._hi,i=$c.SPLIT*b,d=h-d,e=this._hi-d,f=i-b,h=this._hi*b,f=i-f,g=b-f,i=d*f-h+d*g+e*f+e*g+(this._hi*c+this._lo*b);var j=h+i;d=h-j;var k=i+d;return this._hi=j,this._lo=k,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return $c.NaN;var a=Math.floor(this._hi),b=0;return a===this._hi&&(b=Math.floor(this._lo)),new $c(a,b)},negate:function(){return this.isNaN()?this:new $c(-this._hi,-this._lo)},clone:function(){try{return null}catch(a){if(a instanceof CloneNotSupportedException)return null;throw a}},multiply:function(){if(arguments[0]instanceof $c){var a=arguments[0];return a.isNaN()?$c.createNaN():$c.copy(this).selfMultiply(a)}if("number"==typeof arguments[0]){var a=arguments[0];return Ac.isNaN(a)?$c.createNaN():$c.copy(this).selfMultiply(a,0)}},isNaN:function(){return Ac.isNaN(this._hi)},intValue:function(){return Math.trunc(this._hi)},toString:function(){var a=$c.magnitude(this._hi);return a>=-3&&a<=20?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var a=this.getSpecialNumberString();if(null!==a)return a;var b=new Array(1).fill(null),c=this.extractSignificantDigits(!0,b),d=b[0]+1,e=c;if("."===c.charAt(0))e="0"+c;else if(d<0)e="0."+$c.stringOfChar("0",-d)+c;else if(-1===c.indexOf(".")){var f=d-c.length,g=$c.stringOfChar("0",f);e=c+g+".0"}return this.isNegative()?"-"+e:e},reciprocal:function(){var a=null,b=null,c=null,d=null,e=null,f=null,g=null,h=null;e=1/this._hi,f=$c.SPLIT*e,a=f-e,h=$c.SPLIT*this._hi,a=f-a,b=e-a,c=h-this._hi,g=e*this._hi,c=h-c,d=this._hi-c,h=a*c-g+a*d+b*c+b*d,f=(1-g-h-e*this._lo)/this._hi;var i=e+f;return new $c(i,e-i+f)},toSciNotation:function(){if(this.isZero())return $c.SCI_NOT_ZERO;var a=this.getSpecialNumberString();if(null!==a)return a;var b=new Array(1).fill(null),c=this.extractSignificantDigits(!1,b),d=$c.SCI_NOT_EXPONENT_CHAR+b[0];if("0"===c.charAt(0))throw new IllegalStateException("Found leading zero: "+c);var e="";c.length>1&&(e=c.substring(1));var f=c.charAt(0)+"."+e;return this.isNegative()?"-"+f+d:f+d},abs:function(){return this.isNaN()?$c.NaN:this.isNegative()?this.negate():new $c(this)},isPositive:function(){return this._hi>0||0===this._hi&&this._lo>0},lt:function(a){return this._hi<a._hi||this._hi===a._hi&&this._lo<a._lo},add:function(){if(arguments[0]instanceof $c){var a=arguments[0];return $c.copy(this).selfAdd(a)}if("number"==typeof arguments[0]){var a=arguments[0];return $c.copy(this).selfAdd(a)}},init:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var a=arguments[0];this._hi=a,this._lo=0}else if(arguments[0]instanceof $c){var b=arguments[0];this._hi=b._hi,this._lo=b._lo}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];this._hi=c,this._lo=d}},gt:function(a){return this._hi>a._hi||this._hi===a._hi&&this._lo>a._lo},isNegative:function(){return this._hi<0||0===this._hi&&this._lo<0},trunc:function(){return this.isNaN()?$c.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},interfaces_:function(){return[Ec,Bc,Cc]},getClass:function(){return $c}}),$c.sqr=function(a){return $c.valueOf(a).selfMultiply(a)},$c.valueOf=function(){if("string"==typeof arguments[0]){var a=arguments[0];return $c.parse(a)}if("number"==typeof arguments[0]){return new $c(arguments[0])}},$c.sqrt=function(a){return $c.valueOf(a).sqrt()},$c.parse=function(a){for(var b=0,c=a.length;Zc.isWhitespace(a.charAt(b));)b++;var d=!1;if(b<c){var e=a.charAt(b);"-"!==e&&"+"!==e||(b++,"-"===e&&(d=!0))}for(var f=new $c,g=0,h=0,i=0;;){if(b>=c)break;var j=a.charAt(b);if(b++,Zc.isDigit(j)){var k=j-"0";f.selfMultiply($c.TEN),f.selfAdd(k),g++}else{if("."!==j){if("e"===j||"E"===j){var l=a.substring(b);try{i=Yc.parseInt(l)}catch(b){throw b instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+l+" in string "+a):b}break}throw new NumberFormatException("Unexpected character '"+j+"' at position "+b+" in string "+a)}h=g}}var m=f,n=g-h-i;if(0===n)m=f;else if(n>0){var o=$c.TEN.pow(n);m=f.divide(o)}else if(n<0){var o=$c.TEN.pow(-n);m=f.multiply(o)}return d?m.negate():m},$c.createNaN=function(){return new $c(Ac.NaN,Ac.NaN)},$c.copy=function(a){return new $c(a)},$c.magnitude=function(a){var b=Math.abs(a),c=Math.log(b)/Math.log(10),d=Math.trunc(Math.floor(c));return 10*Math.pow(10,d)<=b&&(d+=1),d},$c.stringOfChar=function(a,b){for(var c=new Xc,d=0;d<b;d++)c.append(a);return c.toString()},$c.PI=new $c(3.141592653589793,1.2246467991473532e-16),$c.TWO_PI=new $c(6.283185307179586,2.4492935982947064e-16),$c.PI_2=new $c(1.5707963267948966,6.123233995736766e-17),$c.E=new $c(2.718281828459045,1.4456468917292502e-16),$c.NaN=new $c(Ac.NaN,Ac.NaN),$c.EPS=1.23259516440783e-32,$c.SPLIT=134217729,$c.MAX_PRINT_DIGITS=32,$c.TEN=$c.valueOf(10),$c.ONE=$c.valueOf(1),$c.SCI_NOT_EXPONENT_CHAR="E",$c.SCI_NOT_ZERO="0.0E0",Bp(_c.prototype,{interfaces_:function(){return[]},getClass:function(){return _c}}),_c.orientationIndex=function(a,b,c){var d=_c.orientationIndexFilter(a,b,c);if(d<=1)return d;var e=$c.valueOf(b.x).selfAdd(-a.x),f=$c.valueOf(b.y).selfAdd(-a.y),g=$c.valueOf(c.x).selfAdd(-b.x),h=$c.valueOf(c.y).selfAdd(-b.y);return e.selfMultiply(h).selfSubtract(f.selfMultiply(g)).signum()},_c.signOfDet2x2=function(a,b,c,d){return a.multiply(d).selfSubtract(b.multiply(c)).signum()},_c.intersection=function(a,b,c,d){var e=$c.valueOf(d.y).selfSubtract(c.y).selfMultiply($c.valueOf(b.x).selfSubtract(a.x)),f=$c.valueOf(d.x).selfSubtract(c.x).selfMultiply($c.valueOf(b.y).selfSubtract(a.y)),g=e.subtract(f),h=$c.valueOf(d.x).selfSubtract(c.x).selfMultiply($c.valueOf(a.y).selfSubtract(c.y)),i=$c.valueOf(d.y).selfSubtract(c.y).selfMultiply($c.valueOf(a.x).selfSubtract(c.x)),j=h.subtract(i),k=j.selfDivide(g).doubleValue(),l=$c.valueOf(a.x).selfAdd($c.valueOf(b.x).selfSubtract(a.x).selfMultiply(k)).doubleValue(),m=$c.valueOf(b.x).selfSubtract(a.x).selfMultiply($c.valueOf(a.y).selfSubtract(c.y)),n=$c.valueOf(b.y).selfSubtract(a.y).selfMultiply($c.valueOf(a.x).selfSubtract(c.x)),o=m.subtract(n),p=o.selfDivide(g).doubleValue();return new Ic(l,$c.valueOf(c.y).selfAdd($c.valueOf(d.y).selfSubtract(c.y).selfMultiply(p)).doubleValue())},_c.orientationIndexFilter=function(a,b,c){var d=null,e=(a.x-c.x)*(b.y-c.y),f=(a.y-c.y)*(b.x-c.x),g=e-f;if(e>0){if(f<=0)return _c.signum(g);d=e+f}else{if(!(e<0))return _c.signum(g);if(f>=0)return _c.signum(g);d=-e-f}var h=_c.DP_SAFE_EPSILON*d;return g>=h||-g>=h?_c.signum(g):2},_c.signum=function(a){return a>0?1:a<0?-1:0},_c.DP_SAFE_EPSILON=1e-15,Bp(ad.prototype,{setOrdinate:function(a,b,c){},size:function(){},getOrdinate:function(a,b){},getCoordinate:function(){},getCoordinateCopy:function(a){},getDimension:function(){},getX:function(a){},clone:function(){},expandEnvelope:function(a){},copy:function(){},getY:function(a){},toCoordinateArray:function(){},interfaces_:function(){return[Cc]},getClass:function(){return ad}}),ad.X=0,ad.Y=1,ad.Z=2,ad.M=3,bd.arraycopy=function(a,b,c,d,e){for(var f=0,g=b;g<b+e;g++)c[d+f]=a[g],f++},bd.getProperty=function(a){return{"line.separator":"\n"}[a]},Bp(cd.prototype,{getY:function(){var a=this.y/this.w;if(Ac.isNaN(a)||Ac.isInfinite(a))throw new Uc;return a},getX:function(){var a=this.x/this.w;if(Ac.isNaN(a)||Ac.isInfinite(a))throw new Uc;return a},getCoordinate:function(){var a=new Ic;return a.x=this.getX(),a.y=this.getY(),a},interfaces_:function(){return[]},getClass:function(){return cd}}),cd.intersection=function(a,b,c,d){var e=a.y-b.y,f=b.x-a.x,g=a.x*b.y-b.x*a.y,h=c.y-d.y,i=d.x-c.x,j=c.x*d.y-d.x*c.y,k=f*j-i*g,l=h*g-e*j,m=e*i-h*f,n=k/m,o=l/m;if(Ac.isNaN(n)||Ac.isInfinite(n)||Ac.isNaN(o)||Ac.isInfinite(o))throw new Uc;return new Ic(n,o)},Bp(dd.prototype,{create:function(){1===arguments.length?arguments[0]instanceof Array||Ep(arguments[0],ad):arguments.length},interfaces_:function(){return[]},getClass:function(){return dd}}),Bp(ed.prototype,{filter:function(a){},interfaces_:function(){return[]},getClass:function(){return ed}}),Bp(fd.prototype,{isGeometryCollection:function(){return this.getSortIndex()===fd.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this._factory},getGeometryN:function(a){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(arguments[0]instanceof fd){var a=arguments[0];return null!==a&&this.equalsTopo(a)}if(arguments[0]instanceof Object){var b=arguments[0];if(!(b instanceof fd))return!1;var a=b;return this.equalsExact(a)}},equalsExact:function(a){return this===a||this.equalsExact(a,0)},geometryChanged:function(){this.apply(fd.geometryChangedFilter)},geometryChangedAction:function(){this._envelope=null},equalsNorm:function(a){return null!==a&&this.norm().equalsExact(a.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(1===arguments.length){var a=arguments[0],b=a;return this.getSortIndex()!==b.getSortIndex()?this.getSortIndex()-b.getSortIndex():this.isEmpty()&&b.isEmpty()?0:this.isEmpty()?-1:b.isEmpty()?1:this.compareToSameClass(a)}if(2===arguments.length){var a=arguments[0],c=arguments[1],b=a;return this.getSortIndex()!==b.getSortIndex()?this.getSortIndex()-b.getSortIndex():this.isEmpty()&&b.isEmpty()?0:this.isEmpty()?-1:b.isEmpty()?1:this.compareToSameClass(a,c)}},getUserData:function(){return this._userData},getSRID:function(){return this._SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(a){if(a.getSortIndex()===fd.SORTINDEX_GEOMETRYCOLLECTION)throw new zc("This method does not support GeometryCollection arguments")},equal:function(a,b,c){return 0===c?a.equals(b):a.distance(b)<=c},norm:function(){var a=this.copy();return a.normalize(),a},getPrecisionModel:function(){return this._factory.getPrecisionModel()},getEnvelopeInternal:function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Sc(this._envelope)},setSRID:function(a){this._SRID=a},setUserData:function(a){this._userData=a},compare:function(a,b){for(var c=a.iterator(),d=b.iterator();c.hasNext()&&d.hasNext();){var e=c.next(),f=d.next(),g=e.compareTo(f);if(0!==g)return g}return c.hasNext()?1:d.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===fd.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===fd.SORTINDEX_MULTIPOINT||this.getSortIndex()===fd.SORTINDEX_MULTILINESTRING||this.getSortIndex()===fd.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[Cc,Bc,Ec]},getClass:function(){return fd}}),fd.hasNonEmptyElements=function(a){for(var b=0;b<a.length;b++)if(!a[b].isEmpty())return!0;return!1},fd.hasNullElements=function(a){for(var b=0;b<a.length;b++)if(null===a[b])return!0;return!1},fd.serialVersionUID=0x799ea46522854c00,fd.SORTINDEX_POINT=0,fd.SORTINDEX_MULTIPOINT=1,fd.SORTINDEX_LINESTRING=2,fd.SORTINDEX_LINEARRING=3,fd.SORTINDEX_MULTILINESTRING=4,fd.SORTINDEX_POLYGON=5,fd.SORTINDEX_MULTIPOLYGON=6,fd.SORTINDEX_GEOMETRYCOLLECTION=7,fd.geometryChangedFilter={interfaces_:function(){return[ed]},filter:function(a){a.geometryChangedAction()}},Bp(gd.prototype,{filter:function(a){},interfaces_:function(){return[]},getClass:function(){return gd}}),Bp(hd.prototype,{isInBoundary:function(a){},interfaces_:function(){return[]},getClass:function(){return hd}}),Bp(id.prototype,{isInBoundary:function(a){return a%2==1},interfaces_:function(){return[hd]},getClass:function(){return id}}),Bp(jd.prototype,{isInBoundary:function(a){return a>0},interfaces_:function(){return[hd]},getClass:function(){return jd}}),Bp(kd.prototype,{isInBoundary:function(a){return a>1},interfaces_:function(){return[hd]},getClass:function(){return kd}}),Bp(ld.prototype,{isInBoundary:function(a){return 1===a},interfaces_:function(){return[hd]},getClass:function(){return ld}}),hd.Mod2BoundaryNodeRule=id,hd.EndPointBoundaryNodeRule=jd,hd.MultiValentEndPointBoundaryNodeRule=kd,hd.MonoValentEndPointBoundaryNodeRule=ld,hd.MOD2_BOUNDARY_RULE=new id,hd.ENDPOINT_BOUNDARY_RULE=new jd,hd.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new kd,hd.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new ld,hd.OGC_SFS_BOUNDARY_RULE=hd.MOD2_BOUNDARY_RULE,Bp(md.prototype,{interfaces_:function(){return[]},getClass:function(){return md}}),md.isRing=function(a){return!(a.length<4)&&!!a[0].equals2D(a[a.length-1])},md.ptNotInList=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(md.indexOf(d,b)<0)return d}return null},md.scroll=function(a,b){var c=md.indexOf(b,a);if(c<0)return null;var d=new Array(a.length).fill(null);bd.arraycopy(a,c,d,0,a.length-c),bd.arraycopy(a,0,d,a.length-c,c),bd.arraycopy(d,0,a,0,a.length)},md.equals=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(a===b)return!0;if(null===a||null===b)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(!a[c].equals(b[c]))return!1;return!0}if(3===arguments.length){var a=arguments[0],b=arguments[1],d=arguments[2];if(a===b)return!0;if(null===a||null===b)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(0!==d.compare(a[c],b[c]))return!1;return!0}},md.intersection=function(a,b){for(var c=new Rc,d=0;d<a.length;d++)b.intersects(a[d])&&c.add(a[d],!0);return c.toCoordinateArray()},md.hasRepeatedPoints=function(a){for(var b=1;b<a.length;b++)if(a[b-1].equals(a[b]))return!0;return!1},md.removeRepeatedPoints=function(a){return md.hasRepeatedPoints(a)?new Rc(a,!1).toCoordinateArray():a},md.reverse=function(a){for(var b=a.length-1,c=Math.trunc(b/2),d=0;d<=c;d++){var e=a[d];a[d]=a[b-d],a[b-d]=e}},md.removeNull=function(a){for(var b=0,c=0;c<a.length;c++)null!==a[c]&&b++;var d=new Array(b).fill(null);if(0===b)return d;for(var e=0,c=0;c<a.length;c++)null!==a[c]&&(d[e++]=a[c]);return d},md.copyDeep=function(){if(1===arguments.length){for(var a=arguments[0],b=new Array(a.length).fill(null),c=0;c<a.length;c++)b[c]=new Ic(a[c]);return b}if(5===arguments.length)for(var d=arguments[0],e=arguments[1],f=arguments[2],g=arguments[3],h=arguments[4],c=0;c<h;c++)f[g+c]=new Ic(d[e+c])},md.isEqualReversed=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=b[a.length-c-1];if(0!==d.compareTo(e))return!1}return!0},md.envelope=function(a){for(var b=new Sc,c=0;c<a.length;c++)b.expandToInclude(a[c]);return b},md.toCoordinateArray=function(a){return a.toArray(md.coordArrayType)},md.atLeastNCoordinatesOrNothing=function(a,b){return b.length>=a?b:[]},md.indexOf=function(a,b){for(var c=0;c<b.length;c++)if(a.equals(b[c]))return c;return-1},md.increasingDirection=function(a){for(var b=0;b<Math.trunc(a.length/2);b++){var c=a.length-1-b,d=a[b].compareTo(a[c]);if(0!==d)return d}return 1},md.compare=function(a,b){for(var c=0;c<a.length&&c<b.length;){var d=a[c].compareTo(b[c]);if(0!==d)return d;c++}return c<b.length?-1:c<a.length?1:0},md.minCoordinate=function(a){for(var b=null,c=0;c<a.length;c++)(null===b||b.compareTo(a[c])>0)&&(b=a[c]);return b},md.extract=function(a,b,c){b=Wc.clamp(b,0,a.length),c=Wc.clamp(c,-1,a.length);var d=c-b+1;c<0&&(d=0),b>=a.length&&(d=0),c<b&&(d=0);var e=new Array(d).fill(null);if(0===d)return e;for(var f=0,g=b;g<=c;g++)e[f++]=a[g];return e},Bp(nd.prototype,{compare:function(a,b){var c=a,d=b;return md.compare(c,d)},interfaces_:function(){return[Dc]},getClass:function(){return nd}}),Bp(od.prototype,{compare:function(a,b){var c=a,d=b;if(c.length<d.length)return-1;if(c.length>d.length)return 1;if(0===c.length)return 0;var e=md.compare(c,d);return md.isEqualReversed(c,d)?0:e},OLDcompare:function(a,b){var c=a,d=b;if(c.length<d.length)return-1;if(c.length>d.length)return 1;if(0===c.length)return 0;for(var e=md.increasingDirection(c),f=md.increasingDirection(d),g=e>0?0:c.length-1,h=f>0?0:c.length-1,i=0;i<c.length;i++){var j=c[g].compareTo(d[h]);if(0!==j)return j;g+=e,h+=f}return 0},interfaces_:function(){return[Dc]},getClass:function(){return od}}),md.ForwardComparator=nd,md.BidirectionalComparator=od,md.coordArrayType=new Array(0).fill(null),pd.prototype.get=function(){},pd.prototype.put=function(){},pd.prototype.size=function(){},pd.prototype.values=function(){},pd.prototype.entrySet=function(){},qd.prototype=new pd,rd.prototype=new Lc,rd.prototype.contains=function(){},sd.prototype=new rd,sd.prototype.contains=function(a){for(var b=0,c=this.array_.length;b<c;b++){if(this.array_[b]===a)return!0}return!1},sd.prototype.add=function(a){return!this.contains(a)&&(this.array_.push(a),!0)},sd.prototype.addAll=function(a){for(var b=a.iterator();b.hasNext();)this.add(b.next());return!0},sd.prototype.remove=function(a){throw new javascript.util.OperationNotSupported},sd.prototype.size=function(){return this.array_.length},sd.prototype.isEmpty=function(){return 0===this.array_.length},sd.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a},sd.prototype.iterator=function(){return new Fp(this)};var Fp=function(a){this.hashSet_=a,this.position_=0};Fp.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Oc;return this.hashSet_.array_[this.position_++]},Fp.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},Fp.prototype.remove=function(){throw new Pc};var Gp=0,Hp=1;yd.prototype=new qd,yd.prototype.get=function(a){for(var b=this.root_;null!==b;){var c=a.compareTo(b.key);if(c<0)b=b.left;else{if(!(c>0))return b.value;b=b.right}}return null},yd.prototype.put=function(a,b){if(null===this.root_)return this.root_={key:a,value:b,left:null,right:null,parent:null,color:Gp,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var c,d,e=this.root_;do{if(c=e,(d=a.compareTo(e.key))<0)e=e.left;else{if(!(d>0)){var f=e.value;return e.value=b,f}e=e.right}}while(null!==e);var g={key:a,left:null,right:null,value:b,parent:c,color:Gp,getValue:function(){return this.value},getKey:function(){return this.key}};return d<0?c.left=g:c.right=g,this.fixAfterInsertion(g),this.size_++,null},yd.prototype.fixAfterInsertion=function(a){for(a.color=Hp;null!=a&&a!=this.root_&&a.parent.color==Hp;)if(ud(a)==wd(ud(ud(a)))){var b=xd(ud(ud(a)));td(b)==Hp?(vd(ud(a),Gp),vd(b,Gp),vd(ud(ud(a)),Hp),a=ud(ud(a))):(a==xd(ud(a))&&(a=ud(a),this.rotateLeft(a)),vd(ud(a),Gp),vd(ud(ud(a)),Hp),this.rotateRight(ud(ud(a))))}else{var b=wd(ud(ud(a)));td(b)==Hp?(vd(ud(a),Gp),vd(b,Gp),vd(ud(ud(a)),Hp),a=ud(ud(a))):(a==wd(ud(a))&&(a=ud(a),this.rotateRight(a)),vd(ud(a),Gp),vd(ud(ud(a)),Hp),this.rotateLeft(ud(ud(a))))}this.root_.color=Gp},yd.prototype.values=function(){var a=new Qc,b=this.getFirstEntry();if(null!==b)for(a.add(b.value);null!==(b=yd.successor(b));)a.add(b.value);return a},yd.prototype.entrySet=function(){var a=new sd,b=this.getFirstEntry();if(null!==b)for(a.add(b);null!==(b=yd.successor(b));)a.add(b);return a},yd.prototype.rotateLeft=function(a){if(null!=a){var b=a.right;a.right=b.left,null!=b.left&&(b.left.parent=a),b.parent=a.parent,null==a.parent?this.root_=b:a.parent.left==a?a.parent.left=b:a.parent.right=b,b.left=a,a.parent=b}},yd.prototype.rotateRight=function(a){if(null!=a){var b=a.left;a.left=b.right,null!=b.right&&(b.right.parent=a),b.parent=a.parent,null==a.parent?this.root_=b:a.parent.right==a?a.parent.right=b:a.parent.left=b,b.right=a,a.parent=b}},yd.prototype.getFirstEntry=function(){var a=this.root_;if(null!=a)for(;null!=a.left;)a=a.left;return a},yd.successor=function(a){if(null===a)return null;if(null!==a.right){for(var b=a.right;null!==b.left;)b=b.left;return b}for(var b=a.parent,c=a;null!==b&&c===b.right;)c=b,b=b.parent;return b},yd.prototype.size=function(){return this.size_},Bp(zd.prototype,{interfaces_:function(){return[]},getClass:function(){return zd}}),Ad.prototype=new rd,Bd.prototype=new Ad,Bd.prototype.contains=function(a){for(var b=0,c=this.array_.length;b<c;b++){if(0===this.array_[b].compareTo(a))return!0}return!1},Bd.prototype.add=function(a){if(this.contains(a))return!1;for(var b=0,c=this.array_.length;b<c;b++){if(1===this.array_[b].compareTo(a))return this.array_.splice(b,0,a),!0}return this.array_.push(a),!0},Bd.prototype.addAll=function(a){for(var b=a.iterator();b.hasNext();)this.add(b.next());return!0},Bd.prototype.remove=function(a){throw new Pc},Bd.prototype.size=function(){return this.array_.length},Bd.prototype.isEmpty=function(){return 0===this.array_.length},Bd.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a},Bd.prototype.iterator=function(){return new Ip(this)};var Ip=function(a){this.treeSet_=a,this.position_=0};Ip.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Oc;return this.treeSet_.array_[this.position_++]},Ip.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Ip.prototype.remove=function(){throw new Pc},Cd.sort=function(){var a,b,c,d,e=arguments[0];if(1===arguments.length)return d=function(a,b){return a.compareTo(b)},void e.sort(d);if(2===arguments.length)c=arguments[1],d=function(a,b){return c.compare(a,b)},e.sort(d);else{if(3===arguments.length){b=e.slice(arguments[1],arguments[2]),b.sort();var f=e.slice(0,arguments[1]).concat(b,e.slice(arguments[2],e.length));for(e.splice(0,e.length),a=0;a<f.length;a++)e.push(f[a]);return}if(4===arguments.length){for(b=e.slice(arguments[1],arguments[2]),c=arguments[3],d=function(a,b){return c.compare(a,b)},b.sort(d),f=e.slice(0,arguments[1]).concat(b,e.slice(arguments[2],e.length)),e.splice(0,e.length),a=0;a<f.length;a++)e.push(f[a]);return}}},Cd.asList=function(a){for(var b=new Qc,c=0,d=a.length;c<d;c++)b.add(a[c]);return b},Bp(Dd.prototype,{interfaces_:function(){return[]},getClass:function(){return Dd}}),Dd.toDimensionSymbol=function(a){switch(a){case Dd.FALSE:return Dd.SYM_FALSE;case Dd.TRUE:return Dd.SYM_TRUE;case Dd.DONTCARE:return Dd.SYM_DONTCARE;case Dd.P:return Dd.SYM_P;case Dd.L:return Dd.SYM_L;case Dd.A:return Dd.SYM_A}throw new zc("Unknown dimension value: "+a)},Dd.toDimensionValue=function(a){switch(Zc.toUpperCase(a)){case Dd.SYM_FALSE:return Dd.FALSE;case Dd.SYM_TRUE:return Dd.TRUE;case Dd.SYM_DONTCARE:return Dd.DONTCARE;case Dd.SYM_P:return Dd.P;case Dd.SYM_L:return Dd.L;case Dd.SYM_A:return Dd.A}throw new zc("Unknown dimension symbol: "+a)},Dd.P=0,Dd.L=1,Dd.A=2,Dd.FALSE=-1,Dd.TRUE=-2,Dd.DONTCARE=-3,Dd.SYM_FALSE="F",Dd.SYM_TRUE="T",Dd.SYM_DONTCARE="*",Dd.SYM_P="0",Dd.SYM_L="1",Dd.SYM_A="2",Bp(Ed.prototype,{filter:function(a){},interfaces_:function(){return[]},getClass:function(){return Ed}}),Bp(Fd.prototype,{filter:function(a,b){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return Fd}}),Cp(Gd,fd),Bp(Gd.prototype,{computeEnvelopeInternal:function(){for(var a=new Sc,b=0;b<this._geometries.length;b++)a.expandToInclude(this._geometries[b].getEnvelopeInternal());return a},getGeometryN:function(a){return this._geometries[a]},getSortIndex:function(){return fd.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var a=new Array(this.getNumPoints()).fill(null),b=-1,c=0;c<this._geometries.length;c++)for(var d=this._geometries[c].getCoordinates(),e=0;e<d.length;e++)b++,a[b]=d[e];return a},getArea:function(){for(var a=0,b=0;b<this._geometries.length;b++)a+=this._geometries[b].getArea();return a},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(!this.isEquivalentClass(a))return!1;var c=a;if(this._geometries.length!==c._geometries.length)return!1;for(var d=0;d<this._geometries.length;d++)if(!this._geometries[d].equalsExact(c._geometries[d],b))return!1;return!0}return fd.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var a=0;a<this._geometries.length;a++)this._geometries[a].normalize();Cd.sort(this._geometries)},getCoordinate:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var a=Dd.FALSE,b=0;b<this._geometries.length;b++)a=Math.max(a,this._geometries[b].getBoundaryDimension());return a},getDimension:function(){for(var a=Dd.FALSE,b=0;b<this._geometries.length;b++)a=Math.max(a,this._geometries[b].getDimension());return a},getLength:function(){for(var a=0,b=0;b<this._geometries.length;b++)a+=this._geometries[b].getLength();return a},getNumPoints:function(){for(var a=0,b=0;b<this._geometries.length;b++)a+=this._geometries[b].getNumPoints();return a},getNumGeometries:function(){return this._geometries.length},reverse:function(){for(var a=this._geometries.length,b=new Array(a).fill(null),c=0;c<this._geometries.length;c++)b[c]=this._geometries[c].reverse();return this.getFactory().createGeometryCollection(b)},compareToSameClass:function(){if(1===arguments.length){var a=arguments[0],b=new Bd(Cd.asList(this._geometries)),c=new Bd(Cd.asList(a._geometries));return this.compare(b,c)}if(2===arguments.length){for(var a=arguments[0],d=arguments[1],e=a,f=this.getNumGeometries(),g=e.getNumGeometries(),h=0;h<f&&h<g;){var i=this.getGeometryN(h),j=e.getGeometryN(h),k=i.compareToSameClass(j,d);if(0!==k)return k;h++}return h<f?1:h<g?-1:0}},apply:function(){if(Ep(arguments[0],gd))for(var a=arguments[0],b=0;b<this._geometries.length;b++)this._geometries[b].apply(a);else if(Ep(arguments[0],Fd)){var a=arguments[0];if(0===this._geometries.length)return null;for(var b=0;b<this._geometries.length&&(this._geometries[b].apply(a),!a.isDone());b++);a.isGeometryChanged()&&this.geometryChanged()}else if(Ep(arguments[0],Ed)){var a=arguments[0];a.filter(this);for(var b=0;b<this._geometries.length;b++)this._geometries[b].apply(a)}else if(Ep(arguments[0],ed)){var a=arguments[0];a.filter(this);for(var b=0;b<this._geometries.length;b++)this._geometries[b].apply(a)}},getBoundary:function(){return this.checkNotGeometryCollection(this),Hc.shouldNeverReachHere(),null},clone:function(){var a=fd.prototype.clone.call(this);a._geometries=new Array(this._geometries.length).fill(null);for(var b=0;b<this._geometries.length;b++)a._geometries[b]=this._geometries[b].clone();return a},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var a=new Array(this._geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this._geometries[b].copy();return new Gd(a,this._factory)},isEmpty:function(){for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return Gd}}),Gd.serialVersionUID=-0x4f07bcb1f857d800,Cp(Hd,Gd),Bp(Hd.prototype,{getSortIndex:function(){return fd.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return!!this.isEquivalentClass(a)&&Gd.prototype.equalsExact.call(this,a,b)}return Gd.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?Dd.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var a=this._geometries.length,b=new Array(a).fill(null),c=0;c<this._geometries.length;c++)b[a-1-c]=this._geometries[c].reverse();return this.getFactory().createMultiLineString(b)},getBoundary:function(){return new Id(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){for(var a=new Array(this._geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this._geometries[b].copy();return new Hd(a,this._factory)},interfaces_:function(){return[zd]},getClass:function(){return Hd}}),Hd.serialVersionUID=0x7155d2ab4afa8000,Bp(Id.prototype,{boundaryMultiLineString:function(a){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var b=this.computeBoundaryCoordinates(a);return 1===b.length?this._geomFact.createPoint(b[0]):this._geomFact.createMultiPointFromCoords(b)},getBoundary:function(){return this._geom instanceof Sd?this.boundaryLineString(this._geom):this._geom instanceof Hd?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},boundaryLineString:function(a){if(this._geom.isEmpty())return this.getEmptyMultiPoint();if(a.isClosed()){return this._bnRule.isInBoundary(2)?a.getStartPoint():this._geomFact.createMultiPoint()}return this._geomFact.createMultiPoint([a.getStartPoint(),a.getEndPoint()])},getEmptyMultiPoint:function(){return this._geomFact.createMultiPoint()},computeBoundaryCoordinates:function(a){var b=new Qc;this._endpointMap=new yd;for(var c=0;c<a.getNumGeometries();c++){var d=a.getGeometryN(c);0!==d.getNumPoints()&&(this.addEndpoint(d.getCoordinateN(0)),this.addEndpoint(d.getCoordinateN(d.getNumPoints()-1)))}for(var e=this._endpointMap.entrySet().iterator();e.hasNext();){var f=e.next(),g=f.getValue(),h=g.count;this._bnRule.isInBoundary(h)&&b.add(f.getKey())}return md.toCoordinateArray(b)},addEndpoint:function(a){var b=this._endpointMap.get(a);null===b&&(b=new Jd,this._endpointMap.put(a,b)),b.count++},interfaces_:function(){return[]},getClass:function(){return Id}}),Id.getBoundary=function(){if(1===arguments.length){var a=arguments[0],b=new Id(a);return b.getBoundary()}if(2===arguments.length){var a=arguments[0],c=arguments[1],b=new Id(a,c);return b.getBoundary()}},Bp(Jd.prototype,{interfaces_:function(){return[]},getClass:function(){return Jd}}),Bp(Qd.prototype,{interfaces_:function(){return[]},getClass:function(){return Qd}}),Qd.chars=function(a,b){for(var c=new Array(b).fill(null),d=0;d<b;d++)c[d]=a;return new String(c)},Qd.getStackTrace=function(){if(1===arguments.length){var a=arguments[0],b=new Nd,c=new Kd(b);return a.printStackTrace(c),b.toString()}if(2===arguments.length){for(var a=arguments[0],d=arguments[1],e="",f=new Ld(Qd.getStackTrace(a)),g=new Pd(f),h=0;h<d;h++)try{e+=g.readLine()+Qd.NEWLINE}catch(a){if(!(a instanceof Od))throw a;Hc.shouldNeverReachHere()}return e}},Qd.split=function(a,b){for(var c=b.length,d=new Qc,e=""+a,f=e.indexOf(b);f>=0;){var g=e.substring(0,f);d.add(g),e=e.substring(f+c),f=e.indexOf(b)}e.length>0&&d.add(e);for(var h=new Array(d.size()).fill(null),i=0;i<h.length;i++)h[i]=d.get(i);return h},Qd.toString=function(){if(1===arguments.length){var a=arguments[0];return Qd.SIMPLE_ORDINATE_FORMAT.format(a)}},Qd.spaces=function(a){return Qd.chars(" ",a)},Qd.NEWLINE=bd.getProperty("line.separator"),Qd.SIMPLE_ORDINATE_FORMAT=new Md("0.#"),Bp(Rd.prototype,{interfaces_:function(){return[]},getClass:function(){return Rd}}),Rd.copyCoord=function(a,b,c,d){for(var e=Math.min(a.getDimension(),c.getDimension()),f=0;f<e;f++)c.setOrdinate(d,f,a.getOrdinate(b,f))},Rd.isRing=function(a){var b=a.size();return 0===b||!(b<=3)&&(a.getOrdinate(0,ad.X)===a.getOrdinate(b-1,ad.X)&&a.getOrdinate(0,ad.Y)===a.getOrdinate(b-1,ad.Y))},Rd.isEqual=function(a,b){var c=a.size();if(c!==b.size())return!1;for(var d=Math.min(a.getDimension(),b.getDimension()),e=0;e<c;e++)for(var f=0;f<d;f++){var g=a.getOrdinate(e,f),h=b.getOrdinate(e,f);if(a.getOrdinate(e,f)!==b.getOrdinate(e,f)&&(!Ac.isNaN(g)||!Ac.isNaN(h)))return!1}return!0},Rd.extend=function(a,b,c){var d=a.create(c,b.getDimension()),e=b.size();if(Rd.copy(b,0,d,0,e),e>0)for(var f=e;f<c;f++)Rd.copy(b,e-1,d,f,1);return d},Rd.reverse=function(a){for(var b=a.size()-1,c=Math.trunc(b/2),d=0;d<=c;d++)Rd.swap(a,d,b-d)},Rd.swap=function(a,b,c){if(b===c)return null;for(var d=0;d<a.getDimension();d++){var e=a.getOrdinate(b,d);a.setOrdinate(b,d,a.getOrdinate(c,d)),a.setOrdinate(c,d,e)}},Rd.copy=function(a,b,c,d,e){for(var f=0;f<e;f++)Rd.copyCoord(a,b+f,c,d+f)},Rd.toString=function(){if(1===arguments.length){var a=arguments[0],b=a.size();if(0===b)return"()";var c=a.getDimension(),d=new Xc;d.append("(");for(var e=0;e<b;e++){e>0&&d.append(" ");for(var f=0;f<c;f++)f>0&&d.append(","),d.append(Qd.toString(a.getOrdinate(e,f)))}return d.append(")"),d.toString()}},Rd.ensureValidRing=function(a,b){var c=b.size();return 0===c?b:c<=3?Rd.createClosedRing(a,b,4):b.getOrdinate(0,ad.X)===b.getOrdinate(c-1,ad.X)&&b.getOrdinate(0,ad.Y)===b.getOrdinate(c-1,ad.Y)?b:Rd.createClosedRing(a,b,c+1)},Rd.createClosedRing=function(a,b,c){var d=a.create(c,b.getDimension()),e=b.size();Rd.copy(b,0,d,0,e);for(var f=e;f<c;f++)Rd.copy(b,0,d,f,1);return d},Cp(Sd,fd),Bp(Sd.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new Sc:this._points.expandEnvelope(new Sc)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return fd.SORTINDEX_LINESTRING},getCoordinates:function(){return this._points.toCoordinateArray()},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(!this.isEquivalentClass(a))return!1;var c=a;if(this._points.size()!==c._points.size())return!1;for(var d=0;d<this._points.size();d++)if(!this.equal(this._points.getCoordinate(d),c._points.getCoordinate(d),b))return!1;return!0}return fd.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var a=0;a<Math.trunc(this._points.size()/2);a++){var b=this._points.size()-1-a;if(!this._points.getCoordinate(a).equals(this._points.getCoordinate(b)))return this._points.getCoordinate(a).compareTo(this._points.getCoordinate(b))>0&&Rd.reverse(this._points),null}},getCoordinate:function(){return this.isEmpty()?null:this._points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?Dd.FALSE:0},isClosed:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return Ee.computeLength(this._points)},getNumPoints:function(){return this._points.size()},reverse:function(){var a=this._points.copy();return Rd.reverse(a),this.getFactory().createLineString(a)},compareToSameClass:function(){if(1===arguments.length){for(var a=arguments[0],b=a,c=0,d=0;c<this._points.size()&&d<b._points.size();){var e=this._points.getCoordinate(c).compareTo(b._points.getCoordinate(d));if(0!==e)return e;c++,d++}return c<this._points.size()?1:d<b._points.size()?-1:0}if(2===arguments.length){var a=arguments[0],f=arguments[1],b=a;return f.compare(this._points,b._points)}},apply:function(){if(Ep(arguments[0],gd))for(var a=arguments[0],b=0;b<this._points.size();b++)a.filter(this._points.getCoordinate(b));else if(Ep(arguments[0],Fd)){var a=arguments[0];if(0===this._points.size())return null;for(var b=0;b<this._points.size()&&(a.filter(this._points,b),!a.isDone());b++);a.isGeometryChanged()&&this.geometryChanged()}else if(Ep(arguments[0],Ed)){var a=arguments[0];a.filter(this)}else if(Ep(arguments[0],ed)){var a=arguments[0];a.filter(this)}},getBoundary:function(){return new Id(this).getBoundary()},isEquivalentClass:function(a){return a instanceof Sd},clone:function(){var a=fd.prototype.clone.call(this);return a._points=this._points.clone(),a},getCoordinateN:function(a){return this._points.getCoordinate(a)},getGeometryType:function(){return"LineString"},copy:function(){return new Sd(this._points.copy(),this._factory)},getCoordinateSequence:function(){return this._points},isEmpty:function(){return 0===this._points.size()},init:function(a){if(null===a&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),1===a.size())throw new zc("Invalid number of points in LineString (found "+a.size()+" - must be 0 or >= 2)");this._points=a},isCoordinate:function(a){for(var b=0;b<this._points.size();b++)if(this._points.getCoordinate(b).equals(a))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(a){return this.getFactory().createPoint(this._points.getCoordinate(a))},interfaces_:function(){return[zd]},getClass:function(){return Sd}}),Sd.serialVersionUID=0x2b2b51ba435c8e00,Bp(Td.prototype,{interfaces_:function(){return[]},getClass:function(){return Td}}),Cp(Ud,fd),Bp(Ud.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new Sc;var a=new Sc;return a.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),a},getSortIndex:function(){return fd.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return!!this.isEquivalentClass(a)&&(!(!this.isEmpty()||!a.isEmpty())||this.isEmpty()===a.isEmpty()&&this.equal(a.getCoordinate(),this.getCoordinate(),b))}return fd.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return Dd.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(1===arguments.length){var a=arguments[0],b=a;return this.getCoordinate().compareTo(b.getCoordinate())}if(2===arguments.length){var a=arguments[0],c=arguments[1],b=a;return c.compare(this._coordinates,b._coordinates)}},apply:function(){if(Ep(arguments[0],gd)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this.getCoordinate())}else if(Ep(arguments[0],Fd)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this._coordinates,0),a.isGeometryChanged()&&this.geometryChanged()}else if(Ep(arguments[0],Ed)){var a=arguments[0];a.filter(this)}else if(Ep(arguments[0],ed)){var a=arguments[0];a.filter(this)}},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var a=fd.prototype.clone.call(this);return a._coordinates=this._coordinates.clone(),a},getGeometryType:function(){return"Point"},copy:function(){return new Ud(this._coordinates.copy(),this._factory)},getCoordinateSequence:function(){return this._coordinates},getY:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return 0===this._coordinates.size()},init:function(a){null===a&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),Hc.isTrue(a.size()<=1),this._coordinates=a},isSimple:function(){return!0},interfaces_:function(){return[Td]},getClass:function(){return Ud}}),Ud.serialVersionUID=0x44077bad161cbc00,Bp(Vd.prototype,{interfaces_:function(){return[]},getClass:function(){return Vd}}),Cp(Wd,fd),Bp(Wd.prototype,{computeEnvelopeInternal:function(){return this._shell.getEnvelopeInternal()},getSortIndex:function(){return fd.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var a=new Array(this.getNumPoints()).fill(null),b=-1,c=this._shell.getCoordinates(),d=0;d<c.length;d++)b++,a[b]=c[d];for(var e=0;e<this._holes.length;e++)for(var f=this._holes[e].getCoordinates(),g=0;g<f.length;g++)b++,a[b]=f[g];return a},getArea:function(){var a=0;a+=Math.abs(Ee.signedArea(this._shell.getCoordinateSequence()));for(var b=0;b<this._holes.length;b++)a-=Math.abs(Ee.signedArea(this._holes[b].getCoordinateSequence()));return a},isRectangle:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var a=this._shell.getCoordinateSequence(),b=this.getEnvelopeInternal(),c=0;c<5;c++){var d=a.getX(c);if(d!==b.getMinX()&&d!==b.getMaxX())return!1;var e=a.getY(c);if(e!==b.getMinY()&&e!==b.getMaxY())return!1}for(var f=a.getX(0),g=a.getY(0),c=1;c<=4;c++){var d=a.getX(c),e=a.getY(c);if(d!==f===(e!==g))return!1;f=d,g=e}return!0},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(!this.isEquivalentClass(a))return!1;var c=a,d=this._shell,e=c._shell;if(!d.equalsExact(e,b))return!1;if(this._holes.length!==c._holes.length)return!1;for(var f=0;f<this._holes.length;f++)if(!this._holes[f].equalsExact(c._holes[f],b))return!1;return!0}return fd.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var a=0;a<this._holes.length;a++)this.normalize(this._holes[a],!1);Cd.sort(this._holes)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];if(b.isEmpty())return null;var d=new Array(b.getCoordinates().length-1).fill(null);bd.arraycopy(b.getCoordinates(),0,d,0,d.length);var e=md.minCoordinate(b.getCoordinates());md.scroll(d,e),bd.arraycopy(d,0,b.getCoordinates(),0,d.length),b.getCoordinates()[d.length]=d[0],Ee.isCCW(b.getCoordinates())===c&&md.reverse(b.getCoordinates())}},getCoordinate:function(){return this._shell.getCoordinate()},getNumInteriorRing:function(){return this._holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var a=0;a+=this._shell.getLength();for(var b=0;b<this._holes.length;b++)a+=this._holes[b].getLength();return a},getNumPoints:function(){for(var a=this._shell.getNumPoints(),b=0;b<this._holes.length;b++)a+=this._holes[b].getNumPoints();return a},reverse:function(){var a=this.copy();a._shell=this._shell.copy().reverse(),a._holes=new Array(this._holes.length).fill(null);for(var b=0;b<this._holes.length;b++)a._holes[b]=this._holes[b].copy().reverse();return a},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(1===arguments.length){var a=arguments[0],b=this._shell,c=a._shell;return b.compareToSameClass(c)}if(2===arguments.length){var a=arguments[0],d=arguments[1],e=a,b=this._shell,c=e._shell,f=b.compareToSameClass(c,d);if(0!==f)return f;for(var g=this.getNumInteriorRing(),h=e.getNumInteriorRing(),i=0;i<g&&i<h;){var j=this.getInteriorRingN(i),k=e.getInteriorRingN(i),l=j.compareToSameClass(k,d);if(0!==l)return l;i++}return i<g?1:i<h?-1:0}},apply:function(){if(Ep(arguments[0],gd)){var a=arguments[0];this._shell.apply(a);for(var b=0;b<this._holes.length;b++)this._holes[b].apply(a)}else if(Ep(arguments[0],Fd)){var a=arguments[0];if(this._shell.apply(a),!a.isDone())for(var b=0;b<this._holes.length&&(this._holes[b].apply(a),!a.isDone());b++);a.isGeometryChanged()&&this.geometryChanged()}else if(Ep(arguments[0],Ed)){var a=arguments[0];a.filter(this)}else if(Ep(arguments[0],ed)){var a=arguments[0];a.filter(this),this._shell.apply(a);for(var b=0;b<this._holes.length;b++)this._holes[b].apply(a)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var a=new Array(this._holes.length+1).fill(null);a[0]=this._shell;for(var b=0;b<this._holes.length;b++)a[b+1]=this._holes[b];return a.length<=1?this.getFactory().createLinearRing(a[0].getCoordinateSequence()):this.getFactory().createMultiLineString(a)},clone:function(){var a=fd.prototype.clone.call(this);a._shell=this._shell.clone(),a._holes=new Array(this._holes.length).fill(null);for(var b=0;b<this._holes.length;b++)a._holes[b]=this._holes[b].clone();return a},getGeometryType:function(){return"Polygon"},copy:function(){for(var a=this._shell.copy(),b=new Array(this._holes.length).fill(null),c=0;c<b.length;c++)b[c]=this._holes[c].copy();return new Wd(a,b,this._factory)},getExteriorRing:function(){return this._shell},isEmpty:function(){return this._shell.isEmpty()},getInteriorRingN:function(a){return this._holes[a]},interfaces_:function(){return[Vd]},getClass:function(){return Wd}}),Wd.serialVersionUID=-0x307ffefd8dc97200,Cp(Xd,Gd),Bp(Xd.prototype,{getSortIndex:function(){return fd.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return!!this.isEquivalentClass(a)&&Gd.prototype.equalsExact.call(this,a,b)}return Gd.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){if(1===arguments.length){var a=arguments[0];return this._geometries[a].getCoordinate()}return Gd.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return Dd.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var a=new Array(this._geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this._geometries[b].copy();return new Xd(a,this._factory)},interfaces_:function(){return[Td]},getClass:function(){return Xd}}),Xd.serialVersionUID=-0x6fb1ed4162e0fc00,Cp(Yd,Sd),Bp(Yd.prototype,{getSortIndex:function(){return fd.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return Dd.FALSE},isClosed:function(){return!!this.isEmpty()||Sd.prototype.isClosed.call(this)},reverse:function(){var a=this._points.copy();return Rd.reverse(a),this.getFactory().createLinearRing(a)},validateConstruction:function(){if(!this.isEmpty()&&!Sd.prototype.isClosed.call(this))throw new zc("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<Yd.MINIMUM_VALID_SIZE)throw new zc("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return"LinearRing"},copy:function(){return new Yd(this._points.copy(),this._factory)},interfaces_:function(){return[]},getClass:function(){return Yd}}),Yd.MINIMUM_VALID_SIZE=4,Yd.serialVersionUID=-0x3b229e262367a600,Cp(Zd,Gd),Bp(Zd.prototype,{getSortIndex:function(){return fd.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return!!this.isEquivalentClass(a)&&Gd.prototype.equalsExact.call(this,a,b)}return Gd.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var a=this._geometries.length,b=new Array(a).fill(null),c=0;c<this._geometries.length;c++)b[c]=this._geometries[c].reverse();return this.getFactory().createMultiPolygon(b)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var a=new Qc,b=0;b<this._geometries.length;b++)for(var c=this._geometries[b],d=c.getBoundary(),e=0;e<d.getNumGeometries();e++)a.add(d.getGeometryN(e));var f=new Array(a.size()).fill(null);return this.getFactory().createMultiLineString(a.toArray(f))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var a=new Array(this._geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this._geometries[b].copy();return new Zd(a,this._factory)},interfaces_:function(){return[Vd]},getClass:function(){return Zd}}),Zd.serialVersionUID=-0x7a5aa1369171980,Bp($d.prototype,{setCopyUserData:function(a){this._isUserDataCopied=a},edit:function(a,b){if(null===a)return null;var c=this.editInternal(a,b);return this._isUserDataCopied&&c.setUserData(a.getUserData()),c},editInternal:function(a,b){return null===this._factory&&(this._factory=a.getFactory()),a instanceof Gd?this.editGeometryCollection(a,b):a instanceof Wd?this.editPolygon(a,b):a instanceof Ud?b.edit(a,this._factory):a instanceof Sd?b.edit(a,this._factory):(Hc.shouldNeverReachHere("Unsupported Geometry class: "+a.getClass().getName()),null)},editGeometryCollection:function(a,b){for(var c=b.edit(a,this._factory),d=new Qc,e=0;e<c.getNumGeometries();e++){var f=this.edit(c.getGeometryN(e),b);null===f||f.isEmpty()||d.add(f)}return c.getClass()===Xd?this._factory.createMultiPoint(d.toArray([])):c.getClass()===Hd?this._factory.createMultiLineString(d.toArray([])):c.getClass()===Zd?this._factory.createMultiPolygon(d.toArray([])):this._factory.createGeometryCollection(d.toArray([]))},editPolygon:function(a,b){var c=b.edit(a,this._factory);if(null===c&&(c=this._factory.createPolygon(null)),c.isEmpty())return c;var d=this.edit(c.getExteriorRing(),b);if(null===d||d.isEmpty())return this._factory.createPolygon();for(var e=new Qc,f=0;f<c.getNumInteriorRing();f++){var g=this.edit(c.getInteriorRingN(f),b);null===g||g.isEmpty()||e.add(g)}return this._factory.createPolygon(d,e.toArray([]))},interfaces_:function(){return[]},getClass:function(){return $d}}),$d.GeometryEditorOperation=_d,Bp(ae.prototype,{edit:function(a,b){return a},interfaces_:function(){return[_d]},getClass:function(){return ae}}),Bp(be.prototype,{edit:function(a,b){var c=this.editCoordinates(a.getCoordinates(),a);return null===c?a:a instanceof Yd?b.createLinearRing(c):a instanceof Sd?b.createLineString(c):a instanceof Ud?c.length>0?b.createPoint(c[0]):b.createPoint():a},interfaces_:function(){return[_d]},getClass:function(){return be}}),Bp(ce.prototype,{edit:function(a,b){return a instanceof Yd?b.createLinearRing(this.edit(a.getCoordinateSequence(),a)):a instanceof Sd?b.createLineString(this.edit(a.getCoordinateSequence(),a)):a instanceof Ud?b.createPoint(this.edit(a.getCoordinateSequence(),a)):a},interfaces_:function(){return[_d]},getClass:function(){return ce}}),$d.NoOpGeometryOperation=ae,$d.CoordinateOperation=be,$d.CoordinateSequenceOperation=ce,Bp(de.prototype,{setOrdinate:function(a,b,c){switch(b){case ad.X:this._coordinates[a].x=c;break;case ad.Y:this._coordinates[a].y=c;break;case ad.Z:this._coordinates[a].z=c;break;default:throw new zc("invalid ordinateIndex")}},size:function(){return this._coordinates.length},getOrdinate:function(a,b){switch(b){case ad.X:return this._coordinates[a].x;case ad.Y:return this._coordinates[a].y;case ad.Z:return this._coordinates[a].z}return Ac.NaN},getCoordinate:function(){if(1===arguments.length){var a=arguments[0];return this._coordinates[a]}if(2===arguments.length){var b=arguments[0],c=arguments[1];c.x=this._coordinates[b].x,c.y=this._coordinates[b].y,c.z=this._coordinates[b].z}},getCoordinateCopy:function(a){return new Ic(this._coordinates[a])},getDimension:function(){return this._dimension},getX:function(a){return this._coordinates[a].x},clone:function(){for(var a=new Array(this.size()).fill(null),b=0;b<this._coordinates.length;b++)a[b]=this._coordinates[b].clone();return new de(a,this._dimension)},expandEnvelope:function(a){for(var b=0;b<this._coordinates.length;b++)a.expandToInclude(this._coordinates[b]);return a},copy:function(){for(var a=new Array(this.size()).fill(null),b=0;b<this._coordinates.length;b++)a[b]=this._coordinates[b].copy();return new de(a,this._dimension)},toString:function(){if(this._coordinates.length>0){var a=new Xc(17*this._coordinates.length);a.append("("),a.append(this._coordinates[0]);for(var b=1;b<this._coordinates.length;b++)a.append(", "),a.append(this._coordinates[b]);return a.append(")"),a.toString()}return"()"},getY:function(a){return this._coordinates[a].y},toCoordinateArray:function(){return this._coordinates},interfaces_:function(){return[ad,Ec]},getClass:function(){return de}}),de.serialVersionUID=-0xcb44a778db18e00,Bp(ee.prototype,{readResolve:function(){return ee.instance()},create:function(){if(1===arguments.length){if(arguments[0]instanceof Array){return new de(arguments[0])}if(Ep(arguments[0],ad)){return new de(arguments[0])}}else if(2===arguments.length){var a=arguments[0],b=arguments[1];return b>3&&(b=3),b<2?new de(a):new de(a,b)}},interfaces_:function(){return[dd,Ec]},getClass:function(){return ee}}),ee.instance=function(){return ee.instanceObject},ee.serialVersionUID=-0x38e49fa6cf6f2e00,ee.instanceObject=new ee;var Jp,Kp=Object.defineProperty,Lp=ge({delete:ie,has:le,get:je,set:me,keys:oe,values:pe,entries:qe,forEach:te,clear:ne}),Mp="undefined"!=typeof Map&&Map.prototype.values?Map:Lp;ue.prototype=new pd,ue.prototype.get=function(a){return this.map_.get(a)||null},ue.prototype.put=function(a,b){return this.map_.set(a,b),b},ue.prototype.values=function(){for(var a=new Qc,b=this.map_.values(),c=b.next();!c.done;)a.add(c.value),c=b.next();return a},ue.prototype.entrySet=function(){var a=new sd;return this.map_.entries().forEach(function(b){return a.add(b)}),a},ue.prototype.size=function(){return this.map_.size()},Bp(ve.prototype,{equals:function(a){if(!(a instanceof ve))return!1;var b=a;return this._modelType===b._modelType&&this._scale===b._scale},compareTo:function(a){var b=a,c=this.getMaximumSignificantDigits(),d=b.getMaximumSignificantDigits();return new Yc(c).compareTo(new Yc(d))},getScale:function(){return this._scale},isFloating:function(){return this._modelType===ve.FLOATING||this._modelType===ve.FLOATING_SINGLE},getType:function(){return this._modelType},toString:function(){var a="UNKNOWN";return this._modelType===ve.FLOATING?a="Floating":this._modelType===ve.FLOATING_SINGLE?a="Floating-Single":this._modelType===ve.FIXED&&(a="Fixed (Scale="+this.getScale()+")"),a},makePrecise:function(){if("number"==typeof arguments[0]){var a=arguments[0];if(Ac.isNaN(a))return a;if(this._modelType===ve.FLOATING_SINGLE){return a}return this._modelType===ve.FIXED?Math.round(a*this._scale)/this._scale:a}if(arguments[0]instanceof Ic){var b=arguments[0];if(this._modelType===ve.FLOATING)return null;b.x=this.makePrecise(b.x),b.y=this.makePrecise(b.y)}},getMaximumSignificantDigits:function(){var a=16;return this._modelType===ve.FLOATING?a=16:this._modelType===ve.FLOATING_SINGLE?a=6:this._modelType===ve.FIXED&&(a=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),a},setScale:function(a){this._scale=Math.abs(a)},interfaces_:function(){return[Ec,Bc]},getClass:function(){return ve}}),ve.mostPrecise=function(a,b){return a.compareTo(b)>=0?a:b},Bp(we.prototype,{readResolve:function(){return we.nameToTypeMap.get(this._name)},toString:function(){return this._name},interfaces_:function(){return[Ec]},getClass:function(){return we}}),we.serialVersionUID=-552860263173159e4,we.nameToTypeMap=new ue,ve.Type=we,ve.serialVersionUID=0x6bee6404e9a25c00,ve.FIXED=new we("FIXED"),ve.FLOATING=new we("FLOATING"),ve.FLOATING_SINGLE=new we("FLOATING SINGLE"),ve.maximumPreciseValue=9007199254740992,Bp(xe.prototype,{toGeometry:function(a){return a.isNull()?this.createPoint(null):a.getMinX()===a.getMaxX()&&a.getMinY()===a.getMaxY()?this.createPoint(new Ic(a.getMinX(),a.getMinY())):a.getMinX()===a.getMaxX()||a.getMinY()===a.getMaxY()?this.createLineString([new Ic(a.getMinX(),a.getMinY()),new Ic(a.getMaxX(),a.getMaxY())]):this.createPolygon(this.createLinearRing([new Ic(a.getMinX(),a.getMinY()),new Ic(a.getMinX(),a.getMaxY()),new Ic(a.getMaxX(),a.getMaxY()),new Ic(a.getMaxX(),a.getMinY()),new Ic(a.getMinX(),a.getMinY())]),null)},createLineString:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];return this.createLineString(null!==a?this.getCoordinateSequenceFactory().create(a):null)}if(Ep(arguments[0],ad)){var a=arguments[0];return new Sd(a,this)}}},createMultiLineString:function(){if(0===arguments.length)return new Hd(null,this);if(1===arguments.length){return new Hd(arguments[0],this)}},buildGeometry:function(a){for(var b=null,c=!1,d=!1,e=a.iterator();e.hasNext();){var f=e.next(),g=f.getClass();null===b&&(b=g),g!==b&&(c=!0),f.isGeometryCollectionOrDerived()&&(d=!0)}if(null===b)return this.createGeometryCollection();if(c||d)return this.createGeometryCollection(xe.toGeometryArray(a));var h=a.iterator().next();if(a.size()>1){if(h instanceof Wd)return this.createMultiPolygon(xe.toPolygonArray(a));if(h instanceof Sd)return this.createMultiLineString(xe.toLineStringArray(a));if(h instanceof Ud)return this.createMultiPoint(xe.toPointArray(a));Hc.shouldNeverReachHere("Unhandled class: "+h.getClass().getName())}return h},createMultiPointFromCoords:function(a){return this.createMultiPoint(null!==a?this.getCoordinateSequenceFactory().create(a):null)},createPoint:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Ic){var a=arguments[0];return this.createPoint(null!==a?this.getCoordinateSequenceFactory().create([a]):null)}if(Ep(arguments[0],ad)){return new Ud(arguments[0],this)}}},getCoordinateSequenceFactory:function(){return this._coordinateSequenceFactory},createPolygon:function(){if(0===arguments.length)return new Wd(null,null,this);if(1===arguments.length){if(Ep(arguments[0],ad)){var a=arguments[0];return this.createPolygon(this.createLinearRing(a))}if(arguments[0]instanceof Array){var a=arguments[0];return this.createPolygon(this.createLinearRing(a))}if(arguments[0]instanceof Yd){var b=arguments[0];return this.createPolygon(b,null)}}else if(2===arguments.length){var b=arguments[0],c=arguments[1];return new Wd(b,c,this)}},getSRID:function(){return this._SRID},createGeometryCollection:function(){if(0===arguments.length)return new Gd(null,this);if(1===arguments.length){return new Gd(arguments[0],this)}},createGeometry:function(a){return new $d(this).edit(a,{edit:function(){if(2===arguments.length){var a=arguments[0];return this._coordinateSequenceFactory.create(a)}}})},getPrecisionModel:function(){return this._precisionModel},createLinearRing:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];return this.createLinearRing(null!==a?this.getCoordinateSequenceFactory().create(a):null)}if(Ep(arguments[0],ad)){var a=arguments[0];return new Yd(a,this)}}},createMultiPolygon:function(){if(0===arguments.length)return new Zd(null,this);if(1===arguments.length){return new Zd(arguments[0],this)}},createMultiPoint:function(){if(0===arguments.length)return new Xd(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){return new Xd(arguments[0],this)}if(arguments[0]instanceof Array){var a=arguments[0];return this.createMultiPoint(null!==a?this.getCoordinateSequenceFactory().create(a):null)}if(Ep(arguments[0],ad)){var a=arguments[0];if(null===a)return this.createMultiPoint(new Array(0).fill(null));for(var b=new Array(a.size()).fill(null),c=0;c<a.size();c++){var d=this.getCoordinateSequenceFactory().create(1,a.getDimension());Rd.copy(a,c,d,0,1),b[c]=this.createPoint(d)}return this.createMultiPoint(b)}}},interfaces_:function(){return[Ec]},getClass:function(){return xe}}),xe.toMultiPolygonArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},xe.toGeometryArray=function(a){if(null===a)return null;var b=new Array(a.size()).fill(null);return a.toArray(b)},xe.getDefaultCoordinateSequenceFactory=function(){return ee.instance()},xe.toMultiLineStringArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},xe.toLineStringArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},xe.toMultiPointArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},xe.toLinearRingArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},xe.toPointArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},xe.toPolygonArray=function(a){var b=new Array(a.size()).fill(null);return a.toArray(b)},xe.createPointFromInternalCoord=function(a,b){return b.getPrecisionModel().makePrecise(a),b.getFactory().createPoint(a)},xe.serialVersionUID=-0x5ea75f2051eeb400;var Np={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};Bp(ye.prototype,{read:function(a){var b,c,d;a=a.replace(/[\n\r]/g," ");var e=Np.typeStr.exec(a);if(-1!==a.search("EMPTY")&&(e=Np.emptyTypeStr.exec(a),e[2]=void 0),e&&(c=e[1].toLowerCase(),d=e[2],Pp[c]&&(b=Pp[c].apply(this,[d]))),void 0===b)throw new Error("Could not parse WKT "+a);return b},write:function(a){return this.extractGeometry(a)},extractGeometry:function(a){var b=a.getGeometryType().toLowerCase();if(!Op[b])return null;var c=b.toUpperCase();return a.isEmpty()?c+" EMPTY":c+"("+Op[b].apply(this,[a])+")"}});var Op={coordinate:function(a){return a.x+" "+a.y},point:function(a){return Op.coordinate.call(this,a._coordinates._coordinates[0])},multipoint:function(a){for(var b=[],c=0,d=a._geometries.length;c<d;++c)b.push("("+Op.point.apply(this,[a._geometries[c]])+")");return b.join(",")},linestring:function(a){for(var b=[],c=0,d=a._points._coordinates.length;c<d;++c)b.push(Op.coordinate.apply(this,[a._points._coordinates[c]]));return b.join(",")},linearring:function(a){for(var b=[],c=0,d=a._points._coordinates.length;c<d;++c)b.push(Op.coordinate.apply(this,[a._points._coordinates[c]]));return b.join(",")},multilinestring:function(a){for(var b=[],c=0,d=a._geometries.length;c<d;++c)b.push("("+Op.linestring.apply(this,[a._geometries[c]])+")");return b.join(",")},polygon:function(a){var b=[];b.push("("+Op.linestring.apply(this,[a._shell])+")");for(var c=0,d=a._holes.length;c<d;++c)b.push("("+Op.linestring.apply(this,[a._holes[c]])+")");return b.join(",")},multipolygon:function(a){for(var b=[],c=0,d=a._geometries.length;c<d;++c)b.push("("+Op.polygon.apply(this,[a._geometries[c]])+")");return b.join(",")},geometrycollection:function(a){for(var b=[],c=0,d=a._geometries.length;c<d;++c)b.push(this.extractGeometry(a._geometries[c]));return b.join(",")}},Pp={point:function(a){if(void 0===a)return this.geometryFactory.createPoint();var b=a.trim().split(Np.spaces);return this.geometryFactory.createPoint(new Ic(Number.parseFloat(b[0]),Number.parseFloat(b[1])))},multipoint:function(a){if(void 0===a)return this.geometryFactory.createMultiPoint();for(var b,c=a.trim().split(","),d=[],e=0,f=c.length;e<f;++e)b=c[e].replace(Np.trimParens,"$1"),d.push(Pp.point.apply(this,[b]));return this.geometryFactory.createMultiPoint(d)},linestring:function(a){if(void 0===a)return this.geometryFactory.createLineString();for(var b,c=a.trim().split(","),d=[],e=0,f=c.length;e<f;++e)b=c[e].trim().split(Np.spaces),d.push(new Ic(Number.parseFloat(b[0]),Number.parseFloat(b[1])));return this.geometryFactory.createLineString(d)},linearring:function(a){if(void 0===a)return this.geometryFactory.createLinearRing();for(var b,c=a.trim().split(","),d=[],e=0,f=c.length;e<f;++e)b=c[e].trim().split(Np.spaces),d.push(new Ic(Number.parseFloat(b[0]),Number.parseFloat(b[1])));return this.geometryFactory.createLinearRing(d)},multilinestring:function(a){if(void 0===a)return this.geometryFactory.createMultiLineString();for(var b,c=a.trim().split(Np.parenComma),d=[],e=0,f=c.length;e<f;++e)b=c[e].replace(Np.trimParens,"$1"),d.push(Pp.linestring.apply(this,[b]));return this.geometryFactory.createMultiLineString(d)},polygon:function(a){if(void 0===a)return this.geometryFactory.createPolygon();for(var b,c,d,e,f=a.trim().split(Np.parenComma),g=[],h=0,i=f.length;h<i;++h)b=f[h].replace(Np.trimParens,"$1"),c=Pp.linestring.apply(this,[b]),d=this.geometryFactory.createLinearRing(c._points),0===h?e=d:g.push(d);return this.geometryFactory.createPolygon(e,g)},multipolygon:function(a){if(void 0===a)return this.geometryFactory.createMultiPolygon();for(var b,c=a.trim().split(Np.doubleParenComma),d=[],e=0,f=c.length;e<f;++e)b=c[e].replace(Np.trimParens,"$1"),d.push(Pp.polygon.apply(this,[b]));return this.geometryFactory.createMultiPolygon(d)},geometrycollection:function(a){if(void 0===a)return this.geometryFactory.createGeometryCollection();a=a.replace(/,\s*([A-Za-z])/g,"|$1");for(var b=a.trim().split("|"),c=[],d=0,e=b.length;d<e;++d)c.push(this.read(b[d]));return this.geometryFactory.createGeometryCollection(c)}};Bp(ze.prototype,{write:function(a){return this.parser.write(a)}}),Bp(ze,{toLineString:function(a,b){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+a.x+" "+a.y+", "+b.x+" "+b.y+" )"}}),Bp(Ae.prototype,{getIndexAlongSegment:function(a,b){return this.computeIntLineIndex(),this._intLineIndex[a][b]},getTopologySummary:function(){var a=new Xc;return this.isEndPoint()&&a.append(" endpoint"),this._isProper&&a.append(" proper"),this.isCollinear()&&a.append(" collinear"),a.toString()},computeIntersection:function(a,b,c,d){this._inputLines[0][0]=a,this._inputLines[0][1]=b,this._inputLines[1][0]=c,this._inputLines[1][1]=d,this._result=this.computeIntersect(a,b,c,d)},getIntersectionNum:function(){return this._result},computeIntLineIndex:function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var a=arguments[0],b=this.getEdgeDistance(a,0),c=this.getEdgeDistance(a,1);b>c?(this._intLineIndex[a][0]=0,this._intLineIndex[a][1]=1):(this._intLineIndex[a][0]=1,this._intLineIndex[a][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(a){this._precisionModel=a},isInteriorIntersection:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var a=arguments[0],b=0;b<this._result;b++)if(!this._intPt[b].equals2D(this._inputLines[a][0])&&!this._intPt[b].equals2D(this._inputLines[a][1]))return!0;return!1}},getIntersection:function(a){return this._intPt[a]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this._result!==Ae.NO_INTERSECTION},getEdgeDistance:function(a,b){return Ae.computeEdgeDistance(this._intPt[b],this._inputLines[a][0],this._inputLines[a][1])},isCollinear:function(){return this._result===Ae.COLLINEAR_INTERSECTION},toString:function(){return ze.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+ze.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(a,b){return this._inputLines[a][b]},isIntersection:function(a){for(var b=0;b<this._result;b++)if(this._intPt[b].equals2D(a))return!0;return!1},getIntersectionAlongSegment:function(a,b){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[a][b]]},interfaces_:function(){return[]},getClass:function(){return Ae}}),Ae.computeEdgeDistance=function(a,b,c){var d=Math.abs(c.x-b.x),e=Math.abs(c.y-b.y),f=-1;if(a.equals(b))f=0;else if(a.equals(c))f=d>e?d:e;else{var g=Math.abs(a.x-b.x),h=Math.abs(a.y-b.y);f=d>e?g:h,0!==f||a.equals(b)||(f=Math.max(g,h))}return Hc.isTrue(!(0===f&&!a.equals(b)),"Bad distance calculation"),f},Ae.nonRobustComputeEdgeDistance=function(a,b,c){var d=a.x-b.x,e=a.y-b.y,f=Math.sqrt(d*d+e*e);return Hc.isTrue(!(0===f&&!a.equals(b)),"Invalid distance calculation"),f},Ae.DONT_INTERSECT=0,Ae.DO_INTERSECT=1,Ae.COLLINEAR=2,Ae.NO_INTERSECTION=0,Ae.POINT_INTERSECTION=1,Ae.COLLINEAR_INTERSECTION=2,Cp(Be,Ae),Bp(Be.prototype,{isInSegmentEnvelopes:function(a){var b=new Sc(this._inputLines[0][0],this._inputLines[0][1]),c=new Sc(this._inputLines[1][0],this._inputLines[1][1]);return b.contains(a)&&c.contains(a)},computeIntersection:function(){if(3!==arguments.length)return Ae.prototype.computeIntersection.apply(this,arguments);var a=arguments[0],b=arguments[1],c=arguments[2];if(this._isProper=!1,Sc.intersects(b,c,a)&&0===Ee.orientationIndex(b,c,a)&&0===Ee.orientationIndex(c,b,a))return this._isProper=!0,(a.equals(b)||a.equals(c))&&(this._isProper=!1),this._result=Ae.POINT_INTERSECTION,null;this._result=Ae.NO_INTERSECTION},normalizeToMinimum:function(a,b,c,d,e){e.x=this.smallestInAbsValue(a.x,b.x,c.x,d.x),e.y=this.smallestInAbsValue(a.y,b.y,c.y,d.y),a.x-=e.x,a.y-=e.y,b.x-=e.x,b.y-=e.y,c.x-=e.x,c.y-=e.y,d.x-=e.x,d.y-=e.y},safeHCoordinateIntersection:function(a,b,c,d){var e=null;try{e=cd.intersection(a,b,c,d)}catch(f){if(!(f instanceof Uc))throw f;e=Be.nearestEndpoint(a,b,c,d)}return e},intersection:function(a,b,c,d){var e=this.intersectionWithNormalization(a,b,c,d);return this.isInSegmentEnvelopes(e)||(e=new Ic(Be.nearestEndpoint(a,b,c,d))),null!==this._precisionModel&&this._precisionModel.makePrecise(e),e},smallestInAbsValue:function(a,b,c,d){var e=a,f=Math.abs(e);return Math.abs(b)<f&&(e=b,f=Math.abs(b)),Math.abs(c)<f&&(e=c,f=Math.abs(c)),Math.abs(d)<f&&(e=d),e},checkDD:function(a,b,c,d,e){var f=_c.intersection(a,b,c,d),g=this.isInSegmentEnvelopes(f);bd.out.println("DD in env = "+g+"  --------------------- "+f),e.distance(f)>1e-4&&bd.out.println("Distance = "+e.distance(f))},intersectionWithNormalization:function(a,b,c,d){var e=new Ic(a),f=new Ic(b),g=new Ic(c),h=new Ic(d),i=new Ic;this.normalizeToEnvCentre(e,f,g,h,i);var j=this.safeHCoordinateIntersection(e,f,g,h);return j.x+=i.x,j.y+=i.y,j},computeCollinearIntersection:function(a,b,c,d){var e=Sc.intersects(a,b,c),f=Sc.intersects(a,b,d),g=Sc.intersects(c,d,a),h=Sc.intersects(c,d,b);return e&&f?(this._intPt[0]=c,this._intPt[1]=d,Ae.COLLINEAR_INTERSECTION):g&&h?(this._intPt[0]=a,this._intPt[1]=b,Ae.COLLINEAR_INTERSECTION):e&&g?(this._intPt[0]=c,this._intPt[1]=a,!c.equals(a)||f||h?Ae.COLLINEAR_INTERSECTION:Ae.POINT_INTERSECTION):e&&h?(this._intPt[0]=c,this._intPt[1]=b,!c.equals(b)||f||g?Ae.COLLINEAR_INTERSECTION:Ae.POINT_INTERSECTION):f&&g?(this._intPt[0]=d,this._intPt[1]=a,!d.equals(a)||e||h?Ae.COLLINEAR_INTERSECTION:Ae.POINT_INTERSECTION):f&&h?(this._intPt[0]=d,this._intPt[1]=b,!d.equals(b)||e||g?Ae.COLLINEAR_INTERSECTION:Ae.POINT_INTERSECTION):Ae.NO_INTERSECTION},normalizeToEnvCentre:function(a,b,c,d,e){var f=a.x<b.x?a.x:b.x,g=a.y<b.y?a.y:b.y,h=a.x>b.x?a.x:b.x,i=a.y>b.y?a.y:b.y,j=c.x<d.x?c.x:d.x,k=c.y<d.y?c.y:d.y,l=c.x>d.x?c.x:d.x,m=c.y>d.y?c.y:d.y,n=f>j?f:j,o=h<l?h:l,p=g>k?g:k,q=i<m?i:m,r=(n+o)/2,s=(p+q)/2;e.x=r,e.y=s,a.x-=e.x,a.y-=e.y,b.x-=e.x,b.y-=e.y,c.x-=e.x,c.y-=e.y,d.x-=e.x,d.y-=e.y},computeIntersect:function(a,b,c,d){if(this._isProper=!1,!Sc.intersects(a,b,c,d))return Ae.NO_INTERSECTION;var e=Ee.orientationIndex(a,b,c),f=Ee.orientationIndex(a,b,d);if(e>0&&f>0||e<0&&f<0)return Ae.NO_INTERSECTION;var g=Ee.orientationIndex(c,d,a),h=Ee.orientationIndex(c,d,b);return g>0&&h>0||g<0&&h<0?Ae.NO_INTERSECTION:0===e&&0===f&&0===g&&0===h?this.computeCollinearIntersection(a,b,c,d):(0===e||0===f||0===g||0===h?(this._isProper=!1,a.equals2D(c)||a.equals2D(d)?this._intPt[0]=a:b.equals2D(c)||b.equals2D(d)?this._intPt[0]=b:0===e?this._intPt[0]=new Ic(c):0===f?this._intPt[0]=new Ic(d):0===g?this._intPt[0]=new Ic(a):0===h&&(this._intPt[0]=new Ic(b))):(this._isProper=!0,this._intPt[0]=this.intersection(a,b,c,d)),Ae.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return Be}}),Be.nearestEndpoint=function(a,b,c,d){var e=a,f=Ee.distancePointLine(a,c,d),g=Ee.distancePointLine(b,c,d);return g<f&&(f=g,e=b),g=Ee.distancePointLine(c,a,b),g<f&&(f=g,e=c),g=Ee.distancePointLine(d,a,b),g<f&&(f=g,e=d),e},Bp(Ce.prototype,{interfaces_:function(){return[]},getClass:function(){return Ce}}),Ce.orientationIndex=function(a,b,c){var d=b.x-a.x,e=b.y-a.y,f=c.x-b.x,g=c.y-b.y;return Ce.signOfDet2x2(d,e,f,g)},Ce.signOfDet2x2=function(a,b,c,d){var e=null,f=null,g=null;if(e=1,0===a||0===d)return 0===b||0===c?0:b>0?c>0?-e:e:c>0?e:-e;if(0===b||0===c)return d>0?a>0?e:-e:a>0?-e:e;if(0<b?0<d?b<=d||(e=-e,f=a,a=c,c=f,f=b,b=d,d=f):b<=-d?(e=-e,c=-c,d=-d):(f=a,a=-c,c=f,f=b,b=-d,d=f):0<d?-b<=d?(e=-e,a=-a,b=-b):(f=-a,a=c,c=f,f=-b,b=d,d=f):b>=d?(a=-a,b=-b,c=-c,d=-d):(e=-e,f=-a,a=-c,c=f,f=-b,b=-d,d=f),0<a){if(!(0<c))return e;if(!(a<=c))return e}else{if(0<c)return-e;if(!(a>=c))return-e;e=-e,a=-a,c=-c}for(;;){if(g=Math.floor(c/a),c-=g*a,(d-=g*b)<0)return-e;if(d>b)return e;if(a>c+c){if(b<d+d)return e}else{if(b>d+d)return-e;c=a-c,d=b-d,e=-e}if(0===d)return 0===c?0:-e;if(0===c)return e;if(g=Math.floor(a/c),a-=g*c,(b-=g*d)<0)return e;if(b>d)return-e;if(c>a+a){if(d<b+b)return-e}else{if(d>b+b)return e;a=c-a,b=d-b,e=-e}if(0===b)return 0===a?0:e;if(0===a)return-e}},Bp(De.prototype,{countSegment:function(a,b){if(a.x<this._p.x&&b.x<this._p.x)return null;if(this._p.x===b.x&&this._p.y===b.y)return this._isPointOnSegment=!0,null;if(a.y===this._p.y&&b.y===this._p.y){var c=a.x,d=b.x;return c>d&&(c=b.x,d=a.x),this._p.x>=c&&this._p.x<=d&&(this._isPointOnSegment=!0),null}if(a.y>this._p.y&&b.y<=this._p.y||b.y>this._p.y&&a.y<=this._p.y){var e=a.x-this._p.x,f=a.y-this._p.y,g=b.x-this._p.x,h=b.y-this._p.y,i=Ce.signOfDet2x2(e,f,g,h);if(0===i)return this._isPointOnSegment=!0,null;h<f&&(i=-i),i>0&&this._crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==Vc.EXTERIOR},getLocation:function(){return this._isPointOnSegment?Vc.BOUNDARY:this._crossingCount%2==1?Vc.INTERIOR:Vc.EXTERIOR},isOnSegment:function(){return this._isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return De}}),De.locatePointInRing=function(){if(arguments[0]instanceof Ic&&Ep(arguments[1],ad)){for(var a=arguments[0],b=arguments[1],c=new De(a),d=new Ic,e=new Ic,f=1;f<b.size();f++)if(b.getCoordinate(f,d),b.getCoordinate(f-1,e),c.countSegment(d,e),c.isOnSegment())return c.getLocation();return c.getLocation()}if(arguments[0]instanceof Ic&&arguments[1]instanceof Array){for(var a=arguments[0],b=arguments[1],c=new De(a),f=1;f<b.length;f++){var d=b[f],e=b[f-1];if(c.countSegment(d,e),c.isOnSegment())return c.getLocation()}return c.getLocation()}},Bp(Ee.prototype,{interfaces_:function(){return[]},getClass:function(){return Ee}}),Ee.orientationIndex=function(a,b,c){return _c.orientationIndex(a,b,c)},Ee.signedArea=function(){if(arguments[0]instanceof Array){var a=arguments[0];if(a.length<3)return 0;for(var b=0,c=a[0].x,d=1;d<a.length-1;d++){var e=a[d].x-c,f=a[d+1].y;b+=e*(a[d-1].y-f)}return b/2}if(Ep(arguments[0],ad)){var a=arguments[0],g=a.size();if(g<3)return 0;var h=new Ic,i=new Ic,j=new Ic;a.getCoordinate(0,i),a.getCoordinate(1,j);var c=i.x;j.x-=c;for(var b=0,d=1;d<g-1;d++)h.y=i.y,i.x=j.x,i.y=j.y,a.getCoordinate(d+1,j),j.x-=c,b+=i.x*(h.y-j.y);return b/2}},Ee.distanceLineLine=function(a,b,c,d){if(a.equals(b))return Ee.distancePointLine(a,c,d);if(c.equals(d))return Ee.distancePointLine(d,a,b);var e=!1;if(Sc.intersects(a,b,c,d)){var f=(b.x-a.x)*(d.y-c.y)-(b.y-a.y)*(d.x-c.x);if(0===f)e=!0;else{var g=(a.y-c.y)*(d.x-c.x)-(a.x-c.x)*(d.y-c.y),h=(a.y-c.y)*(b.x-a.x)-(a.x-c.x)*(b.y-a.y),i=h/f,j=g/f;(j<0||j>1||i<0||i>1)&&(e=!0)}}else e=!0;return e?Wc.min(Ee.distancePointLine(a,c,d),Ee.distancePointLine(b,c,d),Ee.distancePointLine(c,a,b),Ee.distancePointLine(d,a,b)):0},Ee.isPointInRing=function(a,b){return Ee.locatePointInRing(a,b)!==Vc.EXTERIOR},Ee.computeLength=function(a){var b=a.size();if(b<=1)return 0;var c=0,d=new Ic;a.getCoordinate(0,d);for(var e=d.x,f=d.y,g=1;g<b;g++){a.getCoordinate(g,d);var h=d.x,i=d.y,j=h-e,k=i-f;c+=Math.sqrt(j*j+k*k),e=h,f=i}return c},Ee.isCCW=function(a){var b=a.length-1;if(b<3)throw new zc("Ring has fewer than 4 points, so orientation cannot be determined");for(var c=a[0],d=0,e=1;e<=b;e++){var f=a[e];f.y>c.y&&(c=f,d=e)}var g=d;do{(g-=1)<0&&(g=b)}while(a[g].equals2D(c)&&g!==d);var h=d;do{h=(h+1)%b}while(a[h].equals2D(c)&&h!==d);var i=a[g],j=a[h];if(i.equals2D(c)||j.equals2D(c)||i.equals2D(j))return!1;var k=Ee.computeOrientation(i,c,j);return 0===k?i.x>j.x:k>0},Ee.locatePointInRing=function(a,b){return De.locatePointInRing(a,b)},Ee.distancePointLinePerpendicular=function(a,b,c){var d=(c.x-b.x)*(c.x-b.x)+(c.y-b.y)*(c.y-b.y),e=((b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y))/d;return Math.abs(e)*Math.sqrt(d)},Ee.computeOrientation=function(a,b,c){return Ee.orientationIndex(a,b,c)},Ee.distancePointLine=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(0===b.length)throw new zc("Line array must contain at least one vertex");for(var c=a.distance(b[0]),d=0;d<b.length-1;d++){var e=Ee.distancePointLine(a,b[d],b[d+1]);e<c&&(c=e)}return c}if(3===arguments.length){var a=arguments[0],f=arguments[1],g=arguments[2];if(f.x===g.x&&f.y===g.y)return a.distance(f);var h=(g.x-f.x)*(g.x-f.x)+(g.y-f.y)*(g.y-f.y),i=((a.x-f.x)*(g.x-f.x)+(a.y-f.y)*(g.y-f.y))/h;if(i<=0)return a.distance(f);if(i>=1)return a.distance(g);var j=((f.y-a.y)*(g.x-f.x)-(f.x-a.x)*(g.y-f.y))/h;return Math.abs(j)*Math.sqrt(h)}},Ee.isOnLine=function(a,b){for(var c=new Be,d=1;d<b.length;d++){var e=b[d-1],f=b[d];if(c.computeIntersection(a,e,f),c.hasIntersection())return!0}return!1},Ee.CLOCKWISE=-1,Ee.RIGHT=Ee.CLOCKWISE,Ee.COUNTERCLOCKWISE=1,Ee.LEFT=Ee.COUNTERCLOCKWISE,Ee.COLLINEAR=0,Ee.STRAIGHT=Ee.COLLINEAR,Bp(Fe.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof Fe){var a=arguments[0],b=Ee.orientationIndex(this.p0,this.p1,a.p0),c=Ee.orientationIndex(this.p0,this.p1,a.p1);return b>=0&&c>=0?Math.max(b,c):b<=0&&c<=0?Math.max(b,c):0}if(arguments[0]instanceof Ic){var d=arguments[0];return Ee.orientationIndex(this.p0,this.p1,d)}},toGeometry:function(a){return a.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(a){if(!(a instanceof Fe))return!1;var b=a;return this.p0.equals(b.p0)&&this.p1.equals(b.p1)},intersection:function(a){var b=new Be;return b.computeIntersection(this.p0,this.p1,a.p0,a.p1),b.hasIntersection()?b.getIntersection(0):null},project:function(){if(arguments[0]instanceof Ic){var a=arguments[0];if(a.equals(this.p0)||a.equals(this.p1))return new Ic(a);var b=this.projectionFactor(a),c=new Ic;return c.x=this.p0.x+b*(this.p1.x-this.p0.x),c.y=this.p0.y+b*(this.p1.y-this.p0.y),c}if(arguments[0]instanceof Fe){var d=arguments[0],e=this.projectionFactor(d.p0),f=this.projectionFactor(d.p1);if(e>=1&&f>=1)return null;if(e<=0&&f<=0)return null;var g=this.project(d.p0);e<0&&(g=this.p0),e>1&&(g=this.p1);var h=this.project(d.p1);return f<0&&(h=this.p0),f>1&&(h=this.p1),new Fe(g,h)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(a){return 0===a?this.p0:this.p1},distancePerpendicular:function(a){return Ee.distancePointLinePerpendicular(a,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return Fe.midPoint(this.p0,this.p1)},projectionFactor:function(a){if(a.equals(this.p0))return 0;if(a.equals(this.p1))return 1;var b=this.p1.x-this.p0.x,c=this.p1.y-this.p0.y,d=b*b+c*c;return d<=0?Ac.NaN:((a.x-this.p0.x)*b+(a.y-this.p0.y)*c)/d},closestPoints:function(a){var b=this.intersection(a);if(null!==b)return[b,b];var c=new Array(2).fill(null),d=Ac.MAX_VALUE,e=null,f=this.closestPoint(a.p0);d=f.distance(a.p0),c[0]=f,c[1]=a.p0;var g=this.closestPoint(a.p1);(e=g.distance(a.p1))<d&&(d=e,c[0]=g,c[1]=a.p1);var h=a.closestPoint(this.p0);(e=h.distance(this.p0))<d&&(d=e,c[0]=this.p0,c[1]=h);var i=a.closestPoint(this.p1);return e=i.distance(this.p1),e<d&&(d=e,c[0]=this.p1,c[1]=i),c},closestPoint:function(a){var b=this.projectionFactor(a);return b>0&&b<1?this.project(a):this.p0.distance(a)<this.p1.distance(a)?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(a){var b=a,c=this.p0.compareTo(b.p0);return 0!==c?c:this.p1.compareTo(b.p1)},reverse:function(){var a=this.p0;this.p0=this.p1,this.p1=a},equalsTopo:function(a){return this.p0.equals(a.p0)&&this.p1.equals(a.p1)||this.p0.equals(a.p1)&&this.p1.equals(a.p0)},lineIntersection:function(a){try{return cd.intersection(this.p0,this.p1,a.p0,a.p1)}catch(a){if(!(a instanceof Uc))throw a}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(a,b){var c=this.p0.x+a*(this.p1.x-this.p0.x),d=this.p0.y+a*(this.p1.y-this.p0.y),e=this.p1.x-this.p0.x,f=this.p1.y-this.p0.y,g=Math.sqrt(e*e+f*f),h=0,i=0;if(0!==b){if(g<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");h=b*e/g,i=b*f/g}return new Ic(c-i,d+h)},setCoordinates:function(){if(1===arguments.length){var a=arguments[0];this.setCoordinates(a.p0,a.p1)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.p0.x=b.x,this.p0.y=b.y,this.p1.x=c.x,this.p1.y=c.y}},segmentFraction:function(a){var b=this.projectionFactor(a);return b<0?b=0:(b>1||Ac.isNaN(b))&&(b=1),b},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof Fe){var a=arguments[0];return Ee.distanceLineLine(this.p0,this.p1,a.p0,a.p1)}if(arguments[0]instanceof Ic){var b=arguments[0];return Ee.distancePointLine(b,this.p0,this.p1)}},pointAlong:function(a){var b=new Ic;return b.x=this.p0.x+a*(this.p1.x-this.p0.x),b.y=this.p0.y+a*(this.p1.y-this.p0.y),b},hashCode:function(){var a=java.lang.Double.doubleToLongBits(this.p0.x);a^=31*java.lang.Double.doubleToLongBits(this.p0.y);var b=Math.trunc(a)^Math.trunc(a>>32),c=java.lang.Double.doubleToLongBits(this.p1.x);return c^=31*java.lang.Double.doubleToLongBits(this.p1.y),b^Math.trunc(c)^Math.trunc(c>>32)},interfaces_:function(){return[Bc,Ec]},getClass:function(){return Fe}}),Fe.midPoint=function(a,b){return new Ic((a.x+b.x)/2,(a.y+b.y)/2)},Fe.serialVersionUID=0x2d2172135f411c00,Bp(Ge.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){return(Ge.isTrue(this._matrix[Vc.INTERIOR][Vc.INTERIOR])||Ge.isTrue(this._matrix[Vc.INTERIOR][Vc.BOUNDARY])||Ge.isTrue(this._matrix[Vc.BOUNDARY][Vc.INTERIOR])||Ge.isTrue(this._matrix[Vc.BOUNDARY][Vc.BOUNDARY]))&&this._matrix[Vc.EXTERIOR][Vc.INTERIOR]===Dd.FALSE&&this._matrix[Vc.EXTERIOR][Vc.BOUNDARY]===Dd.FALSE},isCoveredBy:function(){return(Ge.isTrue(this._matrix[Vc.INTERIOR][Vc.INTERIOR])||Ge.isTrue(this._matrix[Vc.INTERIOR][Vc.BOUNDARY])||Ge.isTrue(this._matrix[Vc.BOUNDARY][Vc.INTERIOR])||Ge.isTrue(this._matrix[Vc.BOUNDARY][Vc.BOUNDARY]))&&this._matrix[Vc.INTERIOR][Vc.EXTERIOR]===Dd.FALSE&&this._matrix[Vc.BOUNDARY][Vc.EXTERIOR]===Dd.FALSE},set:function(){if(1===arguments.length)for(var a=arguments[0],b=0;b<a.length;b++){var c=Math.trunc(b/3),d=b%3;this._matrix[c][d]=Dd.toDimensionValue(a.charAt(b))}else if(3===arguments.length){var c=arguments[0],e=arguments[1],f=arguments[2];this._matrix[c][e]=f}},isContains:function(){return Ge.isTrue(this._matrix[Vc.INTERIOR][Vc.INTERIOR])&&this._matrix[Vc.EXTERIOR][Vc.INTERIOR]===Dd.FALSE&&this._matrix[Vc.EXTERIOR][Vc.BOUNDARY]===Dd.FALSE},setAtLeast:function(){if(1===arguments.length)for(var a=arguments[0],b=0;b<a.length;b++){var c=Math.trunc(b/3),d=b%3;this.setAtLeast(c,d,Dd.toDimensionValue(a.charAt(b)))}else if(3===arguments.length){var c=arguments[0],e=arguments[1],f=arguments[2];this._matrix[c][e]<f&&(this._matrix[c][e]=f)}},setAtLeastIfValid:function(a,b,c){a>=0&&b>=0&&this.setAtLeast(a,b,c)},isWithin:function(){return Ge.isTrue(this._matrix[Vc.INTERIOR][Vc.INTERIOR])&&this._matrix[Vc.INTERIOR][Vc.EXTERIOR]===Dd.FALSE&&this._matrix[Vc.BOUNDARY][Vc.EXTERIOR]===Dd.FALSE},isTouches:function(a,b){return a>b?this.isTouches(b,a):(a===Dd.A&&b===Dd.A||a===Dd.L&&b===Dd.L||a===Dd.L&&b===Dd.A||a===Dd.P&&b===Dd.A||a===Dd.P&&b===Dd.L)&&(this._matrix[Vc.INTERIOR][Vc.INTERIOR]===Dd.FALSE&&(Ge.isTrue(this._matrix[Vc.INTERIOR][Vc.BOUNDARY])||Ge.isTrue(this._matrix[Vc.BOUNDARY][Vc.INTERIOR])||Ge.isTrue(this._matrix[Vc.BOUNDARY][Vc.BOUNDARY])))},isOverlaps:function(a,b){return a===Dd.P&&b===Dd.P||a===Dd.A&&b===Dd.A?Ge.isTrue(this._matrix[Vc.INTERIOR][Vc.INTERIOR])&&Ge.isTrue(this._matrix[Vc.INTERIOR][Vc.EXTERIOR])&&Ge.isTrue(this._matrix[Vc.EXTERIOR][Vc.INTERIOR]):a===Dd.L&&b===Dd.L&&(1===this._matrix[Vc.INTERIOR][Vc.INTERIOR]&&Ge.isTrue(this._matrix[Vc.INTERIOR][Vc.EXTERIOR])&&Ge.isTrue(this._matrix[Vc.EXTERIOR][Vc.INTERIOR]))},isEquals:function(a,b){return a===b&&(Ge.isTrue(this._matrix[Vc.INTERIOR][Vc.INTERIOR])&&this._matrix[Vc.INTERIOR][Vc.EXTERIOR]===Dd.FALSE&&this._matrix[Vc.BOUNDARY][Vc.EXTERIOR]===Dd.FALSE&&this._matrix[Vc.EXTERIOR][Vc.INTERIOR]===Dd.FALSE&&this._matrix[Vc.EXTERIOR][Vc.BOUNDARY]===Dd.FALSE)},toString:function(){for(var a=new Xc("123456789"),b=0;b<3;b++)for(var c=0;c<3;c++)a.setCharAt(3*b+c,Dd.toDimensionSymbol(this._matrix[b][c]));return a.toString()},setAll:function(a){for(var b=0;b<3;b++)for(var c=0;c<3;c++)this._matrix[b][c]=a},get:function(a,b){return this._matrix[a][b]},transpose:function(){var a=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=a,a=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=a,a=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=a,this},matches:function(a){if(9!==a.length)throw new zc("Should be length 9: "+a);for(var b=0;b<3;b++)for(var c=0;c<3;c++)if(!Ge.matches(this._matrix[b][c],a.charAt(3*b+c)))return!1;return!0},add:function(a){for(var b=0;b<3;b++)for(var c=0;c<3;c++)this.setAtLeast(b,c,a.get(b,c))},isDisjoint:function(){return this._matrix[Vc.INTERIOR][Vc.INTERIOR]===Dd.FALSE&&this._matrix[Vc.INTERIOR][Vc.BOUNDARY]===Dd.FALSE&&this._matrix[Vc.BOUNDARY][Vc.INTERIOR]===Dd.FALSE&&this._matrix[Vc.BOUNDARY][Vc.BOUNDARY]===Dd.FALSE},isCrosses:function(a,b){return a===Dd.P&&b===Dd.L||a===Dd.P&&b===Dd.A||a===Dd.L&&b===Dd.A?Ge.isTrue(this._matrix[Vc.INTERIOR][Vc.INTERIOR])&&Ge.isTrue(this._matrix[Vc.INTERIOR][Vc.EXTERIOR]):a===Dd.L&&b===Dd.P||a===Dd.A&&b===Dd.P||a===Dd.A&&b===Dd.L?Ge.isTrue(this._matrix[Vc.INTERIOR][Vc.INTERIOR])&&Ge.isTrue(this._matrix[Vc.EXTERIOR][Vc.INTERIOR]):a===Dd.L&&b===Dd.L&&0===this._matrix[Vc.INTERIOR][Vc.INTERIOR]},interfaces_:function(){return[Cc]},getClass:function(){return Ge}}),Ge.matches=function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var a=arguments[0],b=arguments[1];return b===Dd.SYM_DONTCARE||(b===Dd.SYM_TRUE&&(a>=0||a===Dd.TRUE)||(b===Dd.SYM_FALSE&&a===Dd.FALSE||(b===Dd.SYM_P&&a===Dd.P||(b===Dd.SYM_L&&a===Dd.L||b===Dd.SYM_A&&a===Dd.A))))}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var c=arguments[0],d=arguments[1];return new Ge(c).matches(d)}},Ge.isTrue=function(a){return a>=0||a===Dd.TRUE},Bp(He.prototype,{addPoint:function(a){this._ptCount+=1,this._ptCentSum.x+=a.x,this._ptCentSum.y+=a.y},setBasePoint:function(a){null===this._areaBasePt&&(this._areaBasePt=a)},addLineSegments:function(a){for(var b=0,c=0;c<a.length-1;c++){var d=a[c].distance(a[c+1]);if(0!==d){b+=d;var e=(a[c].x+a[c+1].x)/2;this._lineCentSum.x+=d*e;var f=(a[c].y+a[c+1].y)/2;this._lineCentSum.y+=d*f}}this._totalLength+=b,0===b&&a.length>0&&this.addPoint(a[0])},addHole:function(a){for(var b=Ee.isCCW(a),c=0;c<a.length-1;c++)this.addTriangle(this._areaBasePt,a[c],a[c+1],b);this.addLineSegments(a)},getCentroid:function(){var a=new Ic;if(Math.abs(this._areasum2)>0)a.x=this._cg3.x/3/this._areasum2,a.y=this._cg3.y/3/this._areasum2;else if(this._totalLength>0)a.x=this._lineCentSum.x/this._totalLength,a.y=this._lineCentSum.y/this._totalLength;else{if(!(this._ptCount>0))return null;a.x=this._ptCentSum.x/this._ptCount,a.y=this._ptCentSum.y/this._ptCount}return a},addShell:function(a){a.length>0&&this.setBasePoint(a[0]);for(var b=!Ee.isCCW(a),c=0;c<a.length-1;c++)this.addTriangle(this._areaBasePt,a[c],a[c+1],b);this.addLineSegments(a)},addTriangle:function(a,b,c,d){var e=d?1:-1;He.centroid3(a,b,c,this._triangleCent3);var f=He.area2(a,b,c);this._cg3.x+=e*f*this._triangleCent3.x,this._cg3.y+=e*f*this._triangleCent3.y,this._areasum2+=e*f},add:function(){if(arguments[0]instanceof Wd){var a=arguments[0];this.addShell(a.getExteriorRing().getCoordinates());for(var b=0;b<a.getNumInteriorRing();b++)this.addHole(a.getInteriorRingN(b).getCoordinates())}else if(arguments[0]instanceof fd){var c=arguments[0];if(c.isEmpty())return null;if(c instanceof Ud)this.addPoint(c.getCoordinate());else if(c instanceof Sd)this.addLineSegments(c.getCoordinates());else if(c instanceof Wd){var a=c;this.add(a)}else if(c instanceof Gd)for(var d=c,b=0;b<d.getNumGeometries();b++)this.add(d.getGeometryN(b))}},interfaces_:function(){return[]},getClass:function(){return He}}),He.area2=function(a,b,c){return(b.x-a.x)*(c.y-a.y)-(c.x-a.x)*(b.y-a.y)},He.centroid3=function(a,b,c,d){return d.x=a.x+b.x+c.x,d.y=a.y+b.y+c.y,null},He.getCentroid=function(a){return new He(a).getCentroid()},Ie.prototype=new Error,Ie.prototype.name="EmptyStackException",Je.prototype=new Nc,Je.prototype.add=function(a){return this.array_.push(a),!0},Je.prototype.get=function(a){if(a<0||a>=this.size())throw new IndexOutOfBoundsException;return this.array_[a]},Je.prototype.push=function(a){return this.array_.push(a),a},Je.prototype.pop=function(a){if(0===this.array_.length)throw new Ie;return this.array_.pop()},Je.prototype.peek=function(){if(0===this.array_.length)throw new Ie;return this.array_[this.array_.length-1]},Je.prototype.empty=function(){return 0===this.array_.length},Je.prototype.isEmpty=function(){return this.empty()},Je.prototype.search=function(a){return this.array_.indexOf(a)},Je.prototype.size=function(){return this.array_.length},Je.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a},Bp(Ke.prototype,{filter:function(a){this.treeSet.contains(a)||(this.list.add(a),this.treeSet.add(a))},getCoordinates:function(){var a=new Array(this.list.size()).fill(null);return this.list.toArray(a)},interfaces_:function(){return[gd]},getClass:function(){return Ke}}),Ke.filterCoordinates=function(a){for(var b=new Ke,c=0;c<a.length;c++)b.filter(a[c]);return b.getCoordinates()},Bp(Le.prototype,{preSort:function(a){for(var b=null,c=1;c<a.length;c++)(a[c].y<a[0].y||a[c].y===a[0].y&&a[c].x<a[0].x)&&(b=a[0],a[0]=a[c],a[c]=b);return Cd.sort(a,1,a.length,new Me(a[0])),a},computeOctRing:function(a){var b=this.computeOctPts(a),c=new Rc;return c.add(b,!1),c.size()<3?null:(c.closeRing(),c.toCoordinateArray())},lineOrPolygon:function(a){if(a=this.cleanRing(a),3===a.length)return this._geomFactory.createLineString([a[0],a[1]]);var b=this._geomFactory.createLinearRing(a);return this._geomFactory.createPolygon(b,null)},cleanRing:function(a){Hc.equals(a[0],a[a.length-1]);for(var b=new Qc,c=null,d=0;d<=a.length-2;d++){var e=a[d],f=a[d+1];e.equals(f)||(null!==c&&this.isBetween(c,e,f)||(b.add(e),c=e))}b.add(a[a.length-1]);var g=new Array(b.size()).fill(null);return b.toArray(g)},isBetween:function(a,b,c){if(0!==Ee.computeOrientation(a,b,c))return!1;if(a.x!==c.x){if(a.x<=b.x&&b.x<=c.x)return!0;if(c.x<=b.x&&b.x<=a.x)return!0}if(a.y!==c.y){if(a.y<=b.y&&b.y<=c.y)return!0;if(c.y<=b.y&&b.y<=a.y)return!0}return!1},reduce:function(a){var b=this.computeOctRing(a);if(null===b)return a;for(var c=new Bd,d=0;d<b.length;d++)c.add(b[d]);for(var d=0;d<a.length;d++)Ee.isPointInRing(a[d],b)||c.add(a[d]);var e=md.toCoordinateArray(c);return e.length<3?this.padArray3(e):e},getConvexHull:function(){if(0===this._inputPts.length)return this._geomFactory.createGeometryCollection(null);if(1===this._inputPts.length)return this._geomFactory.createPoint(this._inputPts[0]);if(2===this._inputPts.length)return this._geomFactory.createLineString(this._inputPts);var a=this._inputPts;this._inputPts.length>50&&(a=this.reduce(this._inputPts));var b=this.preSort(a),c=this.grahamScan(b),d=this.toCoordinateArray(c);return this.lineOrPolygon(d)},padArray3:function(a){for(var b=new Array(3).fill(null),c=0;c<b.length;c++)c<a.length?b[c]=a[c]:b[c]=a[0];return b},computeOctPts:function(a){for(var b=new Array(8).fill(null),c=0;c<b.length;c++)b[c]=a[0];for(var d=1;d<a.length;d++)a[d].x<b[0].x&&(b[0]=a[d]),a[d].x-a[d].y<b[1].x-b[1].y&&(b[1]=a[d]),a[d].y>b[2].y&&(b[2]=a[d]),a[d].x+a[d].y>b[3].x+b[3].y&&(b[3]=a[d]),a[d].x>b[4].x&&(b[4]=a[d]),a[d].x-a[d].y>b[5].x-b[5].y&&(b[5]=a[d]),a[d].y<b[6].y&&(b[6]=a[d]),a[d].x+a[d].y<b[7].x+b[7].y&&(b[7]=a[d]);return b},toCoordinateArray:function(a){for(var b=new Array(a.size()).fill(null),c=0;c<a.size();c++){var d=a.get(c);b[c]=d}return b},grahamScan:function(a){var b=null,c=new Je;b=c.push(a[0]),b=c.push(a[1]),b=c.push(a[2]);for(var d=3;d<a.length;d++){for(b=c.pop();!c.empty()&&Ee.computeOrientation(c.peek(),b,a[d])>0;)b=c.pop();b=c.push(b),b=c.push(a[d])}return b=c.push(a[0]),c},interfaces_:function(){return[]},getClass:function(){return Le}}),Le.extractCoordinates=function(a){var b=new Ke;return a.apply(b),b.getCoordinates()},Bp(Me.prototype,{compare:function(a,b){var c=a,d=b;return Me.polarCompare(this._origin,c,d)},interfaces_:function(){return[Dc]},getClass:function(){return Me}}),Me.polarCompare=function(a,b,c){var d=b.x-a.x,e=b.y-a.y,f=c.x-a.x,g=c.y-a.y,h=Ee.computeOrientation(a,b,c);if(h===Ee.COUNTERCLOCKWISE)return 1;if(h===Ee.CLOCKWISE)return-1;var i=d*d+e*e,j=f*f+g*g;return i<j?-1:i>j?1:0},Le.RadialComparator=Me,Bp(Ne.prototype,{transformPoint:function(a,b){return this._factory.createPoint(this.transformCoordinates(a.getCoordinateSequence(),a))},transformPolygon:function(a,b){var c=!0,d=this.transformLinearRing(a.getExteriorRing(),a);null!==d&&d instanceof Yd&&!d.isEmpty()||(c=!1);for(var e=new Qc,f=0;f<a.getNumInteriorRing();f++){var g=this.transformLinearRing(a.getInteriorRingN(f),a);null===g||g.isEmpty()||(g instanceof Yd||(c=!1),e.add(g))}if(c)return this._factory.createPolygon(d,e.toArray([]));var h=new Qc;return null!==d&&h.add(d),h.addAll(e),this._factory.buildGeometry(h)},createCoordinateSequence:function(a){return this._factory.getCoordinateSequenceFactory().create(a)},getInputGeometry:function(){return this._inputGeom},transformMultiLineString:function(a,b){for(var c=new Qc,d=0;d<a.getNumGeometries();d++){var e=this.transformLineString(a.getGeometryN(d),a);null!==e&&(e.isEmpty()||c.add(e))}return this._factory.buildGeometry(c)},transformCoordinates:function(a,b){return this.copy(a)},transformLineString:function(a,b){return this._factory.createLineString(this.transformCoordinates(a.getCoordinateSequence(),a))},transformMultiPoint:function(a,b){for(var c=new Qc,d=0;d<a.getNumGeometries();d++){var e=this.transformPoint(a.getGeometryN(d),a);null!==e&&(e.isEmpty()||c.add(e))}return this._factory.buildGeometry(c)},transformMultiPolygon:function(a,b){for(var c=new Qc,d=0;d<a.getNumGeometries();d++){var e=this.transformPolygon(a.getGeometryN(d),a);null!==e&&(e.isEmpty()||c.add(e))}return this._factory.buildGeometry(c)},copy:function(a){return a.copy()},transformGeometryCollection:function(a,b){for(var c=new Qc,d=0;d<a.getNumGeometries();d++){var e=this.transform(a.getGeometryN(d));null!==e&&(this._pruneEmptyGeometry&&e.isEmpty()||c.add(e))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(xe.toGeometryArray(c)):this._factory.buildGeometry(c)},transform:function(a){if(this._inputGeom=a,this._factory=a.getFactory(),a instanceof Ud)return this.transformPoint(a,null);if(a instanceof Xd)return this.transformMultiPoint(a,null);if(a instanceof Yd)return this.transformLinearRing(a,null);if(a instanceof Sd)return this.transformLineString(a,null);if(a instanceof Hd)return this.transformMultiLineString(a,null);if(a instanceof Wd)return this.transformPolygon(a,null);if(a instanceof Zd)return this.transformMultiPolygon(a,null);if(a instanceof Gd)return this.transformGeometryCollection(a,null);throw new zc("Unknown Geometry subtype: "+a.getClass().getName())},transformLinearRing:function(a,b){var c=this.transformCoordinates(a.getCoordinateSequence(),a);if(null===c)return this._factory.createLinearRing(null);var d=c.size();return d>0&&d<4&&!this._preserveType?this._factory.createLineString(c):this._factory.createLinearRing(c)},interfaces_:function(){return[]},getClass:function(){return Ne}}),Bp(Oe.prototype,{snapVertices:function(a,b){for(var c=this._isClosed?a.size()-1:a.size(),d=0;d<c;d++){var e=a.get(d),f=this.findSnapForVertex(e,b);null!==f&&(a.set(d,new Ic(f)),0===d&&this._isClosed&&a.set(a.size()-1,new Ic(f)))}},findSnapForVertex:function(a,b){for(var c=0;c<b.length;c++){if(a.equals2D(b[c]))return null;if(a.distance(b[c])<this._snapTolerance)return b[c]}return null},snapTo:function(a){var b=new Rc(this._srcPts);return this.snapVertices(b,a),this.snapSegments(b,a),b.toCoordinateArray()},snapSegments:function(a,b){if(0===b.length)return null;var c=b.length;b[0].equals2D(b[b.length-1])&&(c=b.length-1);for(var d=0;d<c;d++){var e=b[d],f=this.findSegmentIndexToSnap(e,a);f>=0&&a.add(f+1,new Ic(e),!1)}},findSegmentIndexToSnap:function(a,b){for(var c=Ac.MAX_VALUE,d=-1,e=0;e<b.size()-1;e++){if(this._seg.p0=b.get(e),this._seg.p1=b.get(e+1),this._seg.p0.equals2D(a)||this._seg.p1.equals2D(a)){if(this._allowSnappingToSourceVertices)continue;return-1}var f=this._seg.distance(a);f<this._snapTolerance&&f<c&&(c=f,d=e)}return d},setAllowSnappingToSourceVertices:function(a){this._allowSnappingToSourceVertices=a},interfaces_:function(){return[]},getClass:function(){return Oe}}),Oe.isClosed=function(a){return!(a.length<=1)&&a[0].equals2D(a[a.length-1])},Bp(Pe.prototype,{snapTo:function(a,b){return new Qe(b,this.extractTargetCoordinates(a)).transform(this._srcGeom)},snapToSelf:function(a,b){var c=this.extractTargetCoordinates(this._srcGeom),d=new Qe(a,c,!0),e=d.transform(this._srcGeom),f=e;return b&&Ep(f,Vd)&&(f=e.buffer(0)),f},computeSnapTolerance:function(a){return this.computeMinimumSegmentLength(a)/10},extractTargetCoordinates:function(a){for(var b=new Bd,c=a.getCoordinates(),d=0;d<c.length;d++)b.add(c[d]);return b.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(a){for(var b=Ac.MAX_VALUE,c=0;c<a.length-1;c++){var d=a[c].distance(a[c+1]);d<b&&(b=d)}return b},interfaces_:function(){return[]},getClass:function(){return Pe}}),Pe.snap=function(a,b,c){var d=new Array(2).fill(null),e=new Pe(a);d[0]=e.snapTo(b,c);var f=new Pe(b);return d[1]=f.snapTo(d[0],c),d},Pe.computeOverlaySnapTolerance=function(){if(1===arguments.length){var a=arguments[0],b=Pe.computeSizeBasedSnapTolerance(a),c=a.getPrecisionModel();if(c.getType()===ve.FIXED){var d=1/c.getScale()*2/1.415;d>b&&(b=d)}return b}if(2===arguments.length){var e=arguments[0],f=arguments[1];return Math.min(Pe.computeOverlaySnapTolerance(e),Pe.computeOverlaySnapTolerance(f))}},Pe.computeSizeBasedSnapTolerance=function(a){var b=a.getEnvelopeInternal();return Math.min(b.getHeight(),b.getWidth())*Pe.SNAP_PRECISION_FACTOR},Pe.snapToSelf=function(a,b,c){return new Pe(a).snapToSelf(b,c)},Pe.SNAP_PRECISION_FACTOR=1e-9,Cp(Qe,Ne),Bp(Qe.prototype,{snapLine:function(a,b){var c=new Oe(a,this._snapTolerance);return c.setAllowSnappingToSourceVertices(this._isSelfSnap),c.snapTo(b)},transformCoordinates:function(a,b){var c=a.toCoordinateArray(),d=this.snapLine(c,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(d)},interfaces_:function(){return[]},getClass:function(){return Qe}}),Bp(Re.prototype,{getCommon:function(){return Ac.longBitsToDouble(this._commonBits)},add:function(a){var b=Ac.doubleToLongBits(a);return this._isFirst?(this._commonBits=b,this._commonSignExp=Re.signExpBits(this._commonBits),this._isFirst=!1,null):Re.signExpBits(b)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Re.numCommonMostSigMantissaBits(this._commonBits,b),void(this._commonBits=Re.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},toString:function(){if(1===arguments.length){var a=arguments[0],b=Ac.longBitsToDouble(a),c=Long.toBinaryString(a),d="0000000000000000000000000000000000000000000000000000000000000000"+c,e=d.substring(d.length-64);return e.substring(0,1)+"  "+e.substring(1,12)+"(exp) "+e.substring(12)+" [ "+b+" ]"}},interfaces_:function(){return[]},getClass:function(){return Re}}),Re.getBit=function(a,b){return 0!=(a&1<<b)?1:0},Re.signExpBits=function(a){return a>>52},Re.zeroLowerBits=function(a,b){return a&~((1<<b)-1)},Re.numCommonMostSigMantissaBits=function(a,b){for(var c=0,d=52;d>=0;d--){if(Re.getBit(a,d)!==Re.getBit(b,d))return c;c++}return 52},Bp(Se.prototype,{addCommonBits:function(a){var b=new Ue(this._commonCoord);a.apply(b),a.geometryChanged()},removeCommonBits:function(a){if(0===this._commonCoord.x&&0===this._commonCoord.y)return a;var b=new Ic(this._commonCoord);b.x=-b.x,b.y=-b.y;var c=new Ue(b);return a.apply(c),a.geometryChanged(),a},getCommonCoordinate:function(){return this._commonCoord},add:function(a){a.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return Se}}),Bp(Te.prototype,{filter:function(a){this._commonBitsX.add(a.x),this._commonBitsY.add(a.y)},getCommonCoordinate:function(){return new Ic(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},interfaces_:function(){return[gd]},getClass:function(){return Te}}),Bp(Ue.prototype,{filter:function(a,b){var c=a.getOrdinate(b,0)+this.trans.x,d=a.getOrdinate(b,1)+this.trans.y;a.setOrdinate(b,0,c),a.setOrdinate(b,1,d)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[Fd]},getClass:function(){return Ue}}),Se.CommonCoordinateFilter=Te,Se.Translater=Ue,Bp(Ve.prototype,{next:function(){if(this._atStart)return this._atStart=!1,Ve.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Oc;var a=this._parent.getGeometryN(this._index++);return a instanceof Gd?(this._subcollectionIterator=new Ve(a),this._subcollectionIterator.next()):a},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},interfaces_:function(){return[Kc]},getClass:function(){return Ve}}),Ve.isAtomic=function(a){return!(a instanceof Gd)},Bp(We.prototype,{locateInternal:function(){if(arguments[0]instanceof Ic&&arguments[1]instanceof Wd){var a=arguments[0],b=arguments[1];if(b.isEmpty())return Vc.EXTERIOR;var c=b.getExteriorRing(),d=this.locateInPolygonRing(a,c);if(d===Vc.EXTERIOR)return Vc.EXTERIOR;if(d===Vc.BOUNDARY)return Vc.BOUNDARY;for(var e=0;e<b.getNumInteriorRing();e++){var f=b.getInteriorRingN(e),g=this.locateInPolygonRing(a,f);if(g===Vc.INTERIOR)return Vc.EXTERIOR;if(g===Vc.BOUNDARY)return Vc.BOUNDARY}return Vc.INTERIOR}if(arguments[0]instanceof Ic&&arguments[1]instanceof Sd){var a=arguments[0],h=arguments[1];if(!h.getEnvelopeInternal().intersects(a))return Vc.EXTERIOR;var i=h.getCoordinates();return h.isClosed()||!a.equals(i[0])&&!a.equals(i[i.length-1])?Ee.isOnLine(a,i)?Vc.INTERIOR:Vc.EXTERIOR:Vc.BOUNDARY}if(arguments[0]instanceof Ic&&arguments[1]instanceof Ud){var a=arguments[0],i=arguments[1];return i.getCoordinate().equals2D(a)?Vc.INTERIOR:Vc.EXTERIOR}},locateInPolygonRing:function(a,b){return b.getEnvelopeInternal().intersects(a)?Ee.locatePointInRing(a,b.getCoordinates()):Vc.EXTERIOR},intersects:function(a,b){return this.locate(a,b)!==Vc.EXTERIOR},updateLocationInfo:function(a){a===Vc.INTERIOR&&(this._isIn=!0),a===Vc.BOUNDARY&&this._numBoundaries++},computeLocation:function(a,b){if(b instanceof Ud&&this.updateLocationInfo(this.locateInternal(a,b)),b instanceof Sd)this.updateLocationInfo(this.locateInternal(a,b));else if(b instanceof Wd)this.updateLocationInfo(this.locateInternal(a,b));else if(b instanceof Hd)for(var c=b,d=0;d<c.getNumGeometries();d++){var e=c.getGeometryN(d);this.updateLocationInfo(this.locateInternal(a,e))}else if(b instanceof Zd)for(var f=b,d=0;d<f.getNumGeometries();d++){var g=f.getGeometryN(d);this.updateLocationInfo(this.locateInternal(a,g))}else if(b instanceof Gd)for(var h=new Ve(b);h.hasNext();){var i=h.next();i!==b&&this.computeLocation(a,i)}},locate:function(a,b){return b.isEmpty()?Vc.EXTERIOR:b instanceof Sd?this.locateInternal(a,b):b instanceof Wd?this.locateInternal(a,b):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(a,b),this._boundaryRule.isInBoundary(this._numBoundaries)?Vc.BOUNDARY:this._numBoundaries>0||this._isIn?Vc.INTERIOR:Vc.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return We}}),Bp(Xe.prototype,{interfaces_:function(){return[]},getClass:function(){return Xe}}),Xe.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1];if(0===a&&0===b)throw new zc("Cannot compute the octant for point ( "+a+", "+b+" )");var c=Math.abs(a),d=Math.abs(b);return a>=0?b>=0?c>=d?0:1:c>=d?7:6:b>=0?c>=d?3:2:c>=d?4:5}if(arguments[0]instanceof Ic&&arguments[1]instanceof Ic){var e=arguments[0],f=arguments[1],a=f.x-e.x,b=f.y-e.y;if(0===a&&0===b)throw new zc("Cannot compute the octant for two identical points "+e);return Xe.octant(a,b)}},Bp(Ye.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(a){},isClosed:function(){},setData:function(a){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return Ye}}),Bp(Ze.prototype,{getCoordinates:function(){return this._pts},size:function(){return this._pts.length},getCoordinate:function(a){return this._pts[a]},isClosed:function(){return this._pts[0].equals(this._pts[this._pts.length-1])},getSegmentOctant:function(a){return a===this._pts.length-1?-1:Xe.octant(this.getCoordinate(a),this.getCoordinate(a+1))},setData:function(a){this._data=a},getData:function(){return this._data},toString:function(){return ze.toLineString(new de(this._pts))},interfaces_:function(){return[Ye]},getClass:function(){return Ze}}),Bp($e.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return $e}}),Bp(_e.prototype,{getItem:function(){return this._item},getBounds:function(){return this._bounds},interfaces_:function(){return[$e,Ec]},getClass:function(){return _e}}),Bp(af.prototype,{poll:function(){if(this.isEmpty())return null;var a=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),a},size:function(){return this._size},reorder:function(a){for(var b=null,c=this._items.get(a);2*a<=this._size&&(b=2*a,b!==this._size&&this._items.get(b+1).compareTo(this._items.get(b))<0&&b++,this._items.get(b).compareTo(c)<0);a=b)this._items.set(a,this._items.get(b));this._items.set(a,c)},clear:function(){this._size=0,this._items.clear()},isEmpty:function(){return 0===this._size},add:function(a){this._items.add(null),this._size+=1;var b=this._size;for(this._items.set(0,a);a.compareTo(this._items.get(Math.trunc(b/2)))<0;b/=2)this._items.set(b,this._items.get(Math.trunc(b/2)));this._items.set(b,a)},interfaces_:function(){return[]},getClass:function(){return af}}),Bp(bf.prototype,{visitItem:function(a){},interfaces_:function(){return[]},getClass:function(){return bf}}),Bp(cf.prototype,{insert:function(a,b){},remove:function(a,b){},query:function(){},interfaces_:function(){return[]},getClass:function(){return cf}}),Bp(df.prototype,{getLevel:function(){return this._level},size:function(){return this._childBoundables.size()},getChildBoundables:function(){return this._childBoundables},addChildBoundable:function(a){Hc.isTrue(null===this._bounds),this._childBoundables.add(a)},isEmpty:function(){return this._childBoundables.isEmpty()},getBounds:function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},interfaces_:function(){return[$e,Ec]},getClass:function(){return df}}),df.serialVersionUID=0x5a1e55ec41369800;var Qp={reverseOrder:function(){return{compare:function(a,b){return b.compareTo(a)}}},min:function(a){return Qp.sort(a),a.get(0)},sort:function(a,b){var c=a.toArray();b?Cd.sort(c,b):Cd.sort(c);for(var d=a.iterator(),e=0,f=c.length;e<f;e++)d.next(),d.set(c[e])},singletonList:function(a){var b=new Qc;return b.add(a),b}};Bp(ef.prototype,{expandToQueue:function(a,b){var c=ef.isComposite(this._boundable1),d=ef.isComposite(this._boundable2);if(c&&d)return ef.area(this._boundable1)>ef.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,a,b),null):(this.expand(this._boundable2,this._boundable1,a,b),null);if(c)return this.expand(this._boundable1,this._boundable2,a,b),null;if(d)return this.expand(this._boundable2,this._boundable1,a,b),null;throw new zc("neither boundable is composite")},isLeaves:function(){return!(ef.isComposite(this._boundable1)||ef.isComposite(this._boundable2))},compareTo:function(a){var b=a;return this._distance<b._distance?-1:this._distance>b._distance?1:0},expand:function(a,b,c,d){for(var e=a.getChildBoundables(),f=e.iterator();f.hasNext();){var g=f.next(),h=new ef(g,b,this._itemDistance);h.getDistance()<d&&c.add(h)}},getBoundable:function(a){return 0===a?this._boundable1:this._boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},interfaces_:function(){return[Bc]},getClass:function(){return ef}}),ef.area=function(a){return a.getBounds().getArea()},ef.isComposite=function(a){return a instanceof df},Bp(ff.prototype,{getNodeCapacity:function(){return this._nodeCapacity},lastNode:function(a){return a.get(a.size()-1)},size:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var a=arguments[0],b=0,c=a.getChildBoundables().iterator();c.hasNext();){var d=c.next();d instanceof df?b+=this.size(d):d instanceof _e&&(b+=1)}return b}},removeItem:function(a,b){for(var c=null,d=a.getChildBoundables().iterator();d.hasNext();){var e=d.next();e instanceof _e&&e.getItem()===b&&(c=e)}return null!==c&&(a.getChildBoundables().remove(c),!0)},itemsTree:function(){if(0===arguments.length){this.build();var a=this.itemsTree(this._root);return null===a?new Qc:a}if(1===arguments.length){for(var b=arguments[0],c=new Qc,d=b.getChildBoundables().iterator();d.hasNext();){var e=d.next();if(e instanceof df){var f=this.itemsTree(e);null!==f&&c.add(f)}else e instanceof _e?c.add(e.getItem()):Hc.shouldNeverReachHere()}return c.size()<=0?null:c}},insert:function(a,b){Hc.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new _e(a,b))},boundablesAtLevel:function(){if(1===arguments.length){var a=arguments[0],b=new Qc;return this.boundablesAtLevel(a,this._root,b),b}if(3===arguments.length){var a=arguments[0],c=arguments[1],b=arguments[2];if(Hc.isTrue(a>-2),c.getLevel()===a)return b.add(c),null;for(var d=c.getChildBoundables().iterator();d.hasNext();){var e=d.next();e instanceof df?this.boundablesAtLevel(a,e,b):(Hc.isTrue(e instanceof _e),-1===a&&b.add(e))}return null}},query:function(){if(1===arguments.length){var a=arguments[0];this.build();var b=new Qc;return this.isEmpty()?b:(this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.query(a,this._root,b),b)}if(2===arguments.length){var a=arguments[0],c=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.query(a,this._root,c)}else if(3===arguments.length)if(Ep(arguments[2],bf)&&arguments[0]instanceof Object&&arguments[1]instanceof df)for(var a=arguments[0],d=arguments[1],c=arguments[2],e=d.getChildBoundables(),f=0;f<e.size();f++){var g=e.get(f);this.getIntersectsOp().intersects(g.getBounds(),a)&&(g instanceof df?this.query(a,g,c):g instanceof _e?c.visitItem(g.getItem()):Hc.shouldNeverReachHere())}else if(Ep(arguments[2],Nc)&&arguments[0]instanceof Object&&arguments[1]instanceof df)for(var a=arguments[0],d=arguments[1],b=arguments[2],e=d.getChildBoundables(),f=0;f<e.size();f++){var g=e.get(f);this.getIntersectsOp().intersects(g.getBounds(),a)&&(g instanceof df?this.query(a,g,b):g instanceof _e?b.add(g.getItem()):Hc.shouldNeverReachHere())}},build:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},getRoot:function(){return this.build(),this._root},remove:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.remove(a,this._root,b)}if(3===arguments.length){var a=arguments[0],c=arguments[1],b=arguments[2],d=this.removeItem(c,b);if(d)return!0;for(var e=null,f=c.getChildBoundables().iterator();f.hasNext();){var g=f.next();if(this.getIntersectsOp().intersects(g.getBounds(),a)&&(g instanceof df&&(d=this.remove(a,g,b)))){e=g;break}}return null!==e&&e.getChildBoundables().isEmpty()&&c.getChildBoundables().remove(e),d}},createHigherLevels:function(a,b){Hc.isTrue(!a.isEmpty());var c=this.createParentBoundables(a,b+1);return 1===c.size()?c.get(0):this.createHigherLevels(c,b+1)},depth:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var a=arguments[0],b=0,c=a.getChildBoundables().iterator();c.hasNext();){var d=c.next();if(d instanceof df){var e=this.depth(d);e>b&&(b=e)}}return b+1}},createParentBoundables:function(a,b){Hc.isTrue(!a.isEmpty());var c=new Qc;c.add(this.createNode(b));var d=new Qc(a);Qp.sort(d,this.getComparator());for(var e=d.iterator();e.hasNext();){var f=e.next();this.lastNode(c).getChildBoundables().size()===this.getNodeCapacity()&&c.add(this.createNode(b)),this.lastNode(c).addChildBoundable(f)}return c},isEmpty:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},interfaces_:function(){return[Ec]},getClass:function(){return ff}}),ff.compareDoubles=function(a,b){return a>b?1:a<b?-1:0},ff.IntersectsOp=gf,ff.serialVersionUID=-0x35ef64c82d4c5400,ff.DEFAULT_NODE_CAPACITY=10,Bp(hf.prototype,{distance:function(a,b){},interfaces_:function(){return[]},getClass:function(){return hf}}),Cp(jf,ff),Bp(jf.prototype,{createParentBoundablesFromVerticalSlices:function(a,b){Hc.isTrue(a.length>0);for(var c=new Qc,d=0;d<a.length;d++)c.addAll(this.createParentBoundablesFromVerticalSlice(a[d],b));return c},createNode:function(a){return new kf(a)},size:function(){return 0===arguments.length?ff.prototype.size.call(this):ff.prototype.size.apply(this,arguments)},insert:function(){if(2!==arguments.length)return ff.prototype.insert.apply(this,arguments);var a=arguments[0],b=arguments[1];if(a.isNull())return null;ff.prototype.insert.call(this,a,b)},getIntersectsOp:function(){return jf.intersectsOp},verticalSlices:function(a,b){for(var c=Math.trunc(Math.ceil(a.size()/b)),d=new Array(b).fill(null),e=a.iterator(),f=0;f<b;f++){d[f]=new Qc;for(var g=0;e.hasNext()&&g<c;){var h=e.next();d[f].add(h),g++}}return d},query:function(){if(1===arguments.length){var a=arguments[0];return ff.prototype.query.call(this,a)}if(2===arguments.length){var a=arguments[0],b=arguments[1];ff.prototype.query.call(this,a,b)}else if(3===arguments.length)if(Ep(arguments[2],bf)&&arguments[0]instanceof Object&&arguments[1]instanceof df){var c=arguments[0],d=arguments[1],b=arguments[2];ff.prototype.query.call(this,c,d,b)}else if(Ep(arguments[2],Nc)&&arguments[0]instanceof Object&&arguments[1]instanceof df){var c=arguments[0],d=arguments[1],e=arguments[2];ff.prototype.query.call(this,c,d,e)}},getComparator:function(){return jf.yComparator},createParentBoundablesFromVerticalSlice:function(a,b){return ff.prototype.createParentBoundables.call(this,a,b)},remove:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return ff.prototype.remove.call(this,a,b)}return ff.prototype.remove.apply(this,arguments)},depth:function(){return 0===arguments.length?ff.prototype.depth.call(this):ff.prototype.depth.apply(this,arguments)},createParentBoundables:function(a,b){Hc.isTrue(!a.isEmpty());var c=Math.trunc(Math.ceil(a.size()/this.getNodeCapacity())),d=new Qc(a);Qp.sort(d,jf.xComparator);var e=this.verticalSlices(d,Math.trunc(Math.ceil(Math.sqrt(c))));return this.createParentBoundablesFromVerticalSlices(e,b)},nearestNeighbour:function(){if(1===arguments.length){if(Ep(arguments[0],hf)){var a=arguments[0],b=new ef(this.getRoot(),this.getRoot(),a);return this.nearestNeighbour(b)}if(arguments[0]instanceof ef){var c=arguments[0];return this.nearestNeighbour(c,Ac.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof jf&&Ep(arguments[1],hf)){var d=arguments[0],a=arguments[1],b=new ef(this.getRoot(),d.getRoot(),a);return this.nearestNeighbour(b)}if(arguments[0]instanceof ef&&"number"==typeof arguments[1]){var c=arguments[0],e=arguments[1],f=e,g=null,h=new af;for(h.add(c);!h.isEmpty()&&f>0;){var i=h.poll(),j=i.getDistance();if(j>=f)break;i.isLeaves()?(f=j,g=i):i.expandToQueue(h,f)}return[g.getBoundable(0).getItem(),g.getBoundable(1).getItem()]}}else if(3===arguments.length){var k=arguments[0],l=arguments[1],a=arguments[2],m=new _e(k,l),b=new ef(this.getRoot(),m,a);return this.nearestNeighbour(b)[0]}},interfaces_:function(){return[cf,Ec]},getClass:function(){return jf}}),jf.centreX=function(a){return jf.avg(a.getMinX(),a.getMaxX())},jf.avg=function(a,b){return(a+b)/2},jf.centreY=function(a){return jf.avg(a.getMinY(),a.getMaxY())},Cp(kf,df),Bp(kf.prototype,{computeBounds:function(){for(var a=null,b=this.getChildBoundables().iterator();b.hasNext();){var c=b.next();null===a?a=new Sc(c.getBounds()):a.expandToInclude(c.getBounds())}return a},interfaces_:function(){return[]},getClass:function(){return kf}}),jf.STRtreeNode=kf,jf.serialVersionUID=0x39920f7d5f261e0,jf.xComparator={interfaces_:function(){return[Dc]},compare:function(a,b){return ff.compareDoubles(jf.centreX(a.getBounds()),jf.centreX(b.getBounds()))}},jf.yComparator={interfaces_:function(){return[Dc]},compare:function(a,b){return ff.compareDoubles(jf.centreY(a.getBounds()),jf.centreY(b.getBounds()))}},jf.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(a,b){return a.intersects(b)}},jf.DEFAULT_NODE_CAPACITY=10,Bp(lf.prototype,{interfaces_:function(){return[]},getClass:function(){return lf}}),lf.relativeSign=function(a,b){return a<b?-1:a>b?1:0},lf.compare=function(a,b,c){if(b.equals2D(c))return 0;var d=lf.relativeSign(b.x,c.x),e=lf.relativeSign(b.y,c.y);switch(a){case 0:return lf.compareValue(d,e);case 1:return lf.compareValue(e,d);case 2:return lf.compareValue(e,-d);case 3:return lf.compareValue(-d,e);case 4:return lf.compareValue(-d,-e);case 5:return lf.compareValue(-e,-d);case 6:return lf.compareValue(-e,d);case 7:return lf.compareValue(d,-e)}return Hc.shouldNeverReachHere("invalid octant value"),0},lf.compareValue=function(a,b){return a<0?-1:a>0?1:b<0?-1:b>0?1:0},Bp(mf.prototype,{getCoordinate:function(){return this.coord},print:function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex)},compareTo:function(a){var b=a;return this.segmentIndex<b.segmentIndex?-1:this.segmentIndex>b.segmentIndex?1:this.coord.equals2D(b.coord)?0:lf.compare(this._segmentOctant,this.coord,b.coord)},isEndPoint:function(a){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===a},isInterior:function(){return this._isInterior},interfaces_:function(){return[Bc]},getClass:function(){return mf}}),Bp(nf.prototype,{getSplitCoordinates:function(){var a=new Rc;this.addEndpoints();for(var b=this.iterator(),c=b.next();b.hasNext();){var d=b.next();this.addEdgeCoordinates(c,d,a),c=d}return a.toCoordinateArray()},addCollapsedNodes:function(){var a=new Qc;this.findCollapsesFromInsertedNodes(a),this.findCollapsesFromExistingVertices(a);for(var b=a.iterator();b.hasNext();){var c=b.next().intValue();this.add(this._edge.getCoordinate(c),c)}},print:function(a){a.println("Intersections:");for(var b=this.iterator();b.hasNext();){b.next().print(a)}},findCollapsesFromExistingVertices:function(a){for(var b=0;b<this._edge.size()-2;b++){var c=this._edge.getCoordinate(b),d=(this._edge.getCoordinate(b+1),this._edge.getCoordinate(b+2));c.equals2D(d)&&a.add(new Yc(b+1))}},addEdgeCoordinates:function(a,b,c){var d=b.segmentIndex-a.segmentIndex+2,e=this._edge.getCoordinate(b.segmentIndex),f=b.isInterior()||!b.coord.equals2D(e);f||d--,c.add(new Ic(a.coord),!1);for(var g=a.segmentIndex+1;g<=b.segmentIndex;g++)c.add(this._edge.getCoordinate(g));f&&c.add(new Ic(b.coord))},iterator:function(){return this._nodeMap.values().iterator()},addSplitEdges:function(a){this.addEndpoints(),this.addCollapsedNodes();for(var b=this.iterator(),c=b.next();b.hasNext();){var d=b.next(),e=this.createSplitEdge(c,d);a.add(e),c=d}},findCollapseIndex:function(a,b,c){if(!a.coord.equals2D(b.coord))return!1;var d=b.segmentIndex-a.segmentIndex;return b.isInterior()||d--,1===d&&(c[0]=a.segmentIndex+1,!0)},findCollapsesFromInsertedNodes:function(a){for(var b=new Array(1).fill(null),c=this.iterator(),d=c.next();c.hasNext();){var e=c.next();this.findCollapseIndex(d,e,b)&&a.add(new Yc(b[0])),d=e}},getEdge:function(){return this._edge},addEndpoints:function(){var a=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(a),a)},createSplitEdge:function(a,b){var c=b.segmentIndex-a.segmentIndex+2,d=this._edge.getCoordinate(b.segmentIndex),e=b.isInterior()||!b.coord.equals2D(d);e||c--;var f=new Array(c).fill(null),g=0;f[g++]=new Ic(a.coord);for(var h=a.segmentIndex+1;h<=b.segmentIndex;h++)f[g++]=this._edge.getCoordinate(h);return e&&(f[g]=new Ic(b.coord)),new qf(f,this._edge.getData())},add:function(a,b){var c=new mf(this._edge,a,b,this._edge.getSegmentOctant(b)),d=this._nodeMap.get(c);return null!==d?(Hc.isTrue(d.coord.equals2D(a),"Found equal nodes with different coordinates"),d):(this._nodeMap.put(c,c),c)},checkSplitEdgesCorrectness:function(a){var b=this._edge.getCoordinates(),c=a.get(0),d=c.getCoordinate(0);if(!d.equals2D(b[0]))throw new Fc("bad split edge start point at "+d);var e=a.get(a.size()-1),f=e.getCoordinates(),g=f[f.length-1];if(!g.equals2D(b[b.length-1]))throw new Fc("bad split edge end point at "+g)},interfaces_:function(){return[]},getClass:function(){return nf}}),Bp(of.prototype,{next:function(){return null===this._currNode?(this._currNode=this._nextNode,this._currSegIndex=this._currNode.segmentIndex,this.readNextNode(),this._currNode):null===this._nextNode?null:this._nextNode.segmentIndex===this._currNode.segmentIndex?(this._currNode=this._nextNode,this._currSegIndex=this._currNode.segmentIndex,this.readNextNode(),this._currNode):(this._nextNode.segmentIndex,this._currNode.segmentIndex,null)},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return null!==this._nextNode},readNextNode:function(){this._nodeIt.hasNext()?this._nextNode=this._nodeIt.next():this._nextNode=null},interfaces_:function(){return[Kc]},getClass:function(){return of}}),Bp(pf.prototype,{addIntersection:function(a,b){},interfaces_:function(){return[Ye]},getClass:function(){return pf}}),Bp(qf.prototype,{getCoordinates:function(){return this._pts},size:function(){return this._pts.length},getCoordinate:function(a){return this._pts[a]},isClosed:function(){return this._pts[0].equals(this._pts[this._pts.length-1])},getSegmentOctant:function(a){return a===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(a),this.getCoordinate(a+1))},setData:function(a){this._data=a},safeOctant:function(a,b){return a.equals2D(b)?0:Xe.octant(a,b)},getData:function(){return this._data},addIntersection:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];this.addIntersectionNode(a,b)}else if(4===arguments.length){var c=arguments[0],b=arguments[1],d=(arguments[2],arguments[3]),a=new Ic(c.getIntersection(d));this.addIntersection(a,b)}},toString:function(){return ze.toLineString(new de(this._pts))},getNodeList:function(){return this._nodeList},addIntersectionNode:function(a,b){var c=b,d=c+1;if(d<this._pts.length){var e=this._pts[d];a.equals2D(e)&&(c=d)}return this._nodeList.add(a,c)},addIntersections:function(a,b,c){for(var d=0;d<a.getIntersectionNum();d++)this.addIntersection(a,b,c,d)},interfaces_:function(){return[pf]},getClass:function(){return qf}}),qf.getNodedSubstrings=function(){if(1===arguments.length){var a=arguments[0],b=new Qc;return qf.getNodedSubstrings(a,b),b}if(2===arguments.length)for(var a=arguments[0],b=arguments[1],c=a.iterator();c.hasNext();){var d=c.next();d.getNodeList().addSplitEdges(b)}},Bp(rf.prototype,{overlap:function(){if(2===arguments.length);else if(4===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];a.getLineSegment(b,this._overlapSeg1),c.getLineSegment(d,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},interfaces_:function(){return[]},getClass:function(){return rf}}),Bp(sf.prototype,{getLineSegment:function(a,b){b.p0=this._pts[a],b.p1=this._pts[a+1]},computeSelect:function(a,b,c,d){var e=this._pts[b],f=this._pts[c];if(d.tempEnv1.init(e,f),c-b==1)return d.select(this,b),null;if(!a.intersects(d.tempEnv1))return null;var g=Math.trunc((b+c)/2);b<g&&this.computeSelect(a,b,g,d),g<c&&this.computeSelect(a,g,c,d)},getCoordinates:function(){for(var a=new Array(this._end-this._start+1).fill(null),b=0,c=this._start;c<=this._end;c++)a[b++]=this._pts[c];return a},computeOverlaps:function(a,b){this.computeOverlapsInternal(this._start,this._end,a,a._start,a._end,b)},setId:function(a){this._id=a},select:function(a,b){this.computeSelect(a,this._start,this._end,b)},getEnvelope:function(){if(null===this._env){var a=this._pts[this._start],b=this._pts[this._end];this._env=new Sc(a,b)}return this._env},getEndIndex:function(){return this._end},getStartIndex:function(){return this._start},getContext:function(){return this._context},getId:function(){return this._id},computeOverlapsInternal:function(a,b,c,d,e,f){var g=this._pts[a],h=this._pts[b],i=c._pts[d],j=c._pts[e];if(b-a==1&&e-d==1)return f.overlap(this,a,c,d),null;if(f.tempEnv1.init(g,h),f.tempEnv2.init(i,j),!f.tempEnv1.intersects(f.tempEnv2))return null;var k=Math.trunc((a+b)/2),l=Math.trunc((d+e)/2);a<k&&(d<l&&this.computeOverlapsInternal(a,k,c,d,l,f),l<e&&this.computeOverlapsInternal(a,k,c,l,e,f)),k<b&&(d<l&&this.computeOverlapsInternal(k,b,c,d,l,f),l<e&&this.computeOverlapsInternal(k,b,c,l,e,f))},interfaces_:function(){return[]},getClass:function(){return sf}}),Bp(tf.prototype,{interfaces_:function(){return[]},getClass:function(){return tf}}),tf.isNorthern=function(a){return a===tf.NE||a===tf.NW},tf.isOpposite=function(a,b){return a!==b&&2==(a-b+4)%4},tf.commonHalfPlane=function(a,b){if(a===b)return a;if(2==(a-b+4)%4)return-1;var c=a<b?a:b,d=a>b?a:b;return 0===c&&3===d?3:c},tf.isInHalfPlane=function(a,b){return b===tf.SE?a===tf.SE||a===tf.SW:a===b||a===b+1},tf.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1];if(0===a&&0===b)throw new zc("Cannot compute the quadrant for point ( "+a+", "+b+" )");return a>=0?b>=0?tf.NE:tf.SE:b>=0?tf.NW:tf.SW}if(arguments[0]instanceof Ic&&arguments[1]instanceof Ic){var c=arguments[0],d=arguments[1];if(d.x===c.x&&d.y===c.y)throw new zc("Cannot compute the quadrant for two identical points "+c);return d.x>=c.x?d.y>=c.y?tf.NE:tf.SE:d.y>=c.y?tf.NW:tf.SW}},tf.NE=0,tf.NW=1,tf.SW=2,tf.SE=3,Bp(uf.prototype,{interfaces_:function(){return[]},getClass:function(){return uf}}),uf.getChainStartIndices=function(a){var b=0,c=new Qc;c.add(new Yc(b));do{var d=uf.findChainEnd(a,b);c.add(new Yc(d)),b=d}while(b<a.length-1);return uf.toIntArray(c)},uf.findChainEnd=function(a,b){for(var c=b;c<a.length-1&&a[c].equals2D(a[c+1]);)c++;if(c>=a.length-1)return a.length-1;for(var d=tf.quadrant(a[c],a[c+1]),e=b+1;e<a.length;){if(!a[e-1].equals2D(a[e])){if(tf.quadrant(a[e-1],a[e])!==d)break}e++}return e-1},uf.getChains=function(){if(1===arguments.length){var a=arguments[0];return uf.getChains(a,null)}if(2===arguments.length){for(var a=arguments[0],b=arguments[1],c=new Qc,d=uf.getChainStartIndices(a),e=0;e<d.length-1;e++){var f=new sf(a,d[e],d[e+1],b);c.add(f)}return c}},uf.toIntArray=function(a){for(var b=new Array(a.size()).fill(null),c=0;c<b.length;c++)b[c]=a.get(c).intValue();return b},Bp(vf.prototype,{computeNodes:function(a){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return vf}}),Bp(wf.prototype,{setSegmentIntersector:function(a){this._segInt=a},interfaces_:function(){return[vf]},getClass:function(){return wf}}),Cp(xf,wf),Bp(xf.prototype,{getMonotoneChains:function(){return this._monoChains},getNodedSubstrings:function(){return qf.getNodedSubstrings(this._nodedSegStrings)},getIndex:function(){return this._index},add:function(a){for(var b=uf.getChains(a.getCoordinates(),a),c=b.iterator();c.hasNext();){var d=c.next();d.setId(this._idCounter++),this._index.insert(d.getEnvelope(),d),this._monoChains.add(d)}},computeNodes:function(a){this._nodedSegStrings=a;for(var b=a.iterator();b.hasNext();)this.add(b.next());this.intersectChains()},intersectChains:function(){for(var a=new yf(this._segInt),b=this._monoChains.iterator();b.hasNext();)for(var c=b.next(),d=this._index.query(c.getEnvelope()),e=d.iterator();e.hasNext();){var f=e.next();if(f.getId()>c.getId()&&(c.computeOverlaps(f,a),this._nOverlaps++),this._segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return xf}}),Cp(yf,rf),Bp(yf.prototype,{overlap:function(){if(4!==arguments.length)return rf.prototype.overlap.apply(this,arguments);var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3],e=a.getContext(),f=c.getContext();this._si.processIntersections(e,b,f,d)},interfaces_:function(){return[]},getClass:function(){return yf}}),xf.SegmentOverlapAction=yf,Cp(zf,Fc),Bp(zf.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return zf}}),zf.msgWithCoord=function(a,b){return null!==b?a+" [ "+b+" ]":a},Bp(Af.prototype,{processIntersections:function(a,b,c,d){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return Af}}),Bp(Bf.prototype,{getInteriorIntersection:function(){return this._interiorIntersection},setCheckEndSegmentsOnly:function(a){this._isCheckEndSegmentsOnly=a},getIntersectionSegments:function(){return this._intSegments},count:function(){return this._intersectionCount},getIntersections:function(){return this._intersections},setFindAllIntersections:function(a){this._findAllIntersections=a},setKeepIntersections:function(a){this._keepIntersections=a},processIntersections:function(a,b,c,d){if(!this._findAllIntersections&&this.hasIntersection())return null;if(a===c&&b===d)return null;if(this._isCheckEndSegmentsOnly){if(!(this.isEndSegment(a,b)||this.isEndSegment(c,d)))return null}var e=a.getCoordinates()[b],f=a.getCoordinates()[b+1],g=c.getCoordinates()[d],h=c.getCoordinates()[d+1];this._li.computeIntersection(e,f,g,h),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=e,this._intSegments[1]=f,this._intSegments[2]=g,this._intSegments[3]=h,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},isEndSegment:function(a,b){return 0===b||b>=a.size()-2},hasIntersection:function(){return null!==this._interiorIntersection},isDone:function(){return!this._findAllIntersections&&null!==this._interiorIntersection},interfaces_:function(){return[Af]},getClass:function(){return Bf}}),Bf.createAllIntersectionsFinder=function(a){var b=new Bf(a);return b.setFindAllIntersections(!0),b},Bf.createAnyIntersectionFinder=function(a){return new Bf(a)},Bf.createIntersectionCounter=function(a){var b=new Bf(a);return b.setFindAllIntersections(!0),b.setKeepIntersections(!1),b},Bp(Cf.prototype,{execute:function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},getIntersections:function(){return this._segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(a){this._findAllIntersections=a},checkInteriorIntersections:function(){this._isValid=!0,this._segInt=new Bf(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var a=new xf;if(a.setSegmentIntersector(this._segInt),a.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},checkValid:function(){if(this.execute(),!this._isValid)throw new zf(this.getErrorMessage(),this._segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var a=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+ze.toLineString(a[0],a[1])+" and "+ze.toLineString(a[2],a[3])},interfaces_:function(){return[]},getClass:function(){return Cf}}),Cf.computeIntersections=function(a){var b=new Cf(a);return b.setFindAllIntersections(!0),b.isValid(),b.getIntersections()},Bp(Df.prototype,{checkValid:function(){this._nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return Df}}),Df.toSegmentStrings=function(a){for(var b=new Qc,c=a.iterator();c.hasNext();){var d=c.next();b.add(new Ze(d.getCoordinates(),d))}return b},Df.checkValid=function(a){new Df(a).checkValid()},Bp(Ef.prototype,{map:function(a){for(var b=new Qc,c=0;c<a.getNumGeometries();c++){var d=this._mapOp.map(a.getGeometryN(c));d.isEmpty()||b.add(d)}return a.getFactory().createGeometryCollection(xe.toGeometryArray(b))},interfaces_:function(){return[]},getClass:function(){return Ef}}),Ef.map=function(a,b){return new Ef(b).map(a)},Bp(Ff.prototype,{interfaces_:function(){return[]},getClass:function(){return Ff}}),Ff.opposite=function(a){return a===Ff.LEFT?Ff.RIGHT:a===Ff.RIGHT?Ff.LEFT:a},Ff.ON=0,Ff.LEFT=1,Ff.RIGHT=2,Bp(Gf.prototype,{setAllLocations:function(a){for(var b=0;b<this.location.length;b++)this.location[b]=a},isNull:function(){for(var a=0;a<this.location.length;a++)if(this.location[a]!==Vc.NONE)return!1;return!0},setAllLocationsIfNull:function(a){for(var b=0;b<this.location.length;b++)this.location[b]===Vc.NONE&&(this.location[b]=a)},isLine:function(){return 1===this.location.length},merge:function(a){if(a.location.length>this.location.length){var b=new Array(3).fill(null);b[Ff.ON]=this.location[Ff.ON],b[Ff.LEFT]=Vc.NONE,b[Ff.RIGHT]=Vc.NONE,this.location=b}for(var c=0;c<this.location.length;c++)this.location[c]===Vc.NONE&&c<a.location.length&&(this.location[c]=a.location[c])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var a=this.location[Ff.LEFT];this.location[Ff.LEFT]=this.location[Ff.RIGHT],this.location[Ff.RIGHT]=a},toString:function(){var a=new Xc;return this.location.length>1&&a.append(Vc.toLocationSymbol(this.location[Ff.LEFT])),a.append(Vc.toLocationSymbol(this.location[Ff.ON])),this.location.length>1&&a.append(Vc.toLocationSymbol(this.location[Ff.RIGHT])),a.toString()},setLocations:function(a,b,c){this.location[Ff.ON]=a,this.location[Ff.LEFT]=b,this.location[Ff.RIGHT]=c},get:function(a){return a<this.location.length?this.location[a]:Vc.NONE},isArea:function(){return this.location.length>1},isAnyNull:function(){for(var a=0;a<this.location.length;a++)if(this.location[a]===Vc.NONE)return!0;return!1},setLocation:function(){if(1===arguments.length){var a=arguments[0];this.setLocation(Ff.ON,a)}else if(2===arguments.length){var b=arguments[0],a=arguments[1];this.location[b]=a}},init:function(a){this.location=new Array(a).fill(null),this.setAllLocations(Vc.NONE)},isEqualOnSide:function(a,b){return this.location[b]===a.location[b]},allPositionsEqual:function(a){for(var b=0;b<this.location.length;b++)if(this.location[b]!==a)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return Gf}}),Bp(Hf.prototype,{getGeometryCount:function(){var a=0;return this.elt[0].isNull()||a++,this.elt[1].isNull()||a++,a},setAllLocations:function(a,b){this.elt[a].setAllLocations(b)},isNull:function(a){return this.elt[a].isNull()},setAllLocationsIfNull:function(){if(1===arguments.length){var a=arguments[0];this.setAllLocationsIfNull(0,a),this.setAllLocationsIfNull(1,a)}else if(2===arguments.length){var b=arguments[0],a=arguments[1];this.elt[b].setAllLocationsIfNull(a)}},isLine:function(a){return this.elt[a].isLine()},merge:function(a){for(var b=0;b<2;b++)null===this.elt[b]&&null!==a.elt[b]?this.elt[b]=new Gf(a.elt[b]):this.elt[b].merge(a.elt[b])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(1===arguments.length){var a=arguments[0];return this.elt[a].get(Ff.ON)}if(2===arguments.length){var a=arguments[0],b=arguments[1];return this.elt[a].get(b)}},toString:function(){var a=new Xc;return null!==this.elt[0]&&(a.append("A:"),a.append(this.elt[0].toString())),null!==this.elt[1]&&(a.append(" B:"),a.append(this.elt[1].toString())),a.toString()},isArea:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var a=arguments[0];return this.elt[a].isArea()}},isAnyNull:function(a){return this.elt[a].isAnyNull()},setLocation:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];this.elt[a].setLocation(Ff.ON,b)}else if(3===arguments.length){var a=arguments[0],c=arguments[1],b=arguments[2];this.elt[a].setLocation(c,b)}},isEqualOnSide:function(a,b){return this.elt[0].isEqualOnSide(a.elt[0],b)&&this.elt[1].isEqualOnSide(a.elt[1],b)},allPositionsEqual:function(a,b){return this.elt[a].allPositionsEqual(b)},toLine:function(a){this.elt[a].isArea()&&(this.elt[a]=new Gf(this.elt[a].location[0]))},interfaces_:function(){return[]},getClass:function(){return Hf}}),Hf.toLineLabel=function(a){for(var b=new Hf(Vc.NONE),c=0;c<2;c++)b.setLocation(c,a.getLocation(c));return b},Bp(If.prototype,{computeRing:function(){if(null!==this._ring)return null;for(var a=new Array(this._pts.size()).fill(null),b=0;b<this._pts.size();b++)a[b]=this._pts.get(b);this._ring=this._geometryFactory.createLinearRing(a),this._isHole=Ee.isCCW(this._ring.getCoordinates())},isIsolated:function(){return 1===this._label.getGeometryCount()},computePoints:function(a){this._startDe=a;var b=a,c=!0;do{if(null===b)throw new zf("Found null DirectedEdge");if(b.getEdgeRing()===this)throw new zf("Directed Edge visited twice during ring-building at "+b.getCoordinate());this._edges.add(b);var d=b.getLabel();Hc.isTrue(d.isArea()),this.mergeLabel(d),this.addPoints(b.getEdge(),b.isForward(),c),c=!1,this.setEdgeRing(b,this),b=this.getNext(b)}while(b!==this._startDe)},getLinearRing:function(){return this._ring},getCoordinate:function(a){return this._pts.get(a)},computeMaxNodeDegree:function(){this._maxNodeDegree=0;var a=this._startDe;do{var b=a.getNode(),c=b.getEdges().getOutgoingDegree(this);c>this._maxNodeDegree&&(this._maxNodeDegree=c),a=this.getNext(a)}while(a!==this._startDe);this._maxNodeDegree*=2},addPoints:function(a,b,c){var d=a.getCoordinates();if(b){var e=1;c&&(e=0);for(var f=e;f<d.length;f++)this._pts.add(d[f])}else{var e=d.length-2;c&&(e=d.length-1);for(var f=e;f>=0;f--)this._pts.add(d[f])}},isHole:function(){return this._isHole},setInResult:function(){var a=this._startDe;do{a.getEdge().setInResult(!0),a=a.getNext()}while(a!==this._startDe)},containsPoint:function(a){var b=this.getLinearRing();if(!b.getEnvelopeInternal().contains(a))return!1;if(!Ee.isPointInRing(a,b.getCoordinates()))return!1;for(var c=this._holes.iterator();c.hasNext();){if(c.next().containsPoint(a))return!1}return!0},addHole:function(a){this._holes.add(a)},isShell:function(){return null===this._shell},getLabel:function(){return this._label},getEdges:function(){return this._edges},getMaxNodeDegree:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},getShell:function(){return this._shell},mergeLabel:function(){if(1===arguments.length){var a=arguments[0];this.mergeLabel(a,0),this.mergeLabel(a,1)}else if(2===arguments.length){var a=arguments[0],b=arguments[1],c=a.getLocation(b,Ff.RIGHT);if(c===Vc.NONE)return null;if(this._label.getLocation(b)===Vc.NONE)return this._label.setLocation(b,c),null}},setShell:function(a){this._shell=a,null!==a&&a.addHole(this)},toPolygon:function(a){for(var b=new Array(this._holes.size()).fill(null),c=0;c<this._holes.size();c++)b[c]=this._holes.get(c).getLinearRing();return a.createPolygon(this.getLinearRing(),b)},interfaces_:function(){return[]},getClass:function(){return If}}),Cp(Jf,If),Bp(Jf.prototype,{setEdgeRing:function(a,b){a.setMinEdgeRing(b)},getNext:function(a){return a.getNextMin()},interfaces_:function(){return[]},getClass:function(){return Jf}}),Cp(Kf,If),Bp(Kf.prototype,{buildMinimalRings:function(){var a=new Qc,b=this._startDe;do{if(null===b.getMinEdgeRing()){var c=new Jf(b,this._geometryFactory);a.add(c)}b=b.getNext()}while(b!==this._startDe);return a},setEdgeRing:function(a,b){a.setEdgeRing(b)},linkDirectedEdgesForMinimalEdgeRings:function(){var a=this._startDe;do{a.getNode().getEdges().linkMinimalDirectedEdges(this),a=a.getNext()}while(a!==this._startDe)},getNext:function(a){return a.getNext()},interfaces_:function(){return[]},getClass:function(){return Kf}}),Bp(Lf.prototype,{setVisited:function(a){this._isVisited=a},setInResult:function(a){this._isInResult=a},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(a){this._label=a},getLabel:function(){return this._label},setCovered:function(a){this._isCovered=a,this._isCoveredSet=!0},updateIM:function(a){Hc.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(a)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return Lf}}),Cp(Mf,Lf),Bp(Mf.prototype,{isIncidentEdgeInResult:function(){for(var a=this.getEdges().getEdges().iterator();a.hasNext();){if(a.next().getEdge().isInResult())return!0}return!1},isIsolated:function(){return 1===this._label.getGeometryCount()},getCoordinate:function(){return this._coord},print:function(a){a.println("node "+this._coord+" lbl: "+this._label)},computeIM:function(a){},computeMergedLocation:function(a,b){var c=Vc.NONE;if(c=this._label.getLocation(b),!a.isNull(b)){var d=a.getLocation(b);c!==Vc.BOUNDARY&&(c=d)}return c},setLabel:function(){if(2!==arguments.length)return Lf.prototype.setLabel.apply(this,arguments);var a=arguments[0],b=arguments[1];null===this._label?this._label=new Hf(a,b):this._label.setLocation(a,b)},getEdges:function(){return this._edges},mergeLabel:function(){if(arguments[0]instanceof Mf){var a=arguments[0];this.mergeLabel(a._label)}else if(arguments[0]instanceof Hf)for(var b=arguments[0],c=0;c<2;c++){var d=this.computeMergedLocation(b,c),e=this._label.getLocation(c);e===Vc.NONE&&this._label.setLocation(c,d)}},add:function(a){this._edges.insert(a),a.setNode(this)},setLabelBoundary:function(a){if(null===this._label)return null;var b=Vc.NONE;null!==this._label&&(b=this._label.getLocation(a));var c=null;switch(b){case Vc.BOUNDARY:c=Vc.INTERIOR;break;case Vc.INTERIOR:default:c=Vc.BOUNDARY}this._label.setLocation(a,c)},interfaces_:function(){return[]},getClass:function(){return Mf}}),Bp(Nf.prototype,{find:function(a){return this.nodeMap.get(a)},addNode:function(){if(arguments[0]instanceof Ic){var a=arguments[0],b=this.nodeMap.get(a);return null===b&&(b=this.nodeFact.createNode(a),this.nodeMap.put(a,b)),b}if(arguments[0]instanceof Mf){var c=arguments[0],b=this.nodeMap.get(c.getCoordinate());return null===b?(this.nodeMap.put(c.getCoordinate(),c),c):(b.mergeLabel(c),b)}},print:function(a){for(var b=this.iterator();b.hasNext();){b.next().print(a)}},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(a){for(var b=new Qc,c=this.iterator();c.hasNext();){var d=c.next();d.getLabel().getLocation(a)===Vc.BOUNDARY&&b.add(d)}return b},add:function(a){var b=a.getCoordinate();this.addNode(b).add(a)},interfaces_:function(){return[]},getClass:function(){return Nf}}),Bp(Of.prototype,{compareDirection:function(a){return this._dx===a._dx&&this._dy===a._dy?0:this._quadrant>a._quadrant?1:this._quadrant<a._quadrant?-1:Ee.computeOrientation(a._p0,a._p1,this._p1)},getDy:function(){return this._dy},getCoordinate:function(){return this._p0},setNode:function(a){this._node=a},print:function(a){var b=Math.atan2(this._dy,this._dx),c=this.getClass().getName(),d=c.lastIndexOf("."),e=c.substring(d+1);a.print("  "+e+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+b+"   "+this._label)},compareTo:function(a){var b=a;return this.compareDirection(b)},getDirectedCoordinate:function(){return this._p1},getDx:function(){return this._dx},getLabel:function(){return this._label},getEdge:function(){return this._edge},getQuadrant:function(){return this._quadrant},getNode:function(){return this._node},toString:function(){var a=Math.atan2(this._dy,this._dx),b=this.getClass().getName(),c=b.lastIndexOf(".");return"  "+b.substring(c+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+a+"   "+this._label},computeLabel:function(a){},init:function(a,b){this._p0=a,this._p1=b,this._dx=b.x-a.x,this._dy=b.y-a.y,this._quadrant=tf.quadrant(this._dx,this._dy),Hc.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[Bc]},getClass:function(){return Of}}),Cp(Pf,Of),Bp(Pf.prototype,{getNextMin:function(){return this._nextMin},getDepth:function(a){return this._depth[a]},setVisited:function(a){this._isVisited=a},computeDirectedLabel:function(){this._label=new Hf(this._edge.getLabel()),this._isForward||this._label.flip()},getNext:function(){return this._next},setDepth:function(a,b){if(-999!==this._depth[a]&&this._depth[a]!==b)throw new zf("assigned depths do not match",this.getCoordinate());this._depth[a]=b},isInteriorAreaEdge:function(){for(var a=!0,b=0;b<2;b++)this._label.isArea(b)&&this._label.getLocation(b,Ff.LEFT)===Vc.INTERIOR&&this._label.getLocation(b,Ff.RIGHT)===Vc.INTERIOR||(a=!1);return a},setNextMin:function(a){this._nextMin=a},print:function(a){Of.prototype.print.call(this,a),a.print(" "+this._depth[Ff.LEFT]+"/"+this._depth[Ff.RIGHT]),a.print(" ("+this.getDepthDelta()+")"),this._isInResult&&a.print(" inResult")},setMinEdgeRing:function(a){this._minEdgeRing=a},isLineEdge:function(){var a=this._label.isLine(0)||this._label.isLine(1),b=!this._label.isArea(0)||this._label.allPositionsEqual(0,Vc.EXTERIOR),c=!this._label.isArea(1)||this._label.allPositionsEqual(1,Vc.EXTERIOR);return a&&b&&c},setEdgeRing:function(a){this._edgeRing=a},getMinEdgeRing:function(){return this._minEdgeRing},getDepthDelta:function(){var a=this._edge.getDepthDelta();return this._isForward||(a=-a),a},setInResult:function(a){this._isInResult=a},getSym:function(){return this._sym},isForward:function(){return this._isForward},getEdge:function(){return this._edge},printEdge:function(a){this.print(a),a.print(" "),this._isForward?this._edge.print(a):this._edge.printReverse(a)},setSym:function(a){this._sym=a},setVisitedEdge:function(a){this.setVisited(a),this._sym.setVisited(a)},setEdgeDepths:function(a,b){var c=this.getEdge().getDepthDelta();this._isForward||(c=-c);var d=1;a===Ff.LEFT&&(d=-1);var e=Ff.opposite(a),f=c*d,g=b+f;this.setDepth(a,b),this.setDepth(e,g)},getEdgeRing:function(){return this._edgeRing},isInResult:function(){return this._isInResult},setNext:function(a){this._next=a},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return Pf}}),Pf.depthFactor=function(a,b){return a===Vc.EXTERIOR&&b===Vc.INTERIOR?1:a===Vc.INTERIOR&&b===Vc.EXTERIOR?-1:0},Bp(Qf.prototype,{createNode:function(a){return new Mf(a,null)},interfaces_:function(){return[]},getClass:function(){return Qf}}),Bp(Rf.prototype,{printEdges:function(a){a.println("Edges:");for(var b=0;b<this._edges.size();b++){a.println("edge "+b+":");var c=this._edges.get(b);c.print(a),c.eiList.print(a)}},find:function(a){return this._nodes.find(a)},addNode:function(){if(arguments[0]instanceof Mf){var a=arguments[0];return this._nodes.addNode(a)}if(arguments[0]instanceof Ic){var b=arguments[0];return this._nodes.addNode(b)}},getNodeIterator:function(){return this._nodes.iterator()},linkResultDirectedEdges:function(){for(var a=this._nodes.iterator();a.hasNext();){a.next().getEdges().linkResultDirectedEdges()}},debugPrintln:function(a){bd.out.println(a)},isBoundaryNode:function(a,b){var c=this._nodes.find(b);if(null===c)return!1;var d=c.getLabel();return null!==d&&d.getLocation(a)===Vc.BOUNDARY},linkAllDirectedEdges:function(){for(var a=this._nodes.iterator();a.hasNext();){a.next().getEdges().linkAllDirectedEdges()}},matchInSameDirection:function(a,b,c,d){return!!a.equals(c)&&(Ee.computeOrientation(a,b,d)===Ee.COLLINEAR&&tf.quadrant(a,b)===tf.quadrant(c,d))},getEdgeEnds:function(){return this._edgeEndList},debugPrint:function(a){bd.out.print(a)},getEdgeIterator:function(){return this._edges.iterator()},findEdgeInSameDirection:function(a,b){for(var c=0;c<this._edges.size();c++){var d=this._edges.get(c),e=d.getCoordinates();if(this.matchInSameDirection(a,b,e[0],e[1]))return d;if(this.matchInSameDirection(a,b,e[e.length-1],e[e.length-2]))return d}return null},insertEdge:function(a){this._edges.add(a)},findEdgeEnd:function(a){for(var b=this.getEdgeEnds().iterator();b.hasNext();){var c=b.next();if(c.getEdge()===a)return c}return null},addEdges:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();this._edges.add(c);var d=new Pf(c,!0),e=new Pf(c,!1);d.setSym(e),e.setSym(d),this.add(d),this.add(e)}},add:function(a){this._nodes.add(a),this._edgeEndList.add(a)},getNodes:function(){return this._nodes.values()},findEdge:function(a,b){for(var c=0;c<this._edges.size();c++){var d=this._edges.get(c),e=d.getCoordinates();if(a.equals(e[0])&&b.equals(e[1]))return d}return null},interfaces_:function(){return[]},getClass:function(){return Rf}}),Rf.linkResultDirectedEdges=function(a){for(var b=a.iterator();b.hasNext();){b.next().getEdges().linkResultDirectedEdges()}},Bp(Sf.prototype,{sortShellsAndHoles:function(a,b,c){for(var d=a.iterator();d.hasNext();){var e=d.next();e.isHole()?c.add(e):b.add(e)}},computePolygons:function(a){for(var b=new Qc,c=a.iterator();c.hasNext();){var d=c.next(),e=d.toPolygon(this._geometryFactory);b.add(e)}return b},placeFreeHoles:function(a,b){for(var c=b.iterator();c.hasNext();){var d=c.next();if(null===d.getShell()){var e=this.findEdgeRingContaining(d,a);if(null===e)throw new zf("unable to assign hole to a shell",d.getCoordinate(0));d.setShell(e)}}},buildMinimalEdgeRings:function(a,b,c){for(var d=new Qc,e=a.iterator();e.hasNext();){var f=e.next();if(f.getMaxNodeDegree()>2){f.linkDirectedEdgesForMinimalEdgeRings();var g=f.buildMinimalRings(),h=this.findShell(g);null!==h?(this.placePolygonHoles(h,g),b.add(h)):c.addAll(g)}else d.add(f)}return d},containsPoint:function(a){for(var b=this._shellList.iterator();b.hasNext();){if(b.next().containsPoint(a))return!0}return!1},buildMaximalEdgeRings:function(a){for(var b=new Qc,c=a.iterator();c.hasNext();){var d=c.next();if(d.isInResult()&&d.getLabel().isArea()&&null===d.getEdgeRing()){var e=new Kf(d,this._geometryFactory);b.add(e),e.setInResult()}}return b},placePolygonHoles:function(a,b){for(var c=b.iterator();c.hasNext();){var d=c.next();d.isHole()&&d.setShell(a)}},getPolygons:function(){return this.computePolygons(this._shellList)},findEdgeRingContaining:function(a,b){for(var c=a.getLinearRing(),d=c.getEnvelopeInternal(),e=c.getCoordinateN(0),f=null,g=null,h=b.iterator();h.hasNext();){var i=h.next(),j=i.getLinearRing(),k=j.getEnvelopeInternal();null!==f&&(g=f.getLinearRing().getEnvelopeInternal());var l=!1;k.contains(d)&&Ee.isPointInRing(e,j.getCoordinates())&&(l=!0),l&&(null===f||g.contains(k))&&(f=i)}return f},findShell:function(a){for(var b=0,c=null,d=a.iterator();d.hasNext();){var e=d.next();e.isHole()||(c=e,b++)}return Hc.isTrue(b<=1,"found two shells in MinimalEdgeRing list"),c},add:function(){if(1===arguments.length){var a=arguments[0];this.add(a.getEdgeEnds(),a.getNodes())}else if(2===arguments.length){var b=arguments[0],c=arguments[1];Rf.linkResultDirectedEdges(c);var d=this.buildMaximalEdgeRings(b),e=new Qc,f=this.buildMinimalEdgeRings(d,this._shellList,e);this.sortShellsAndHoles(f,this._shellList,e),this.placeFreeHoles(this._shellList,e)}},interfaces_:function(){return[]},getClass:function(){return Sf}}),Bp(Tf.prototype,{collectLines:function(a){for(var b=this._op.getGraph().getEdgeEnds().iterator();b.hasNext();){var c=b.next();this.collectLineEdge(c,a,this._lineEdgesList),this.collectBoundaryTouchEdge(c,a,this._lineEdgesList)}},labelIsolatedLine:function(a,b){var c=this._ptLocator.locate(a.getCoordinate(),this._op.getArgGeometry(b));a.getLabel().setLocation(b,c)},build:function(a){return this.findCoveredLineEdges(),this.collectLines(a),this.buildLines(a),this._resultLineList},collectLineEdge:function(a,b,c){var d=a.getLabel(),e=a.getEdge();a.isLineEdge()&&(a.isVisited()||!xg.isResultOfOp(d,b)||e.isCovered()||(c.add(e),a.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var a=this._op.getGraph().getNodes().iterator();a.hasNext();){a.next().getEdges().findCoveredLineEdges()}for(var b=this._op.getGraph().getEdgeEnds().iterator();b.hasNext();){var c=b.next(),d=c.getEdge();if(c.isLineEdge()&&!d.isCoveredSet()){var e=this._op.isCoveredByA(c.getCoordinate());d.setCovered(e)}}},labelIsolatedLines:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next(),d=c.getLabel();c.isIsolated()&&(d.isNull(0)?this.labelIsolatedLine(c,0):this.labelIsolatedLine(c,1))}},buildLines:function(a){for(var b=this._lineEdgesList.iterator();b.hasNext();){var c=b.next(),d=(c.getLabel(),this._geometryFactory.createLineString(c.getCoordinates()));this._resultLineList.add(d),c.setInResult(!0)}},collectBoundaryTouchEdge:function(a,b,c){var d=a.getLabel();return a.isLineEdge()?null:a.isVisited()?null:a.isInteriorAreaEdge()?null:a.getEdge().isInResult()?null:(Hc.isTrue(!(a.isInResult()||a.getSym().isInResult())||!a.getEdge().isInResult()),void(xg.isResultOfOp(d,b)&&b===xg.INTERSECTION&&(c.add(a.getEdge()),a.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return Tf}}),Bp(Uf.prototype,{filterCoveredNodeToPoint:function(a){var b=a.getCoordinate();if(!this._op.isCoveredByLA(b)){var c=this._geometryFactory.createPoint(b);this._resultPointList.add(c)}},extractNonCoveredResultNodes:function(a){for(var b=this._op.getGraph().getNodes().iterator();b.hasNext();){var c=b.next();if(!c.isInResult()&&(!c.isIncidentEdgeInResult()&&(0===c.getEdges().getDegree()||a===xg.INTERSECTION))){var d=c.getLabel();xg.isResultOfOp(d,a)&&this.filterCoveredNodeToPoint(c)}}},build:function(a){return this.extractNonCoveredResultNodes(a),this._resultPointList},interfaces_:function(){return[]},getClass:function(){return Uf}}),Bp(Vf.prototype,{locate:function(a){},interfaces_:function(){return[]},getClass:function(){return Vf}}),Bp(Wf.prototype,{locate:function(a){return Wf.locate(a,this._geom)},interfaces_:function(){return[Vf]},getClass:function(){return Wf}}),Wf.isPointInRing=function(a,b){return!!b.getEnvelopeInternal().intersects(a)&&Ee.isPointInRing(a,b.getCoordinates())},Wf.containsPointInPolygon=function(a,b){if(b.isEmpty())return!1;var c=b.getExteriorRing();if(!Wf.isPointInRing(a,c))return!1;for(var d=0;d<b.getNumInteriorRing();d++){var e=b.getInteriorRingN(d);if(Wf.isPointInRing(a,e))return!1}return!0},Wf.containsPoint=function(a,b){if(b instanceof Wd)return Wf.containsPointInPolygon(a,b);if(b instanceof Gd)for(var c=new Ve(b);c.hasNext();){var d=c.next();if(d!==b&&Wf.containsPoint(a,d))return!0}return!1},Wf.locate=function(a,b){return b.isEmpty()?Vc.EXTERIOR:Wf.containsPoint(a,b)?Vc.INTERIOR:Vc.EXTERIOR},Bp(Xf.prototype,{getNextCW:function(a){this.getEdges();var b=this._edgeList.indexOf(a),c=b-1;return 0===b&&(c=this._edgeList.size()-1),this._edgeList.get(c)},propagateSideLabels:function(a){for(var b=Vc.NONE,c=this.iterator();c.hasNext();){var d=c.next(),e=d.getLabel();e.isArea(a)&&e.getLocation(a,Ff.LEFT)!==Vc.NONE&&(b=e.getLocation(a,Ff.LEFT))}if(b===Vc.NONE)return null;for(var f=b,c=this.iterator();c.hasNext();){var d=c.next(),e=d.getLabel();if(e.getLocation(a,Ff.ON)===Vc.NONE&&e.setLocation(a,Ff.ON,f),e.isArea(a)){var g=e.getLocation(a,Ff.LEFT),h=e.getLocation(a,Ff.RIGHT);if(h!==Vc.NONE){if(h!==f)throw new zf("side location conflict",d.getCoordinate());g===Vc.NONE&&Hc.shouldNeverReachHere("found single null side (at "+d.getCoordinate()+")"),f=g}else Hc.isTrue(e.getLocation(a,Ff.LEFT)===Vc.NONE,"found single null side"),e.setLocation(a,Ff.RIGHT,f),e.setLocation(a,Ff.LEFT,f)}}},getCoordinate:function(){var a=this.iterator();return a.hasNext()?a.next().getCoordinate():null},print:function(a){bd.out.println("EdgeEndStar:   "+this.getCoordinate());for(var b=this.iterator();b.hasNext();){b.next().print(a)}},isAreaLabelsConsistent:function(a){return this.computeEdgeEndLabels(a.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(a){var b=this.getEdges();if(b.size()<=0)return!0;var c=b.size()-1,d=b.get(c).getLabel(),e=d.getLocation(a,Ff.LEFT);Hc.isTrue(e!==Vc.NONE,"Found unlabelled area edge");for(var f=e,g=this.iterator();g.hasNext();){var h=g.next(),i=h.getLabel();Hc.isTrue(i.isArea(a),"Found non-area edge");var j=i.getLocation(a,Ff.LEFT),k=i.getLocation(a,Ff.RIGHT);if(j===k)return!1;if(k!==f)return!1;f=j}return!0},findIndex:function(a){this.iterator();for(var b=0;b<this._edgeList.size();b++){if(this._edgeList.get(b)===a)return b}return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return null===this._edgeList&&(this._edgeList=new Qc(this._edgeMap.values())),this._edgeList},getLocation:function(a,b,c){return this._ptInAreaLocation[a]===Vc.NONE&&(this._ptInAreaLocation[a]=Wf.locate(b,c[a].getGeometry())),this._ptInAreaLocation[a]},toString:function(){var a=new Xc;a.append("EdgeEndStar:   "+this.getCoordinate()),a.append("\n");for(var b=this.iterator();b.hasNext();){var c=b.next();a.append(c),a.append("\n")}return a.toString()},computeEdgeEndLabels:function(a){for(var b=this.iterator();b.hasNext();){b.next().computeLabel(a)}},computeLabelling:function(a){this.computeEdgeEndLabels(a[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var b=[!1,!1],c=this.iterator();c.hasNext();)for(var d=c.next(),e=d.getLabel(),f=0;f<2;f++)e.isLine(f)&&e.getLocation(f)===Vc.BOUNDARY&&(b[f]=!0);for(var c=this.iterator();c.hasNext();)for(var d=c.next(),e=d.getLabel(),f=0;f<2;f++)if(e.isAnyNull(f)){var g=Vc.NONE;if(b[f])g=Vc.EXTERIOR;else{var h=d.getCoordinate();g=this.getLocation(f,h,a)}e.setAllLocationsIfNull(f,g)}},getDegree:function(){return this._edgeMap.size()},insertEdgeEnd:function(a,b){this._edgeMap.put(a,b),this._edgeList=null},interfaces_:function(){return[]},getClass:function(){return Xf}}),Cp(Yf,Xf),Bp(Yf.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var a=null,b=null,c=this._SCANNING_FOR_INCOMING,d=0;d<this._resultAreaEdgeList.size();d++){var e=this._resultAreaEdgeList.get(d),f=e.getSym();if(e.getLabel().isArea())switch(null===a&&e.isInResult()&&(a=e),c){case this._SCANNING_FOR_INCOMING:if(!f.isInResult())continue;b=f,c=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!e.isInResult())continue;b.setNext(e),c=this._SCANNING_FOR_INCOMING}}if(c===this._LINKING_TO_OUTGOING){if(null===a)throw new zf("no outgoing dirEdge found",this.getCoordinate());Hc.isTrue(a.isInResult(),"unable to link last incoming dirEdge"),b.setNext(a)}},insert:function(a){var b=a;this.insertEdgeEnd(b,b)},getRightmostEdge:function(){var a=this.getEdges(),b=a.size();if(b<1)return null;var c=a.get(0);if(1===b)return c;var d=a.get(b-1),e=c.getQuadrant(),f=d.getQuadrant();return tf.isNorthern(e)&&tf.isNorthern(f)?c:tf.isNorthern(e)||tf.isNorthern(f)?0!==c.getDy()?c:0!==d.getDy()?d:(Hc.shouldNeverReachHere("found two horizontal edges incident on node"),null):d},print:function(a){bd.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var b=this.iterator();b.hasNext();){var c=b.next();a.print("out "),c.print(a),a.println(),a.print("in "),c.getSym().print(a),a.println()}},getResultAreaEdges:function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Qc;for(var a=this.iterator();a.hasNext();){var b=a.next();(b.isInResult()||b.getSym().isInResult())&&this._resultAreaEdgeList.add(b)}return this._resultAreaEdgeList},updateLabelling:function(a){for(var b=this.iterator();b.hasNext();){var c=b.next(),d=c.getLabel();d.setAllLocationsIfNull(0,a.getLocation(0)),d.setAllLocationsIfNull(1,a.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var a=null,b=null,c=this._edgeList.size()-1;c>=0;c--){var d=this._edgeList.get(c),e=d.getSym();null===b&&(b=e),null!==a&&e.setNext(a),a=d}b.setNext(a)},computeDepths:function(){if(1===arguments.length){var a=arguments[0],b=this.findIndex(a),c=(a.getLabel(),a.getDepth(Ff.LEFT)),d=a.getDepth(Ff.RIGHT),e=this.computeDepths(b+1,this._edgeList.size(),c);if(this.computeDepths(0,b,e)!==d)throw new zf("depth mismatch at "+a.getCoordinate())}else if(3===arguments.length){for(var f=arguments[0],g=arguments[1],c=arguments[2],h=c,i=f;i<g;i++){var j=this._edgeList.get(i);j.getLabel();j.setEdgeDepths(Ff.RIGHT,h),h=j.getDepth(Ff.LEFT)}return h}},mergeSymLabels:function(){for(var a=this.iterator();a.hasNext();){var b=a.next();b.getLabel().merge(b.getSym().getLabel())}},linkMinimalDirectedEdges:function(a){for(var b=null,c=null,d=this._SCANNING_FOR_INCOMING,e=this._resultAreaEdgeList.size()-1;e>=0;e--){var f=this._resultAreaEdgeList.get(e),g=f.getSym();switch(null===b&&f.getEdgeRing()===a&&(b=f),d){case this._SCANNING_FOR_INCOMING:if(g.getEdgeRing()!==a)continue;c=g,d=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(f.getEdgeRing()!==a)continue;c.setNextMin(f),d=this._SCANNING_FOR_INCOMING}}d===this._LINKING_TO_OUTGOING&&(Hc.isTrue(null!==b,"found null for first outgoing dirEdge"),Hc.isTrue(b.getEdgeRing()===a,"unable to link last incoming dirEdge"),c.setNextMin(b))},getOutgoingDegree:function(){if(0===arguments.length){for(var a=0,b=this.iterator();b.hasNext();){var c=b.next();c.isInResult()&&a++}return a}if(1===arguments.length){for(var d=arguments[0],a=0,b=this.iterator();b.hasNext();){var c=b.next();c.getEdgeRing()===d&&a++}return a}},getLabel:function(){return this._label},findCoveredLineEdges:function(){for(var a=Vc.NONE,b=this.iterator();b.hasNext();){var c=b.next(),d=c.getSym();if(!c.isLineEdge()){if(c.isInResult()){a=Vc.INTERIOR;break}if(d.isInResult()){a=Vc.EXTERIOR;break}}}if(a===Vc.NONE)return null;for(var e=a,b=this.iterator();b.hasNext();){var c=b.next(),d=c.getSym();c.isLineEdge()?c.getEdge().setCovered(e===Vc.INTERIOR):(c.isInResult()&&(e=Vc.EXTERIOR),d.isInResult()&&(e=Vc.INTERIOR))}},computeLabelling:function(a){Xf.prototype.computeLabelling.call(this,a),this._label=new Hf(Vc.NONE);for(var b=this.iterator();b.hasNext();)for(var c=b.next(),d=c.getEdge(),e=d.getLabel(),f=0;f<2;f++){var g=e.getLocation(f);g!==Vc.INTERIOR&&g!==Vc.BOUNDARY||this._label.setLocation(f,Vc.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Yf}}),Cp(Zf,Qf),Bp(Zf.prototype,{createNode:function(a){return new Mf(a,new Yf)},interfaces_:function(){return[]},getClass:function(){return Zf}}),Bp($f.prototype,{computeIntersections:function(a,b){this.mce.computeIntersectsForChain(this.chainIndex,a.mce,a.chainIndex,b)},interfaces_:function(){return[]},getClass:function(){return $f}}),Bp(_f.prototype,{isDelete:function(){return this._eventType===_f.DELETE},setDeleteEventIndex:function(a){this._deleteEventIndex=a},getObject:function(){return this._obj},compareTo:function(a){var b=a;return this._xValue<b._xValue?-1:this._xValue>b._xValue?1:this._eventType<b._eventType?-1:this._eventType>b._eventType?1:0},getInsertEvent:function(){return this._insertEvent},isInsert:function(){return this._eventType===_f.INSERT},isSameLabel:function(a){return null!==this._label&&this._label===a._label},getDeleteEventIndex:function(){return this._deleteEventIndex},interfaces_:function(){return[Bc]},getClass:function(){return _f}}),_f.INSERT=1,_f.DELETE=2,Bp(ag.prototype,{interfaces_:function(){return[]},getClass:function(){return ag}}),Bp(bg.prototype,{isTrivialIntersection:function(a,b,c,d){if(a===c&&1===this._li.getIntersectionNum()){if(bg.isAdjacentSegments(b,d))return!0;if(a.isClosed()){var e=a.getNumPoints()-1;if(0===b&&d===e||0===d&&b===e)return!0}}return!1},getProperIntersectionPoint:function(){return this._properIntersectionPoint},setIsDoneIfProperInt:function(a){this._isDoneWhenProperInt=a},hasProperInteriorIntersection:function(){return this._hasProperInterior},isBoundaryPointInternal:function(a,b){for(var c=b.iterator();c.hasNext();){var d=c.next(),e=d.getCoordinate();if(a.isIntersection(e))return!0}return!1},hasProperIntersection:function(){return this._hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(a,b){return null!==b&&(!!this.isBoundaryPointInternal(a,b[0])||!!this.isBoundaryPointInternal(a,b[1]))},setBoundaryNodes:function(a,b){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=a,this._bdyNodes[1]=b},addIntersections:function(a,b,c,d){if(a===c&&b===d)return null;this.numTests++;var e=a.getCoordinates()[b],f=a.getCoordinates()[b+1],g=c.getCoordinates()[d],h=c.getCoordinates()[d+1];this._li.computeIntersection(e,f,g,h),this._li.hasIntersection()&&(this._recordIsolated&&(a.setIsolated(!1),c.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(a,b,c,d)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(a.addIntersections(this._li,b,0),c.addIntersections(this._li,d,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return bg}}),bg.isAdjacentSegments=function(a,b){return 1===Math.abs(a-b)},Cp(cg,ag),Bp(cg.prototype,{prepareEvents:function(){Qp.sort(this.events);for(var a=0;a<this.events.size();a++){var b=this.events.get(a);b.isDelete()&&b.getInsertEvent().setDeleteEventIndex(a)}},computeIntersections:function(){if(1===arguments.length){var a=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var b=0;b<this.events.size();b++){var c=this.events.get(b);if(c.isInsert()&&this.processOverlaps(b,c.getDeleteEventIndex(),c,a),a.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof bg&&Ep(arguments[0],Nc)&&Ep(arguments[1],Nc)){var d=arguments[0],e=arguments[1],a=arguments[2];this.addEdges(d,d),this.addEdges(e,e),this.computeIntersections(a)}else if("boolean"==typeof arguments[2]&&Ep(arguments[0],Nc)&&arguments[1]instanceof bg){var f=arguments[0],a=arguments[1],g=arguments[2];g?this.addEdges(f,null):this.addEdges(f),this.computeIntersections(a)}},addEdge:function(a,b){for(var c=a.getMonotoneChainEdge(),d=c.getStartIndexes(),e=0;e<d.length-1;e++){var f=new $f(c,e),g=new _f(b,c.getMinX(e),f);this.events.add(g),this.events.add(new _f(c.getMaxX(e),g))}},processOverlaps:function(a,b,c,d){for(var e=c.getObject(),f=a;f<b;f++){var g=this.events.get(f);if(g.isInsert()){var h=g.getObject();c.isSameLabel(g)||(e.computeIntersections(h,d),this.nOverlaps++)}}},addEdges:function(){if(1===arguments.length)for(var a=arguments[0],b=a.iterator();b.hasNext();){var c=b.next();this.addEdge(c,c)}else if(2===arguments.length)for(var a=arguments[0],d=arguments[1],b=a.iterator();b.hasNext();){var c=b.next();this.addEdge(c,d)}},interfaces_:function(){return[]},getClass:function(){return cg}}),Bp(dg.prototype,{getMin:function(){return this._min},intersects:function(a,b){return!(this._min>b||this._max<a)},getMax:function(){return this._max},toString:function(){return ze.toLineString(new Ic(this._min,0),new Ic(this._max,0))},interfaces_:function(){return[]},getClass:function(){return dg}}),Bp(eg.prototype,{compare:function(a,b){var c=a,d=b,e=(c._min+c._max)/2,f=(d._min+d._max)/2;return e<f?-1:e>f?1:0},interfaces_:function(){return[Dc]},getClass:function(){return eg}}),dg.NodeComparator=eg,Cp(fg,dg),Bp(fg.prototype,{query:function(a,b,c){if(!this.intersects(a,b))return null;c.visitItem(this._item)},interfaces_:function(){return[]},getClass:function(){return fg}}),Cp(gg,dg),Bp(gg.prototype,{buildExtent:function(a,b){this._min=Math.min(a._min,b._min),this._max=Math.max(a._max,b._max)},query:function(a,b,c){if(!this.intersects(a,b))return null;null!==this._node1&&this._node1.query(a,b,c),null!==this._node2&&this._node2.query(a,b,c)},interfaces_:function(){return[]},getClass:function(){return gg}}),Bp(hg.prototype,{buildTree:function(){Qp.sort(this._leaves,new IntervalRTreeNode.NodeComparator);for(var a=this._leaves,b=null,c=new Qc;;){if(this.buildLevel(a,c),1===c.size())return c.get(0);b=a,a=c,c=b}},insert:function(a,b,c){if(null!==this._root)throw new IllegalStateException("Index cannot be added to once it has been queried");this._leaves.add(new fg(a,b,c))},query:function(a,b,c){this.init(),this._root.query(a,b,c)},buildRoot:function(){if(null!==this._root)return null;this._root=this.buildTree()},printNode:function(a){bd.out.println(ze.toLineString(new Ic(a._min,this._level),new Ic(a._max,this._level)))},init:function(){if(null!==this._root)return null;this.buildRoot()},buildLevel:function(a,b){this._level++,b.clear();for(var c=0;c<a.size();c+=2){var d=a.get(c);if(null===(c+1<a.size()?a.get(c):null))b.add(d);else{var e=new gg(a.get(c),a.get(c+1));b.add(e)}}},interfaces_:function(){return[]},getClass:function(){return hg}}),Bp(ig.prototype,{filter:function(a){if(this._isForcedToLineString&&a instanceof Yd){var b=a.getFactory().createLineString(a.getCoordinateSequence());return this._lines.add(b),null}a instanceof Sd&&this._lines.add(a)},setForceToLineString:function(a){this._isForcedToLineString=a},interfaces_:function(){return[ed]},getClass:function(){return ig}}),ig.getGeometry=function(){if(1===arguments.length){var a=arguments[0];return a.getFactory().buildGeometry(ig.getLines(a))}if(2===arguments.length){var a=arguments[0],b=arguments[1];return a.getFactory().buildGeometry(ig.getLines(a,b))}},ig.getLines=function(){if(1===arguments.length){var a=arguments[0];return ig.getLines(a,!1)}if(2===arguments.length){if(Ep(arguments[0],Lc)&&Ep(arguments[1],Lc)){for(var b=arguments[0],c=arguments[1],d=b.iterator();d.hasNext();){var e=d.next();ig.getLines(e,c)}return c}if(arguments[0]instanceof fd&&"boolean"==typeof arguments[1]){var a=arguments[0],f=arguments[1],c=new Qc;return a.apply(new ig(c,f)),c}if(arguments[0]instanceof fd&&Ep(arguments[1],Lc)){var a=arguments[0],c=arguments[1];return a instanceof Sd?c.add(a):a.apply(new ig(c)),c}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Ep(arguments[0],Lc)&&Ep(arguments[1],Lc)){for(var b=arguments[0],c=arguments[1],f=arguments[2],d=b.iterator();d.hasNext();){var e=d.next();ig.getLines(e,c,f)}return c}if("boolean"==typeof arguments[2]&&arguments[0]instanceof fd&&Ep(arguments[1],Lc)){var a=arguments[0],c=arguments[1],f=arguments[2];return a.apply(new ig(c,f)),c}}},Bp(jg.prototype,{visitItem:function(a){this._items.add(a)},getItems:function(){return this._items},interfaces_:function(){return[bf]},getClass:function(){return jg}}),Bp(kg.prototype,{locate:function(a){var b=new De(a),c=new lg(b);return this._index.query(a.y,a.y,c),b.getLocation()},interfaces_:function(){return[Vf]},getClass:function(){return kg}}),Bp(lg.prototype,{visitItem:function(a){var b=a;this._counter.countSegment(b.getCoordinate(0),b.getCoordinate(1))},interfaces_:function(){return[bf]},getClass:function(){return lg}}),Bp(mg.prototype,{init:function(a){for(var b=ig.getLines(a),c=b.iterator();c.hasNext();){var d=c.next(),e=d.getCoordinates();this.addLine(e)}},addLine:function(a){for(var b=1;b<a.length;b++){var c=new Fe(a[b-1],a[b]),d=Math.min(c.p0.y,c.p1.y),e=Math.max(c.p0.y,c.p1.y);this._index.insert(d,e,c)}},query:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new jg;return this._index.query(a,b,c),c.getItems()}if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];this._index.query(a,b,c)}},interfaces_:function(){return[]},getClass:function(){return mg}}),kg.SegmentVisitor=lg,kg.IntervalIndexedGeometry=mg,Bp(ng.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex),a.println(" dist = "+this.dist)},compareTo:function(a){var b=a;return this.compare(b.segmentIndex,b.dist)},isEndPoint:function(a){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===a},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(a,b){return this.segmentIndex<a?-1:this.segmentIndex>a?1:this.dist<b?-1:this.dist>b?1:0},interfaces_:function(){return[Bc]},getClass:function(){return ng}}),Bp(og.prototype,{print:function(a){a.println("Intersections:");for(var b=this.iterator();b.hasNext();){b.next().print(a)}},iterator:function(){return this._nodeMap.values().iterator()},addSplitEdges:function(a){this.addEndpoints();for(var b=this.iterator(),c=b.next();b.hasNext();){var d=b.next(),e=this.createSplitEdge(c,d);a.add(e),c=d}},addEndpoints:function(){var a=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[a],a,0)},createSplitEdge:function(a,b){var c=b.segmentIndex-a.segmentIndex+2,d=this.edge.pts[b.segmentIndex],e=b.dist>0||!b.coord.equals2D(d);e||c--;var f=new Array(c).fill(null),g=0;f[g++]=new Ic(a.coord);for(var h=a.segmentIndex+1;h<=b.segmentIndex;h++)f[g++]=this.edge.pts[h];return e&&(f[g]=b.coord),new sg(f,new Hf(this.edge._label))},add:function(a,b,c){var d=new ng(a,b,c),e=this._nodeMap.get(d);return null!==e?e:(this._nodeMap.put(d,d),d)},isIntersection:function(a){for(var b=this.iterator();b.hasNext();){if(b.next().coord.equals(a))return!0}return!1},interfaces_:function(){return[]},getClass:function(){return og}}),Bp(pg.prototype,{getChainStartIndices:function(a){var b=0,c=new Qc;c.add(new Yc(b));do{var d=this.findChainEnd(a,b);c.add(new Yc(d)),b=d}while(b<a.length-1);return pg.toIntArray(c)},findChainEnd:function(a,b){for(var c=tf.quadrant(a[b],a[b+1]),d=b+1;d<a.length;){if(tf.quadrant(a[d-1],a[d])!==c)break;d++}return d-1},interfaces_:function(){return[]},getClass:function(){return pg}}),pg.toIntArray=function(a){for(var b=new Array(a.size()).fill(null),c=0;c<b.length;c++)b[c]=a.get(c).intValue();return b},Bp(qg.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(a){var b=this.pts[this.startIndex[a]].x,c=this.pts[this.startIndex[a+1]].x;return b>c?b:c},getMinX:function(a){var b=this.pts[this.startIndex[a]].x,c=this.pts[this.startIndex[a+1]].x;return b<c?b:c},computeIntersectsForChain:function(){if(4===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];this.computeIntersectsForChain(this.startIndex[a],this.startIndex[a+1],b,b.startIndex[c],b.startIndex[c+1],d)}else if(6===arguments.length){var e=arguments[0],f=arguments[1],b=arguments[2],g=arguments[3],h=arguments[4],i=arguments[5],j=this.pts[e],k=this.pts[f],l=b.pts[g],m=b.pts[h];if(f-e==1&&h-g==1)return i.addIntersections(this.e,e,b.e,g),null;if(this.env1.init(j,k),this.env2.init(l,m),!this.env1.intersects(this.env2))return null;var n=Math.trunc((e+f)/2),o=Math.trunc((g+h)/2);e<n&&(g<o&&this.computeIntersectsForChain(e,n,b,g,o,i),o<h&&this.computeIntersectsForChain(e,n,b,o,h,i)),n<f&&(g<o&&this.computeIntersectsForChain(n,f,b,g,o,i),o<h&&this.computeIntersectsForChain(n,f,b,o,h,i))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(a,b){for(var c=0;c<this.startIndex.length-1;c++)for(var d=0;d<a.startIndex.length-1;d++)this.computeIntersectsForChain(c,a,d,b)},interfaces_:function(){return[]},getClass:function(){return qg}}),Bp(rg.prototype,{getDepth:function(a,b){return this._depth[a][b]},setDepth:function(a,b,c){this._depth[a][b]=c},isNull:function(){if(0===arguments.length){for(var a=0;a<2;a++)for(var b=0;b<3;b++)if(this._depth[a][b]!==rg.NULL_VALUE)return!1;return!0}if(1===arguments.length){var c=arguments[0];return this._depth[c][1]===rg.NULL_VALUE}if(2===arguments.length){var c=arguments[0],d=arguments[1];return this._depth[c][d]===rg.NULL_VALUE}},normalize:function(){for(var a=0;a<2;a++)if(!this.isNull(a)){var b=this._depth[a][1];this._depth[a][2]<b&&(b=this._depth[a][2]),b<0&&(b=0);for(var c=1;c<3;c++){var d=0;this._depth[a][c]>b&&(d=1),this._depth[a][c]=d}}},getDelta:function(a){return this._depth[a][Ff.RIGHT]-this._depth[a][Ff.LEFT]},getLocation:function(a,b){return this._depth[a][b]<=0?Vc.EXTERIOR:Vc.INTERIOR},toString:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},add:function(){if(1===arguments.length)for(var a=arguments[0],b=0;b<2;b++)for(var c=1;c<3;c++){var d=a.getLocation(b,c);d!==Vc.EXTERIOR&&d!==Vc.INTERIOR||(this.isNull(b,c)?this._depth[b][c]=rg.depthAtLocation(d):this._depth[b][c]+=rg.depthAtLocation(d))}else if(3===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2];g===Vc.INTERIOR&&this._depth[e][f]++}},interfaces_:function(){return[]},getClass:function(){return rg}}),rg.depthAtLocation=function(a){return a===Vc.EXTERIOR?0:a===Vc.INTERIOR?1:rg.NULL_VALUE},rg.NULL_VALUE=-1,Cp(sg,Lf),Bp(sg.prototype,{getDepth:function(){return this._depth},getCollapsedEdge:function(){var a=new Array(2).fill(null);return a[0]=this.pts[0],a[1]=this.pts[1],new sg(a,Hf.toLineLabel(this._label))},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(a){this._isIsolated=a},setName:function(a){this._name=a},equals:function(a){if(!(a instanceof sg))return!1;var b=a;if(this.pts.length!==b.pts.length)return!1;for(var c=!0,d=!0,e=this.pts.length,f=0;f<this.pts.length;f++)if(this.pts[f].equals2D(b.pts[f])||(c=!1),this.pts[f].equals2D(b.pts[--e])||(d=!1),!c&&!d)return!1;return!0},getCoordinate:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var a=arguments[0];return this.pts[a]}},print:function(a){a.print("edge "+this._name+": "),a.print("LINESTRING (");for(var b=0;b<this.pts.length;b++)b>0&&a.print(","),a.print(this.pts[b].x+" "+this.pts[b].y);a.print(")  "+this._label+" "+this._depthDelta)},computeIM:function(a){sg.updateIM(this._label,a)},isCollapsed:function(){return!!this._label.isArea()&&(3===this.pts.length&&!!this.pts[0].equals(this.pts[2]))},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this._depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(a){a.print("edge "+this._name+": ");for(var b=this.pts.length-1;b>=0;b--)a.print(this.pts[b]+" ");a.println("")},getMonotoneChainEdge:function(){return null===this._mce&&(this._mce=new qg(this)),this._mce},getEnvelope:function(){if(null===this._env){this._env=new Sc;for(var a=0;a<this.pts.length;a++)this._env.expandToInclude(this.pts[a])}return this._env},addIntersection:function(a,b,c,d){var e=new Ic(a.getIntersection(d)),f=b,g=a.getEdgeDistance(c,d),h=f+1;if(h<this.pts.length){var i=this.pts[h];e.equals2D(i)&&(f=h,g=0)}this.eiList.add(e,f,g)},toString:function(){var a=new Xc;a.append("edge "+this._name+": "),a.append("LINESTRING (");for(var b=0;b<this.pts.length;b++)b>0&&a.append(","),a.append(this.pts[b].x+" "+this.pts[b].y);return a.append(")  "+this._label+" "+this._depthDelta),a.toString()},isPointwiseEqual:function(a){if(this.pts.length!==a.pts.length)return!1;for(var b=0;b<this.pts.length;b++)if(!this.pts[b].equals2D(a.pts[b]))return!1;return!0},setDepthDelta:function(a){this._depthDelta=a},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(a,b,c){for(var d=0;d<a.getIntersectionNum();d++)this.addIntersection(a,b,c,d)},interfaces_:function(){return[]},getClass:function(){return sg}}),sg.updateIM=function(){if(2!==arguments.length)return Lf.prototype.updateIM.apply(this,arguments);var a=arguments[0],b=arguments[1];b.setAtLeastIfValid(a.getLocation(0,Ff.ON),a.getLocation(1,Ff.ON),1),a.isArea()&&(b.setAtLeastIfValid(a.getLocation(0,Ff.LEFT),a.getLocation(1,Ff.LEFT),2),b.setAtLeastIfValid(a.getLocation(0,Ff.RIGHT),a.getLocation(1,Ff.RIGHT),2))},Cp(tg,Rf),Bp(tg.prototype,{insertBoundaryPoint:function(a,b){var c=this._nodes.addNode(b),d=c.getLabel(),e=1,f=Vc.NONE;(f=d.getLocation(a,Ff.ON))===Vc.BOUNDARY&&e++;var g=tg.determineBoundary(this._boundaryNodeRule,e);d.setLocation(a,g)},computeSelfNodes:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return this.computeSelfNodes(a,b,!1)}if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=new bg(a,!0,!1);d.setIsDoneIfProperInt(c);var e=this.createEdgeSetIntersector(),f=this._parentGeom instanceof Yd||this._parentGeom instanceof Wd||this._parentGeom instanceof Zd,g=b||!f;return e.computeIntersections(this._edges,d,g),this.addSelfIntersectionNodes(this._argIndex),d}},computeSplitEdges:function(a){for(var b=this._edges.iterator();b.hasNext();){b.next().eiList.addSplitEdges(a)}},computeEdgeIntersections:function(a,b,c){var d=new bg(b,c,!0);return d.setBoundaryNodes(this.getBoundaryNodes(),a.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,a._edges,d),d},getGeometry:function(){return this._parentGeom},getBoundaryNodeRule:function(){return this._boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof Ud){var a=arguments[0],b=a.getCoordinate();this.insertPoint(this._argIndex,b,Vc.INTERIOR)}else if(arguments[0]instanceof Ic){var c=arguments[0];this.insertPoint(this._argIndex,c,Vc.INTERIOR)}},addPolygon:function(a){this.addPolygonRing(a.getExteriorRing(),Vc.EXTERIOR,Vc.INTERIOR);for(var b=0;b<a.getNumInteriorRing();b++){var c=a.getInteriorRingN(b);this.addPolygonRing(c,Vc.INTERIOR,Vc.EXTERIOR)}},addEdge:function(a){this.insertEdge(a);var b=a.getCoordinates();this.insertPoint(this._argIndex,b[0],Vc.BOUNDARY),this.insertPoint(this._argIndex,b[b.length-1],Vc.BOUNDARY)},addLineString:function(a){var b=md.removeRepeatedPoints(a.getCoordinates());if(b.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=b[0],null;var c=new sg(b,new Hf(this._argIndex,Vc.INTERIOR));this._lineEdgeMap.put(a,c),this.insertEdge(c),Hc.isTrue(b.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,b[0]),this.insertBoundaryPoint(this._argIndex,b[b.length-1])},getInvalidPoint:function(){return this._invalidPoint},getBoundaryPoints:function(){for(var a=this.getBoundaryNodes(),b=new Array(a.size()).fill(null),c=0,d=a.iterator();d.hasNext();){var e=d.next();b[c++]=e.getCoordinate().copy()}return b},getBoundaryNodes:function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},addSelfIntersectionNode:function(a,b,c){if(this.isBoundaryNode(a,b))return null;c===Vc.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(a,b):this.insertPoint(a,b,c)},addPolygonRing:function(a,b,c){if(a.isEmpty())return null;var d=md.removeRepeatedPoints(a.getCoordinates());if(d.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=d[0],null;var e=b,f=c;Ee.isCCW(d)&&(e=c,f=b);var g=new sg(d,new Hf(this._argIndex,Vc.BOUNDARY,e,f));this._lineEdgeMap.put(a,g),this.insertEdge(g),this.insertPoint(this._argIndex,d[0],Vc.BOUNDARY)},insertPoint:function(a,b,c){var d=this._nodes.addNode(b),e=d.getLabel();null===e?d._label=new Hf(a,c):e.setLocation(a,c)},createEdgeSetIntersector:function(){return new cg},addSelfIntersectionNodes:function(a){for(var b=this._edges.iterator();b.hasNext();)for(var c=b.next(),d=c.getLabel().getLocation(a),e=c.eiList.iterator();e.hasNext();){var f=e.next();this.addSelfIntersectionNode(a,f.coord,d)}},add:function(){if(1!==arguments.length)return Rf.prototype.add.apply(this,arguments);var a=arguments[0];if(a.isEmpty())return null;if(a instanceof Zd&&(this._useBoundaryDeterminationRule=!1),a instanceof Wd)this.addPolygon(a);else if(a instanceof Sd)this.addLineString(a);else if(a instanceof Ud)this.addPoint(a);else if(a instanceof Xd)this.addCollection(a);else if(a instanceof Hd)this.addCollection(a);else if(a instanceof Zd)this.addCollection(a);else{if(!(a instanceof Gd))throw new UnsupportedOperationException(a.getClass().getName());this.addCollection(a)}},addCollection:function(a){for(var b=0;b<a.getNumGeometries();b++){var c=a.getGeometryN(b);this.add(c)}},locate:function(a){return Ep(this._parentGeom,Vd)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new kg(this._parentGeom)),this._areaPtLocator.locate(a)):this._ptLocator.locate(a,this._parentGeom)},findEdge:function(){if(1===arguments.length){var a=arguments[0];return this._lineEdgeMap.get(a)}return Rf.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return tg}}),tg.determineBoundary=function(a,b){return a.isInBoundary(b)?Vc.BOUNDARY:Vc.INTERIOR},Bp(ug.prototype,{getArgGeometry:function(a){return this._arg[a].getGeometry()},setComputationPrecision:function(a){this._resultPrecisionModel=a,this._li.setPrecisionModel(this._resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return ug}}),Bp(vg.prototype,{compareTo:function(a){var b=a;return vg.compareOriented(this._pts,this._orientation,b._pts,b._orientation)},interfaces_:function(){return[Bc]},getClass:function(){return vg}}),vg.orientation=function(a){return 1===md.increasingDirection(a)},vg.compareOriented=function(a,b,c,d){for(var e=b?1:-1,f=d?1:-1,g=b?a.length:-1,h=d?c.length:-1,i=b?0:a.length-1,j=d?0:c.length-1;;){var k=a[i].compareTo(c[j]);if(0!==k)return k;i+=e,j+=f;var l=i===g,m=j===h;if(l&&!m)return-1;if(!l&&m)return 1;if(l&&m)return 0}},Bp(wg.prototype,{print:function(a){a.print("MULTILINESTRING ( ");for(var b=0;b<this._edges.size();b++){var c=this._edges.get(b);b>0&&a.print(","),a.print("(");for(var d=c.getCoordinates(),e=0;e<d.length;e++)e>0&&a.print(","),a.print(d[e].x+" "+d[e].y);a.println(")")}a.print(")  ")},addAll:function(a){for(var b=a.iterator();b.hasNext();)this.add(b.next())},findEdgeIndex:function(a){for(var b=0;b<this._edges.size();b++)if(this._edges.get(b).equals(a))return b;return-1},iterator:function(){return this._edges.iterator()},getEdges:function(){return this._edges},get:function(a){return this._edges.get(a)},findEqualEdge:function(a){var b=new vg(a.getCoordinates());return this._ocaMap.get(b)},add:function(a){this._edges.add(a);var b=new vg(a.getCoordinates());this._ocaMap.put(b,a)},interfaces_:function(){return[]},getClass:function(){return wg}}),Cp(xg,ug),Bp(xg.prototype,{insertUniqueEdge:function(a){var b=this._edgeList.findEqualEdge(a);if(null!==b){var c=b.getLabel(),d=a.getLabel();b.isPointwiseEqual(a)||(d=new Hf(a.getLabel()),d.flip());var e=b.getDepth();e.isNull()&&e.add(c),e.add(d),c.merge(d)}else this._edgeList.add(a)},getGraph:function(){return this._graph},cancelDuplicateResultEdges:function(){for(var a=this._graph.getEdgeEnds().iterator();a.hasNext();){var b=a.next(),c=b.getSym();b.isInResult()&&c.isInResult()&&(b.setInResult(!1),c.setInResult(!1))}},isCoveredByLA:function(a){return!!this.isCovered(a,this._resultLineList)||!!this.isCovered(a,this._resultPolyList)},computeGeometry:function(a,b,c,d){var e=new Qc;return e.addAll(a),e.addAll(b),e.addAll(c),e.isEmpty()?xg.createEmptyResult(d,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(e)},mergeSymLabels:function(){for(var a=this._graph.getNodes().iterator();a.hasNext();){a.next().getEdges().mergeSymLabels()}},isCovered:function(a,b){for(var c=b.iterator();c.hasNext();){var d=c.next();if(this._ptLocator.locate(a,d)!==Vc.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var a=new Qc,b=this._edgeList.iterator();b.hasNext();){var c=b.next();c.isCollapsed()&&(b.remove(),a.add(c.getCollapsedEdge()))}this._edgeList.addAll(a)},updateNodeLabelling:function(){for(var a=this._graph.getNodes().iterator();a.hasNext();){var b=a.next(),c=b.getEdges().getLabel();b.getLabel().merge(c)}},getResultGeometry:function(a){return this.computeOverlay(a),this._resultGeom},insertUniqueEdges:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();this.insertUniqueEdge(c)}},computeOverlay:function(a){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var b=new Qc;this._arg[0].computeSplitEdges(b),this._arg[1].computeSplitEdges(b),this.insertUniqueEdges(b),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Df.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(a),this.cancelDuplicateResultEdges();var c=new Sf(this._geomFact);c.add(this._graph),this._resultPolyList=c.getPolygons();var d=new Tf(this,this._geomFact,this._ptLocator);this._resultLineList=d.build(a);var e=new Uf(this,this._geomFact,this._ptLocator);this._resultPointList=e.build(a),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,a)},labelIncompleteNode:function(a,b){var c=this._ptLocator.locate(a.getCoordinate(),this._arg[b].getGeometry());a.getLabel().setLocation(b,c)},copyPoints:function(a){for(var b=this._arg[a].getNodeIterator();b.hasNext();){var c=b.next();this._graph.addNode(c.getCoordinate()).setLabel(a,c.getLabel().getLocation(a))}},findResultAreaEdges:function(a){for(var b=this._graph.getEdgeEnds().iterator();b.hasNext();){var c=b.next(),d=c.getLabel();d.isArea()&&!c.isInteriorAreaEdge()&&xg.isResultOfOp(d.getLocation(0,Ff.RIGHT),d.getLocation(1,Ff.RIGHT),a)&&c.setInResult(!0)}},computeLabelsFromDepths:function(){for(var a=this._edgeList.iterator();a.hasNext();){var b=a.next(),c=b.getLabel(),d=b.getDepth();if(!d.isNull()){d.normalize();for(var e=0;e<2;e++)c.isNull(e)||!c.isArea()||d.isNull(e)||(0===d.getDelta(e)?c.toLine(e):(Hc.isTrue(!d.isNull(e,Ff.LEFT),"depth of LEFT side has not been initialized"),c.setLocation(e,Ff.LEFT,d.getLocation(e,Ff.LEFT)),Hc.isTrue(!d.isNull(e,Ff.RIGHT),"depth of RIGHT side has not been initialized"),c.setLocation(e,Ff.RIGHT,d.getLocation(e,Ff.RIGHT))))}}},computeLabelling:function(){for(var a=this._graph.getNodes().iterator();a.hasNext();){a.next().getEdges().computeLabelling(this._arg)}this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var a=this._graph.getNodes().iterator();a.hasNext();){var b=a.next(),c=b.getLabel();b.isIsolated()&&(c.isNull(0)?this.labelIncompleteNode(b,0):this.labelIncompleteNode(b,1)),b.getEdges().updateLabelling(c)}},isCoveredByA:function(a){return!!this.isCovered(a,this._resultPolyList)},interfaces_:function(){return[]},getClass:function(){return xg}}),xg.overlayOp=function(a,b,c){return new xg(a,b).getResultGeometry(c)},xg.intersection=function(a,b){if(a.isEmpty()||b.isEmpty())return xg.createEmptyResult(xg.INTERSECTION,a,b,a.getFactory());if(a.isGeometryCollection()){var c=b;return Ef.map(a,{interfaces_:function(){return[MapOp]},map:function(a){return a.intersection(c)}})}return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),zg.overlayOp(a,b,xg.INTERSECTION)},xg.symDifference=function(a,b){if(a.isEmpty()||b.isEmpty()){if(a.isEmpty()&&b.isEmpty())return xg.createEmptyResult(xg.SYMDIFFERENCE,a,b,a.getFactory());if(a.isEmpty())return b.copy();if(b.isEmpty())return a.copy()}return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),zg.overlayOp(a,b,xg.SYMDIFFERENCE)},xg.resultDimension=function(a,b,c){var d=b.getDimension(),e=c.getDimension(),f=-1;switch(a){case xg.INTERSECTION:f=Math.min(d,e);break;case xg.UNION:f=Math.max(d,e);break;case xg.DIFFERENCE:f=d;break;case xg.SYMDIFFERENCE:f=Math.max(d,e)}return f},xg.createEmptyResult=function(a,b,c,d){var e=null;switch(xg.resultDimension(a,b,c)){case-1:e=d.createGeometryCollection(new Array(0).fill(null));break;case 0:e=d.createPoint();break;case 1:e=d.createLineString();break;case 2:e=d.createPolygon()}return e},xg.difference=function(a,b){return a.isEmpty()?xg.createEmptyResult(xg.DIFFERENCE,a,b,a.getFactory()):b.isEmpty()?a.copy():(a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),zg.overlayOp(a,b,xg.DIFFERENCE))},xg.isResultOfOp=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=a.getLocation(0),d=a.getLocation(1);return xg.isResultOfOp(c,d,b)}if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];switch(c===Vc.BOUNDARY&&(c=Vc.INTERIOR),d===Vc.BOUNDARY&&(d=Vc.INTERIOR),e){case xg.INTERSECTION:return c===Vc.INTERIOR&&d===Vc.INTERIOR;case xg.UNION:return c===Vc.INTERIOR||d===Vc.INTERIOR;case xg.DIFFERENCE:return c===Vc.INTERIOR&&d!==Vc.INTERIOR;case xg.SYMDIFFERENCE:return c===Vc.INTERIOR&&d!==Vc.INTERIOR||c!==Vc.INTERIOR&&d===Vc.INTERIOR}return!1}},xg.INTERSECTION=1,xg.UNION=2,xg.DIFFERENCE=3,xg.SYMDIFFERENCE=4,Bp(yg.prototype,{selfSnap:function(a){return new Pe(a).snapTo(a,this._snapTolerance)},removeCommonBits:function(a){this._cbr=new Se,this._cbr.add(a[0]),this._cbr.add(a[1]);var b=new Array(2).fill(null);return b[0]=this._cbr.removeCommonBits(a[0].copy()),b[1]=this._cbr.removeCommonBits(a[1].copy()),b},prepareResult:function(a){return this._cbr.addCommonBits(a),a},getResultGeometry:function(a){var b=this.snap(this._geom),c=xg.overlayOp(b[0],b[1],a);return this.prepareResult(c)},checkValid:function(a){a.isValid()||bd.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this._snapTolerance=Pe.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},snap:function(a){var b=this.removeCommonBits(a);return Pe.snap(b[0],b[1],this._snapTolerance)},interfaces_:function(){return[]},getClass:function(){return yg}}),yg.overlayOp=function(a,b,c){return new yg(a,b).getResultGeometry(c)},yg.union=function(a,b){return yg.overlayOp(a,b,xg.UNION)},yg.intersection=function(a,b){return yg.overlayOp(a,b,xg.INTERSECTION)},yg.symDifference=function(a,b){return yg.overlayOp(a,b,xg.SYMDIFFERENCE)},yg.difference=function(a,b){return yg.overlayOp(a,b,xg.DIFFERENCE)},Bp(zg.prototype,{getResultGeometry:function(a){var b=null,c=!1,d=null;try{b=xg.overlayOp(this._geom[0],this._geom[1],a);!0&&(c=!0)}catch(a){if(!(a instanceof Fc))throw a;d=a}if(!c)try{b=yg.overlayOp(this._geom[0],this._geom[1],a)}catch(a){throw a instanceof Fc?d:a}return b},interfaces_:function(){return[]},getClass:function(){return zg}}),zg.overlayOp=function(a,b,c){return new zg(a,b).getResultGeometry(c)},zg.union=function(a,b){return zg.overlayOp(a,b,xg.UNION)},zg.intersection=function(a,b){return zg.overlayOp(a,b,xg.INTERSECTION)},zg.symDifference=function(a,b){return zg.overlayOp(a,b,xg.SYMDIFFERENCE)},zg.difference=function(a,b){return zg.overlayOp(a,b,xg.DIFFERENCE)},Bp(Ag.prototype,{addPolygon:function(a){if(a.isEmpty())return null;var b=null,c=0,d=this.horizontalBisector(a);if(0===d.getLength())c=0,b=d.getCoordinate();else{var e=zg.overlayOp(d,a,xg.INTERSECTION),f=this.widestGeometry(e);c=f.getEnvelopeInternal().getWidth(),b=Ag.centre(f.getEnvelopeInternal())}(null===this._interiorPoint||c>this._maxWidth)&&(this._interiorPoint=b,this._maxWidth=c)},getInteriorPoint:function(){return this._interiorPoint},widestGeometry:function(){if(arguments[0]instanceof Gd){var a=arguments[0];if(a.isEmpty())return a;for(var b=a.getGeometryN(0),c=1;c<a.getNumGeometries();c++)a.getGeometryN(c).getEnvelopeInternal().getWidth()>b.getEnvelopeInternal().getWidth()&&(b=a.getGeometryN(c));return b}if(arguments[0]instanceof fd){var d=arguments[0];return d instanceof Gd?this.widestGeometry(d):d}},horizontalBisector:function(a){var b=a.getEnvelopeInternal(),c=Bg.getBisectorY(a);return this._factory.createLineString([new Ic(b.getMinX(),c),new Ic(b.getMaxX(),c)])},add:function(a){if(a instanceof Wd)this.addPolygon(a);else if(a instanceof Gd)for(var b=a,c=0;c<b.getNumGeometries();c++)this.add(b.getGeometryN(c))},interfaces_:function(){return[]},getClass:function(){return Ag}}),Ag.centre=function(a){return new Ic(Ag.avg(a.getMinX(),a.getMaxX()),Ag.avg(a.getMinY(),a.getMaxY()))},Ag.avg=function(a,b){return(a+b)/2},Bp(Bg.prototype,{updateInterval:function(a){a<=this._centreY?a>this._loY&&(this._loY=a):a>this._centreY&&a<this._hiY&&(this._hiY=a)},getBisectorY:function(){this.process(this._poly.getExteriorRing());for(var a=0;a<this._poly.getNumInteriorRing();a++)this.process(this._poly.getInteriorRingN(a));return Ag.avg(this._hiY,this._loY)},process:function(a){for(var b=a.getCoordinateSequence(),c=0;c<b.size();c++){var d=b.getY(c);this.updateInterval(d)}},interfaces_:function(){return[]},getClass:function(){return Bg}}),Bg.getBisectorY=function(a){return new Bg(a).getBisectorY()},Ag.SafeBisectorFinder=Bg,Bp(Cg.prototype,{addEndpoints:function(){if(arguments[0]instanceof fd){var a=arguments[0];if(a instanceof Sd)this.addEndpoints(a.getCoordinates());else if(a instanceof Gd)for(var b=a,c=0;c<b.getNumGeometries();c++)this.addEndpoints(b.getGeometryN(c))}else if(arguments[0]instanceof Array){var d=arguments[0];this.add(d[0]),this.add(d[d.length-1])}},getInteriorPoint:function(){return this._interiorPoint},addInterior:function(){if(arguments[0]instanceof fd){var a=arguments[0];if(a instanceof Sd)this.addInterior(a.getCoordinates());else if(a instanceof Gd)for(var b=a,c=0;c<b.getNumGeometries();c++)this.addInterior(b.getGeometryN(c))}else if(arguments[0]instanceof Array)for(var d=arguments[0],c=1;c<d.length-1;c++)this.add(d[c])},add:function(a){var b=a.distance(this._centroid);b<this._minDistance&&(this._interiorPoint=new Ic(a),this._minDistance=b)},interfaces_:function(){return[]},getClass:function(){return Cg}}),Bp(Dg.prototype,{getInteriorPoint:function(){return this._interiorPoint},add:function(){if(arguments[0]instanceof fd){var a=arguments[0];if(a instanceof Ud)this.add(a.getCoordinate());else if(a instanceof Gd)for(var b=a,c=0;c<b.getNumGeometries();c++)this.add(b.getGeometryN(c))}else if(arguments[0]instanceof Ic){var d=arguments[0],e=d.distance(this._centroid);e<this._minDistance&&(this._interiorPoint=new Ic(d),this._minDistance=e)}},interfaces_:function(){return[]},getClass:function(){return Dg}}),Bp(Eg.prototype,{select:function(){if(1===arguments.length);else if(2===arguments.length){var a=arguments[0],b=arguments[1];a.getLineSegment(b,this.selectedSegment),this.select(this.selectedSegment)}},interfaces_:function(){return[]},getClass:function(){return Eg}}),Bp(Fg.prototype,{hasChildren:function(){for(var a=0;a<2;a++)if(null!==this._subnode[a])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(a){a.addAll(this._items);for(var b=0;b<2;b++)null!==this._subnode[b]&&this._subnode[b].addAllItems(a);return a},size:function(){for(var a=0,b=0;b<2;b++)null!==this._subnode[b]&&(a+=this._subnode[b].size());return a+this._items.size()},addAllItemsFromOverlapping:function(a,b){if(null!==a&&!this.isSearchMatch(a))return null;b.addAll(this._items),null!==this._subnode[0]&&this._subnode[0].addAllItemsFromOverlapping(a,b),null!==this._subnode[1]&&this._subnode[1].addAllItemsFromOverlapping(a,b)},hasItems:function(){return!this._items.isEmpty()},remove:function(a,b){if(!this.isSearchMatch(a))return!1;for(var c=!1,d=0;d<2;d++)if(null!==this._subnode[d]&&(c=this._subnode[d].remove(a,b))){this._subnode[d].isPrunable()&&(this._subnode[d]=null);break}return c||(c=this._items.remove(b))},getItems:function(){return this._items},depth:function(){for(var a=0,b=0;b<2;b++)if(null!==this._subnode[b]){var c=this._subnode[b].depth();c>a&&(a=c)}return a+1},nodeSize:function(){for(var a=0,b=0;b<2;b++)null!==this._subnode[b]&&(a+=this._subnode[b].nodeSize());return a+1},add:function(a){this._items.add(a)},interfaces_:function(){return[]},getClass:function(){return Fg}}),Fg.getSubnodeIndex=function(a,b){var c=-1;return a.min>=b&&(c=1),a.max<=b&&(c=0),c},Bp(Gg.prototype,{expandToInclude:function(a){a.max>this.max&&(this.max=a.max),a.min<this.min&&(this.min=a.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(1===arguments.length){var a=arguments[0];return this.overlaps(a.min,a.max)}if(2===arguments.length){var b=arguments[0],c=arguments[1];return!(this.min>c||this.max<b)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(1===arguments.length){if(arguments[0]instanceof Gg){var a=arguments[0];return this.contains(a.min,a.max)}if("number"==typeof arguments[0]){var b=arguments[0];return b>=this.min&&b<=this.max}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];return c>=this.min&&d<=this.max}},init:function(a,b){this.min=a,this.max=b,a>b&&(this.min=b,this.max=a)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return Gg}}),Hg.exponent=function(a){return Ig(64,a)-1023},Hg.powerOf2=function(a){return Math.pow(2,a)},Bp(Jg.prototype,{getInterval:function(){return this._interval},getLevel:function(){return this._level},computeKey:function(a){for(this._level=Jg.computeLevel(a),this._interval=new Gg,this.computeInterval(this._level,a);!this._interval.contains(a);)this._level+=1,this.computeInterval(this._level,a)},computeInterval:function(a,b){var c=Hg.powerOf2(a);this._pt=Math.floor(b.getMin()/c)*c,this._interval.init(this._pt,this._pt+c)},getPoint:function(){return this._pt},interfaces_:function(){return[]},getClass:function(){return Jg}}),Jg.computeLevel=function(a){var b=a.getWidth();return Hg.exponent(b)+1},Cp(Kg,Fg),Bp(Kg.prototype,{getInterval:function(){return this._interval},find:function(a){var b=Fg.getSubnodeIndex(a,this._centre);if(-1===b)return this;if(null!==this._subnode[b]){return this._subnode[b].find(a)}return this},insert:function(a){Hc.isTrue(null===this._interval||this._interval.contains(a._interval));var b=Fg.getSubnodeIndex(a._interval,this._centre);if(a._level===this._level-1)this._subnode[b]=a;else{var c=this.createSubnode(b);c.insert(a),this._subnode[b]=c}},isSearchMatch:function(a){return a.overlaps(this._interval)},getSubnode:function(a){return null===this._subnode[a]&&(this._subnode[a]=this.createSubnode(a)),this._subnode[a]},getNode:function(a){var b=Fg.getSubnodeIndex(a,this._centre);if(-1!==b){return this.getSubnode(b).getNode(a)}return this},createSubnode:function(a){var b=0,c=0;switch(a){case 0:b=this._interval.getMin(),c=this._centre;break;case 1:b=this._centre,c=this._interval.getMax()}return new Kg(new Gg(b,c),this._level-1)},interfaces_:function(){return[]},getClass:function(){return Kg}}),Kg.createNode=function(a){var b=new Jg(a);return new Kg(b.getInterval(),b.getLevel())},Kg.createExpanded=function(a,b){var c=new Gg(b);null!==a&&c.expandToInclude(a._interval);var d=Kg.createNode(c);return null!==a&&d.insert(a),d},Bp(Lg.prototype,{interfaces_:function(){return[]},getClass:function(){return Lg}});Lg.isZeroWidth=function(a,b){var c=b-a;if(0===c)return!0;var d=Math.max(Math.abs(a),Math.abs(b)),e=c/d;return Hg.exponent(e)<=Lg.MIN_BINARY_EXPONENT},Lg.MIN_BINARY_EXPONENT=-50,Cp(Mg,Fg),Bp(Mg.prototype,{insert:function(a,b){var c=Fg.getSubnodeIndex(a,Mg.origin);if(-1===c)return this.add(b),null;var d=this._subnode[c];if(null===d||!d.getInterval().contains(a)){var e=Kg.createExpanded(d,a);this._subnode[c]=e}this.insertContained(this._subnode[c],a,b)},isSearchMatch:function(a){return!0},insertContained:function(a,b,c){Hc.isTrue(a.getInterval().contains(b));var d=Lg.isZeroWidth(b.getMin(),b.getMax()),e=null;e=d?a.find(b):a.getNode(b),e.add(c)},interfaces_:function(){return[]},getClass:function(){return Mg}}),Mg.origin=0,Bp(Ng.prototype,{size:function(){return null!==this._root?this._root.size():0},insert:function(a,b){this.collectStats(a);var c=Ng.ensureExtent(a,this._minExtent);this._root.insert(c,b)},query:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var a=arguments[0];return this.query(new Gg(a,a))}if(arguments[0]instanceof Gg){var b=arguments[0],c=new Qc;return this.query(b,c),c}}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this._root.addAllItemsFromOverlapping(b,c)}},iterator:function(){var a=new Qc;return this._root.addAllItems(a),a.iterator()},remove:function(a,b){var c=Ng.ensureExtent(a,this._minExtent);return this._root.remove(c,b)},collectStats:function(a){var b=a.getWidth();b<this._minExtent&&b>0&&(this._minExtent=b)},depth:function(){return null!==this._root?this._root.depth():0},nodeSize:function(){return null!==this._root?this._root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return Ng}}),Ng.ensureExtent=function(a,b){var c=a.getMin(),d=a.getMax();return c!==d?a:(c===d&&(c-=b/2,d=c+b/2),new Gg(c,d))},Bp(Og.prototype,{isInside:function(a){},interfaces_:function(){return[]},getClass:function(){return Og}}),Bp(Pg.prototype,{testLineSegment:function(a,b){var c=null,d=null,e=null,f=null,g=b.p0,h=b.p1;c=g.x-a.x,d=g.y-a.y,e=h.x-a.x,f=h.y-a.y,(d>0&&f<=0||f>0&&d<=0)&&0<Ce.signOfDet2x2(c,d,e,f)/(f-d)&&this._crossings++},buildIndex:function(){this._tree=new Ng;for(var a=md.removeRepeatedPoints(this._ring.getCoordinates()),b=uf.getChains(a),c=0;c<b.size();c++){var d=b.get(c),e=d.getEnvelope();this._interval.min=e.getMinY(),this._interval.max=e.getMaxY(),this._tree.insert(this._interval,d)}},testMonotoneChain:function(a,b,c){c.select(a,b)},isInside:function(a){this._crossings=0;var b=new Sc(Ac.NEGATIVE_INFINITY,Ac.POSITIVE_INFINITY,a.y,a.y);this._interval.min=a.y,this._interval.max=a.y;for(var c=this._tree.query(this._interval),d=new Qg(this,a),e=c.iterator();e.hasNext();){var f=e.next();this.testMonotoneChain(b,d,f)}return this._crossings%2==1},interfaces_:function(){return[Og]},getClass:function(){return Pg}}),Cp(Qg,Eg),Bp(Qg.prototype,{select:function(){if(1!==arguments.length)return Eg.prototype.select.apply(this,arguments);var a=arguments[0];this.mcp.testLineSegment(this.p,a)},interfaces_:function(){return[]},getClass:function(){return Qg}}),Pg.MCSelecter=Qg,Bp(Rg.prototype,{interfaces_:function(){return[]},getClass:function(){return Rg}}),Rg.toDegrees=function(a){return 180*a/Math.PI},Rg.normalize=function(a){for(;a>Math.PI;)a-=Rg.PI_TIMES_2;for(;a<=-Math.PI;)a+=Rg.PI_TIMES_2;return a},Rg.angle=function(){if(1===arguments.length){var a=arguments[0];return Math.atan2(a.y,a.x)}if(2===arguments.length){var b=arguments[0],c=arguments[1],d=c.x-b.x,e=c.y-b.y;return Math.atan2(e,d)}},Rg.isAcute=function(a,b,c){var d=a.x-b.x,e=a.y-b.y;return d*(c.x-b.x)+e*(c.y-b.y)>0},Rg.isObtuse=function(a,b,c){var d=a.x-b.x,e=a.y-b.y;return d*(c.x-b.x)+e*(c.y-b.y)<0},Rg.interiorAngle=function(a,b,c){var d=Rg.angle(b,a),e=Rg.angle(b,c);return Math.abs(e-d)},Rg.normalizePositive=function(a){if(a<0){for(;a<0;)a+=Rg.PI_TIMES_2;a>=Rg.PI_TIMES_2&&(a=0)}else{for(;a>=Rg.PI_TIMES_2;)a-=Rg.PI_TIMES_2;a<0&&(a=0)}return a},Rg.angleBetween=function(a,b,c){var d=Rg.angle(b,a),e=Rg.angle(b,c);return Rg.diff(d,e)},Rg.diff=function(a,b){var c=null;return c=a<b?b-a:a-b,c>Math.PI&&(c=2*Math.PI-c),c},Rg.toRadians=function(a){return a*Math.PI/180},Rg.getTurn=function(a,b){var c=Math.sin(b-a);return c>0?Rg.COUNTERCLOCKWISE:c<0?Rg.CLOCKWISE:Rg.NONE},Rg.angleBetweenOriented=function(a,b,c){var d=Rg.angle(b,a),e=Rg.angle(b,c),f=e-d;return f<=-Math.PI?f+Rg.PI_TIMES_2:f>Math.PI?f-Rg.PI_TIMES_2:f},Rg.PI_TIMES_2=2*Math.PI,Rg.PI_OVER_2=Math.PI/2,Rg.PI_OVER_4=Math.PI/4,Rg.COUNTERCLOCKWISE=Ee.COUNTERCLOCKWISE,Rg.CLOCKWISE=Ee.CLOCKWISE,Rg.NONE=Ee.COLLINEAR,Bp(Sg.prototype,{area:function(){return Sg.area(this.p0,this.p1,this.p2)},signedArea:function(){return Sg.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(a){if(null===a)throw new zc("Supplied point is null.");return Sg.interpolateZ(a,this.p0,this.p1,this.p2)},longestSideLength:function(){return Sg.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return Sg.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return Sg.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return Sg.area3D(this.p0,this.p1,this.p2)},centroid:function(){return Sg.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return Sg.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return Sg}}),Sg.area=function(a,b,c){return Math.abs(((c.x-a.x)*(b.y-a.y)-(b.x-a.x)*(c.y-a.y))/2)},Sg.signedArea=function(a,b,c){return((c.x-a.x)*(b.y-a.y)-(b.x-a.x)*(c.y-a.y))/2},Sg.det=function(a,b,c,d){return a*d-b*c},Sg.interpolateZ=function(a,b,c,d){var e=b.x,f=b.y,g=c.x-e,h=d.x-e,i=c.y-f,j=d.y-f,k=g*j-h*i,l=a.x-e,m=a.y-f,n=(j*l-h*m)/k,o=(-i*l+g*m)/k;return b.z+n*(c.z-b.z)+o*(d.z-b.z)},Sg.longestSideLength=function(a,b,c){var d=a.distance(b),e=b.distance(c),f=c.distance(a),g=d;return e>g&&(g=e),f>g&&(g=f),g},Sg.isAcute=function(a,b,c){return!!Rg.isAcute(a,b,c)&&(!!Rg.isAcute(b,c,a)&&!!Rg.isAcute(c,a,b))},Sg.circumcentre=function(a,b,c){var d=c.x,e=c.y,f=a.x-d,g=a.y-e,h=b.x-d,i=b.y-e,j=2*Sg.det(f,g,h,i);return new Ic(d-Sg.det(g,f*f+g*g,i,h*h+i*i)/j,e+Sg.det(f,f*f+g*g,h,h*h+i*i)/j)},Sg.perpendicularBisector=function(a,b){var c=b.x-a.x,d=b.y-a.y;return new cd(new cd(a.x+c/2,a.y+d/2,1),new cd(a.x-d+c/2,a.y+c+d/2,1))},Sg.angleBisector=function(a,b,c){var d=b.distance(a),e=b.distance(c),f=d/(d+e),g=c.x-a.x,h=c.y-a.y;return new Ic(a.x+f*g,a.y+f*h)},Sg.area3D=function(a,b,c){var d=b.x-a.x,e=b.y-a.y,f=b.z-a.z,g=c.x-a.x,h=c.y-a.y,i=c.z-a.z,j=e*i-f*h,k=f*g-d*i,l=d*h-e*g,m=j*j+k*k+l*l;return Math.sqrt(m)/2},Sg.centroid=function(a,b,c){return new Ic((a.x+b.x+c.x)/3,(a.y+b.y+c.y)/3)},Sg.inCentre=function(a,b,c){var d=b.distance(c),e=a.distance(c),f=a.distance(b),g=d+e+f;return new Ic((d*a.x+e*b.x+f*c.x)/g,(d*a.y+e*b.y+f*c.y)/g)},Bp(Tg.prototype,{getRadius:function(){return this.compute(),this._radius},getDiameter:function(){switch(this.compute(),this._extremalPts.length){case 0:return this._input.getFactory().createLineString();case 1:return this._input.getFactory().createPoint(this._centre)}var a=this._extremalPts[0],b=this._extremalPts[1];return this._input.getFactory().createLineString([a,b])},getExtremalPoints:function(){return this.compute(),this._extremalPts},computeCirclePoints:function(){if(this._input.isEmpty())return this._extremalPts=new Array(0).fill(null),null;if(1===this._input.getNumPoints()){var a=this._input.getCoordinates();return this._extremalPts=[new Ic(a[0])],null}var b=this._input.convexHull(),c=b.getCoordinates(),a=c;if(c[0].equals2D(c[c.length-1])&&(a=new Array(c.length-1).fill(null),md.copyDeep(c,0,a,0,c.length-1)),a.length<=2)return this._extremalPts=md.copyDeep(a),null;for(var d=Tg.lowestPoint(a),e=Tg.pointWitMinAngleWithX(a,d),f=0;f<a.length;f++){var g=Tg.pointWithMinAngleWithSegment(a,d,e);if(Rg.isObtuse(d,g,e))return this._extremalPts=[new Ic(d),new Ic(e)],null;if(Rg.isObtuse(g,d,e))d=g;else{if(!Rg.isObtuse(g,e,d))return this._extremalPts=[new Ic(d),new Ic(e),new Ic(g)],null;e=g}}Hc.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){if(null!==this._extremalPts)return null;this.computeCirclePoints(),this.computeCentre(),null!==this._centre&&(this._radius=this._centre.distance(this._extremalPts[0]))},getFarthestPoints:function(){switch(this.compute(),this._extremalPts.length){case 0:return this._input.getFactory().createLineString();case 1:return this._input.getFactory().createPoint(this._centre)}var a=this._extremalPts[0],b=this._extremalPts[this._extremalPts.length-1];return this._input.getFactory().createLineString([a,b])},getCircle:function(){if(this.compute(),null===this._centre)return this._input.getFactory().createPolygon();var a=this._input.getFactory().createPoint(this._centre);return 0===this._radius?a:a.buffer(this._radius)},getCentre:function(){return this.compute(),this._centre},computeCentre:function(){switch(this._extremalPts.length){case 0:this._centre=null;break;case 1:this._centre=this._extremalPts[0];break;case 2:this._centre=new Ic((this._extremalPts[0].x+this._extremalPts[1].x)/2,(this._extremalPts[0].y+this._extremalPts[1].y)/2);break;case 3:this._centre=Sg.circumcentre(this._extremalPts[0],this._extremalPts[1],this._extremalPts[2])}},interfaces_:function(){return[]},getClass:function(){return Tg}}),Tg.pointWitMinAngleWithX=function(a,b){for(var c=Ac.MAX_VALUE,d=null,e=0;e<a.length;e++){var f=a[e];if(f!==b){var g=f.x-b.x,h=f.y-b.y;h<0&&(h=-h);var i=Math.sqrt(g*g+h*h),j=h/i;j<c&&(c=j,d=f)}}return d},Tg.lowestPoint=function(a){for(var b=a[0],c=1;c<a.length;c++)a[c].y<b.y&&(b=a[c]);return b},Tg.pointWithMinAngleWithSegment=function(a,b,c){for(var d=Ac.MAX_VALUE,e=null,f=0;f<a.length;f++){var g=a[f];if(g!==b&&g!==c){var h=Rg.angleBetween(b,g,c);h<d&&(d=h,e=g)}}return e},Bp(Ug.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this._minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this._inputGeom.getFactory().createLineString([this._minBaseSeg.p0,this._minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),null===this._minWidthPt)return this._inputGeom.getFactory().createLineString(null);var a=this._minBaseSeg.project(this._minWidthPt);return this._inputGeom.getFactory().createLineString([a,this._minWidthPt])},computeWidthConvex:function(a){this._convexHullPts=a instanceof Wd?a.getExteriorRing().getCoordinates():a.getCoordinates(),0===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=null,this._minBaseSeg=null):1===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=this._convexHullPts[0],this._minBaseSeg.p0=this._convexHullPts[0],this._minBaseSeg.p1=this._convexHullPts[0]):2===this._convexHullPts.length||3===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=this._convexHullPts[0],this._minBaseSeg.p0=this._convexHullPts[0],this._minBaseSeg.p1=this._convexHullPts[1]):this.computeConvexRingMinDiameter(this._convexHullPts)},computeConvexRingMinDiameter:function(a){this._minWidth=Ac.MAX_VALUE;for(var b=1,c=new Fe,d=0;d<a.length-1;d++)c.p0=a[d],c.p1=a[d+1],b=this.findMaxPerpDistance(a,c,b)},computeMinimumDiameter:function(){if(null!==this._minWidthPt)return null;if(this._isConvex)this.computeWidthConvex(this._inputGeom);else{var a=new Le(this._inputGeom).getConvexHull();this.computeWidthConvex(a)}},getLength:function(){return this.computeMinimumDiameter(),this._minWidth},findMaxPerpDistance:function(a,b,c){for(var d=b.distancePerpendicular(a[c]),e=d,f=c,g=f;e>=d;)d=e,f=g,g=Ug.nextIndex(a,f),e=b.distancePerpendicular(a[g]);return d<this._minWidth&&(this._minPtIndex=f,this._minWidth=d,this._minWidthPt=a[this._minPtIndex],this._minBaseSeg=new Fe(b)),f},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),0===this._minWidth)return this._minBaseSeg.p0.equals2D(this._minBaseSeg.p1)?this._inputGeom.getFactory().createPoint(this._minBaseSeg.p0):this._minBaseSeg.toGeometry(this._inputGeom.getFactory());for(var a=this._minBaseSeg.p1.x-this._minBaseSeg.p0.x,b=this._minBaseSeg.p1.y-this._minBaseSeg.p0.y,c=Ac.MAX_VALUE,d=-Ac.MAX_VALUE,e=Ac.MAX_VALUE,f=-Ac.MAX_VALUE,g=0;g<this._convexHullPts.length;g++){var h=Ug.computeC(a,b,this._convexHullPts[g]);h>d&&(d=h),h<c&&(c=h);var i=Ug.computeC(-b,a,this._convexHullPts[g]);i>f&&(f=i),i<e&&(e=i)}var j=Ug.computeSegmentForLine(-a,-b,f),k=Ug.computeSegmentForLine(-a,-b,e),l=Ug.computeSegmentForLine(-b,a,d),m=Ug.computeSegmentForLine(-b,a,c),n=l.lineIntersection(j),o=m.lineIntersection(j),p=m.lineIntersection(k),q=l.lineIntersection(k),r=this._inputGeom.getFactory().createLinearRing([n,o,p,q,n]);return this._inputGeom.getFactory().createPolygon(r,null)},interfaces_:function(){return[]},getClass:function(){return Ug}}),Ug.nextIndex=function(a,b){return b++,b>=a.length&&(b=0),b},Ug.computeC=function(a,b,c){return a*c.y-b*c.x},Ug.getMinimumDiameter=function(a){return new Ug(a).getDiameter()},Ug.getMinimumRectangle=function(a){return new Ug(a).getMinimumRectangle()},Ug.computeSegmentForLine=function(a,b,c){var d=null,e=null;return Math.abs(b)>Math.abs(a)?(d=new Ic(0,c/b),e=new Ic(1,c/b-a/b)):(d=new Ic(c/a,0),e=new Ic(c/a-b/a,1)),new Fe(d,e)},Bp(Vg.prototype,{getResultGeometry:function(){return new Wg(this._distanceTolerance).transform(this._inputGeom)},setDistanceTolerance:function(a){if(a<=0)throw new zc("Tolerance must be positive");this._distanceTolerance=a},interfaces_:function(){return[]},getClass:function(){return Vg}}),Vg.densifyPoints=function(a,b,c){for(var d=new Fe,e=new Rc,f=0;f<a.length-1;f++){d.p0=a[f],d.p1=a[f+1],e.add(d.p0,!1);var g=d.getLength(),h=Math.trunc(g/b)+1;if(h>1)for(var i=g/h,j=1;j<h;j++){var k=j*i/g,l=d.pointAlong(k);c.makePrecise(l),e.add(l,!1)}}return e.add(a[a.length-1],!1),e.toCoordinateArray()},Vg.densify=function(a,b){var c=new Vg(a);return c.setDistanceTolerance(b),c.getResultGeometry()},Cp(Wg,Ne),Bp(Wg.prototype,{transformMultiPolygon:function(a,b){var c=Ne.prototype.transformMultiPolygon.call(this,a,b);return this.createValidArea(c)},transformPolygon:function(a,b){var c=Ne.prototype.transformPolygon.call(this,a,b);return b instanceof Zd?c:this.createValidArea(c)},transformCoordinates:function(a,b){var c=a.toCoordinateArray(),d=Vg.densifyPoints(c,this.distanceTolerance,b.getPrecisionModel());return b instanceof Sd&&1===d.length&&(d=new Array(0).fill(null)),this._factory.getCoordinateSequenceFactory().create(d)},createValidArea:function(a){return a.buffer(0)},interfaces_:function(){return[]},getClass:function(){return Wg}}),Vg.DensifyTransformer=Wg,Bp(Xg.prototype,{find:function(a){var b=this;do{if(null===b)return null;if(b.dest().equals2D(a))return b;b=b.oNext()}while(b!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(a){if(this.oNext()===this)return this.insertAfter(a),null;var b=this.compareTo(a),c=this;do{var d=c.oNext();if(d.compareTo(a)!==b||d===this)return c.insertAfter(a),null;c=d}while(c!==this);Hc.shouldNeverReachHere()},insertAfter:function(a){Hc.equals(this._orig,a.orig());var b=this.oNext();this._sym.setNext(a),a.sym().setNext(b)},degree:function(){var a=0,b=this;do{a++,b=b.oNext()}while(b!==this);return a},equals:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return this._orig.equals2D(a)&&this._sym._orig.equals(b)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(a){var b=this.deltaX(),c=this.deltaY(),d=a.deltaX(),e=a.deltaY();if(b===d&&c===e)return 0;var f=tf.quadrant(b,c),g=tf.quadrant(d,e);return f>g?1:f<g?-1:Ee.computeOrientation(a._orig,a.dest(),this.dest())},prevNode:function(){for(var a=this;2===a.degree();)if((a=a.prev())===this)return null;return a},compareTo:function(a){var b=a;return this.compareAngularDirection(b)},next:function(){return this._next},setSym:function(a){this._sym=a},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(a){this._next=a},init:function(a){this.setSym(a),a.setSym(this),this.setNext(a),a.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return Xg}}),Xg.init=function(a,b){if(null!==a._sym||null!==b._sym||null!==a._next||null!==b._next)throw new IllegalStateException("Edges are already initialized");return a.init(b),a},Xg.create=function(a,b){var c=new Xg(a),d=new Xg(b);return c.init(d),c},Cp(Yg,Xg),Bp(Yg.prototype,{mark:function(){this._isMarked=!0},setMark:function(a){this._isMarked=a},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return Yg}}),Yg.setMarkBoth=function(a,b){a.setMark(b),a.sym().setMark(b)},Yg.isMarked=function(a){return a.isMarked()},Yg.setMark=function(a,b){a.setMark(b)},Yg.markBoth=function(a){a.mark(),a.sym().mark()},Yg.mark=function(a){a.mark()},Bp(Zg.prototype,{insert:function(a,b,c){var d=this.create(a,b);null!==c?c.insert(d):this._vertexMap.put(a,d);var e=this._vertexMap.get(b);return null!==e?e.insert(d.sym()):this._vertexMap.put(b,d.sym()),d},create:function(a,b){var c=this.createEdge(a),d=this.createEdge(b);return Xg.init(c,d),c},createEdge:function(a){return new Xg(a)},addEdge:function(a,b){if(!Zg.isValidEdge(a,b))return null;var c=this._vertexMap.get(a),d=null;return null!==c&&(d=c.find(b)),null!==d?d:this.insert(a,b,c)},getVertexEdges:function(){return this._vertexMap.values()},findEdge:function(a,b){var c=this._vertexMap.get(a);return null===c?null:c.find(b)},interfaces_:function(){return[]},getClass:function(){return Zg}}),Zg.isValidEdge=function(a,b){return 0!==b.compareTo(a)},Cp($g,Yg),Bp($g.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return $g}}),Cp(_g,Zg),Bp(_g.prototype,{createEdge:function(a){return new $g(a)},interfaces_:function(){return[]},getClass:function(){return _g}}),Bp(ah.prototype,{addLine:function(a){this._lines.add(this._factory.createLineString(a.toCoordinateArray()))},updateRingStartEdge:function(a){return a.isStart()||(a=a.sym(),a.isStart())?null===this._ringStartEdge?(this._ringStartEdge=a,null):void(a.orig().compareTo(this._ringStartEdge.orig())<0&&(this._ringStartEdge=a)):null},getResult:function(){return null===this._result&&this.computeResult(),this._result},process:function(a){var b=a.prevNode();null===b&&(b=a),this.stackEdges(b),this.buildLines()},buildRing:function(a){var b=new Rc,c=a;for(b.add(c.orig().copy(),!1);2===c.sym().degree();){var d=c.next();if(d===a)break;b.add(d.orig().copy(),!1),c=d}b.add(c.dest().copy(),!1),this.addLine(b)},buildLine:function(a){var b=new Rc,c=a;for(this._ringStartEdge=null,Yg.markBoth(c),b.add(c.orig().copy(),!1);2===c.sym().degree();){this.updateRingStartEdge(c);var d=c.next();if(d===a)return this.buildRing(this._ringStartEdge),null;b.add(d.orig().copy(),!1),c=d,Yg.markBoth(c)}b.add(c.dest().copy(),!1),this.stackEdges(c.sym()),this.addLine(b)},stackEdges:function(a){var b=a;do{Yg.isMarked(b)||this._nodeEdgeStack.add(b),b=b.oNext()}while(b!==a)},computeResult:function(){for(var a=this._graph.getVertexEdges(),b=a.iterator();b.hasNext();){var c=b.next();Yg.isMarked(c)||this.process(c)}this._result=this._factory.buildGeometry(this._lines)},buildLines:function(){for(;!this._nodeEdgeStack.empty();){var a=this._nodeEdgeStack.pop();Yg.isMarked(a)||this.buildLine(a)}},add:function(){if(arguments[0]instanceof fd){var a=arguments[0];a.apply({interfaces_:function(){return[ed]},filter:function(a){a instanceof Sd&&this.add(a)}})}else if(Ep(arguments[0],Lc))for(var b=arguments[0],c=b.iterator();c.hasNext();){var a=c.next();this.add(a)}else if(arguments[0]instanceof Sd){var d=arguments[0];null===this._factory&&(this._factory=d.getFactory());for(var e=d.getCoordinateSequence(),f=!1,c=1;c<e.size();c++){var g=this._graph.addEdge(e.getCoordinate(c-1),e.getCoordinate(c));null!==g&&(f||(g.setStart(),f=!0))}}},interfaces_:function(){return[]},getClass:function(){return ah}}),ah.dissolve=function(a){var b=new ah;return b.add(a),b.getResult()},Bp(bh.prototype,{hasChildren:function(){for(var a=0;a<4;a++)if(null!==this._subnode[a])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(a){a.addAll(this._items);for(var b=0;b<4;b++)null!==this._subnode[b]&&this._subnode[b].addAllItems(a);return a},getNodeCount:function(){for(var a=0,b=0;b<4;b++)null!==this._subnode[b]&&(a+=this._subnode[b].size());return a+1},size:function(){for(var a=0,b=0;b<4;b++)null!==this._subnode[b]&&(a+=this._subnode[b].size());return a+this._items.size()},addAllItemsFromOverlapping:function(a,b){if(!this.isSearchMatch(a))return null;b.addAll(this._items);for(var c=0;c<4;c++)null!==this._subnode[c]&&this._subnode[c].addAllItemsFromOverlapping(a,b)},visitItems:function(a,b){for(var c=this._items.iterator();c.hasNext();)b.visitItem(c.next())},hasItems:function(){return!this._items.isEmpty()},remove:function(a,b){if(!this.isSearchMatch(a))return!1;for(var c=!1,d=0;d<4;d++)if(null!==this._subnode[d]&&(c=this._subnode[d].remove(a,b))){this._subnode[d].isPrunable()&&(this._subnode[d]=null);break}return c||(c=this._items.remove(b))},visit:function(a,b){if(!this.isSearchMatch(a))return null;this.visitItems(a,b);for(var c=0;c<4;c++)null!==this._subnode[c]&&this._subnode[c].visit(a,b)},getItems:function(){return this._items},depth:function(){for(var a=0,b=0;b<4;b++)if(null!==this._subnode[b]){var c=this._subnode[b].depth();c>a&&(a=c)}return a+1},isEmpty:function(){var a=!0;this._items.isEmpty()||(a=!1);for(var b=0;b<4;b++)null!==this._subnode[b]&&(this._subnode[b].isEmpty()||(a=!1));return a},add:function(a){this._items.add(a)},interfaces_:function(){return[Ec]},getClass:function(){return bh}}),bh.getSubnodeIndex=function(a,b,c){var d=-1;return a.getMinX()>=b&&(a.getMinY()>=c&&(d=3),a.getMaxY()<=c&&(d=1)),a.getMaxX()<=b&&(a.getMinY()>=c&&(d=2),a.getMaxY()<=c&&(d=0)),d},Bp(ch.prototype,{getLevel:function(){return this._level},computeKey:function(){if(1===arguments.length){var a=arguments[0];for(this._level=ch.computeQuadLevel(a),this._env=new Sc,this.computeKey(this._level,a);!this._env.contains(a);)this._level+=1,this.computeKey(this._level,a)}else if(2===arguments.length){var b=arguments[0],a=arguments[1],c=Hg.powerOf2(b);this._pt.x=Math.floor(a.getMinX()/c)*c,this._pt.y=Math.floor(a.getMinY()/c)*c,this._env.init(this._pt.x,this._pt.x+c,this._pt.y,this._pt.y+c)}},getEnvelope:function(){return this._env},getCentre:function(){return new Ic((this._env.getMinX()+this._env.getMaxX())/2,(this._env.getMinY()+this._env.getMaxY())/2)},getPoint:function(){return this._pt},interfaces_:function(){return[]},getClass:function(){return ch}}),ch.computeQuadLevel=function(a){var b=a.getWidth(),c=a.getHeight(),d=b>c?b:c;return Hg.exponent(d)+1},Cp(dh,bh),Bp(dh.prototype,{find:function(a){var b=bh.getSubnodeIndex(a,this._centrex,this._centrey);if(-1===b)return this;if(null!==this._subnode[b]){return this._subnode[b].find(a)}return this},isSearchMatch:function(a){return this._env.intersects(a)},getSubnode:function(a){return null===this._subnode[a]&&(this._subnode[a]=this.createSubnode(a)),this._subnode[a]},getEnvelope:function(){return this._env},getNode:function(a){var b=bh.getSubnodeIndex(a,this._centrex,this._centrey);if(-1!==b){return this.getSubnode(b).getNode(a)}return this},createSubnode:function(a){var b=0,c=0,d=0,e=0;switch(a){case 0:b=this._env.getMinX(),c=this._centrex,d=this._env.getMinY(),e=this._centrey;break;case 1:b=this._centrex,c=this._env.getMaxX(),d=this._env.getMinY(),e=this._centrey;break;case 2:b=this._env.getMinX(),c=this._centrex,d=this._centrey,e=this._env.getMaxY();break;case 3:b=this._centrex,c=this._env.getMaxX(),d=this._centrey,e=this._env.getMaxY()}return new dh(new Sc(b,c,d,e),this._level-1)},insertNode:function(a){Hc.isTrue(null===this._env||this._env.contains(a._env));var b=bh.getSubnodeIndex(a._env,this._centrex,this._centrey);if(a._level===this._level-1)this._subnode[b]=a;else{var c=this.createSubnode(b);c.insertNode(a),this._subnode[b]=c}},interfaces_:function(){return[]},getClass:function(){return dh}}),dh.createNode=function(a){var b=new ch(a);return new dh(b.getEnvelope(),b.getLevel())},dh.createExpanded=function(a,b){var c=new Sc(b);null!==a&&c.expandToInclude(a._env);var d=dh.createNode(c);return null!==a&&d.insertNode(a),d},Cp(eh,bh),Bp(eh.prototype,{insert:function(a,b){var c=bh.getSubnodeIndex(a,eh.origin.x,eh.origin.y);if(-1===c)return this.add(b),null;var d=this._subnode[c];if(null===d||!d.getEnvelope().contains(a)){var e=dh.createExpanded(d,a);this._subnode[c]=e}this.insertContained(this._subnode[c],a,b)},isSearchMatch:function(a){return!0},insertContained:function(a,b,c){Hc.isTrue(a.getEnvelope().contains(b));var d=Lg.isZeroWidth(b.getMinX(),b.getMaxX()),e=Lg.isZeroWidth(b.getMinY(),b.getMaxY()),f=null;f=d||e?a.find(b):a.getNode(b),f.add(c)},interfaces_:function(){return[]},getClass:function(){return eh}}),eh.origin=new Ic(0,0),Bp(fh.prototype,{size:function(){return null!==this._root?this._root.size():0},insert:function(a,b){this.collectStats(a);var c=fh.ensureExtent(a,this._minExtent);this._root.insert(c,b)},query:function(){if(1===arguments.length){var a=arguments[0],b=new jg;return this.query(a,b),b.getItems()}if(2===arguments.length){var a=arguments[0],b=arguments[1];this._root.visit(a,b)}},queryAll:function(){var a=new Qc;return this._root.addAllItems(a),a},remove:function(a,b){var c=fh.ensureExtent(a,this._minExtent);return this._root.remove(c,b)},collectStats:function(a){var b=a.getWidth();b<this._minExtent&&b>0&&(this._minExtent=b);var c=a.getHeight();c<this._minExtent&&c>0&&(this._minExtent=c)},depth:function(){return null!==this._root?this._root.depth():0},isEmpty:function(){return null===this._root},interfaces_:function(){return[cf,Ec]},getClass:function(){return fh}}),fh.ensureExtent=function(a,b){var c=a.getMinX(),d=a.getMaxX(),e=a.getMinY(),f=a.getMaxY();return c!==d&&e!==f?a:(c===d&&(c-=b/2,d=c+b/2),e===f&&(e-=b/2,f=e+b/2),new Sc(c,d,e,f))},fh.serialVersionUID=-0x678b60c967a25400;var Rp=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];Bp(gh.prototype,{read:function(a){var b;b="string"==typeof a?JSON.parse(a):a;var c=b.type;if(!Sp[c])throw new Error("Unknown GeoJSON type: "+b.type);return-1!==Rp.indexOf(c)?Sp[c].apply(this,[b.coordinates]):"GeometryCollection"===c?Sp[c].apply(this,[b.geometries]):Sp[c].apply(this,[b])},write:function(a){var b=a.getGeometryType();if(!Tp[b])throw new Error("Geometry is not supported");return Tp[b].apply(this,[a])}});var Sp={Feature:function(a){var b={};for(var c in a)b[c]=a[c];if(a.geometry){var d=a.geometry.type;if(!Sp[d])throw new Error("Unknown GeoJSON type: "+a.type);b.geometry=this.read(a.geometry)}return a.bbox&&(b.bbox=Sp.bbox.apply(this,[a.bbox])),b},FeatureCollection:function(a){var b={};if(a.features){b.features=[];for(var c=0;c<a.features.length;++c)b.features.push(this.read(a.features[c]))}return a.bbox&&(b.bbox=this.parse.bbox.apply(this,[a.bbox])),b},coordinates:function(a){for(var b=[],c=0;c<a.length;++c){var d=a[c];b.push(new Ic(d[0],d[1]))}return b},bbox:function(a){return this.geometryFactory.createLinearRing([new Ic(a[0],a[1]),new Ic(a[2],a[1]),new Ic(a[2],a[3]),new Ic(a[0],a[3]),new Ic(a[0],a[1])])},Point:function(a){var b=new Ic(a[0],a[1]);return this.geometryFactory.createPoint(b)},MultiPoint:function(a){for(var b=[],c=0;c<a.length;++c)b.push(Sp.Point.apply(this,[a[c]]));return this.geometryFactory.createMultiPoint(b)},LineString:function(a){var b=Sp.coordinates.apply(this,[a]);return this.geometryFactory.createLineString(b)},MultiLineString:function(a){for(var b=[],c=0;c<a.length;++c)b.push(Sp.LineString.apply(this,[a[c]]));return this.geometryFactory.createMultiLineString(b)},Polygon:function(a){for(var b=Sp.coordinates.apply(this,[a[0]]),c=this.geometryFactory.createLinearRing(b),d=[],e=1;e<a.length;++e){var f=a[e],g=Sp.coordinates.apply(this,[f]),h=this.geometryFactory.createLinearRing(g);d.push(h)}return this.geometryFactory.createPolygon(c,d)},MultiPolygon:function(a){for(var b=[],c=0;c<a.length;++c){var d=a[c];b.push(Sp.Polygon.apply(this,[d]))}return this.geometryFactory.createMultiPolygon(b)},GeometryCollection:function(a){for(var b=[],c=0;c<a.length;++c){var d=a[c];b.push(this.read(d))}return this.geometryFactory.createGeometryCollection(b)}},Tp={coordinate:function(a){return[a.x,a.y]},Point:function(a){return{type:"Point",coordinates:Tp.coordinate.apply(this,[a.getCoordinate()])}},MultiPoint:function(a){for(var b=[],c=0;c<a._geometries.length;++c){var d=a._geometries[c],e=Tp.Point.apply(this,[d]);b.push(e.coordinates)}return{type:"MultiPoint",coordinates:b}},LineString:function(a){for(var b=[],c=a.getCoordinates(),d=0;d<c.length;++d){var e=c[d];b.push(Tp.coordinate.apply(this,[e]))}return{type:"LineString",coordinates:b}},MultiLineString:function(a){for(var b=[],c=0;c<a._geometries.length;++c){var d=a._geometries[c],e=Tp.LineString.apply(this,[d]);b.push(e.coordinates)}return{type:"MultiLineString",coordinates:b}},Polygon:function(a){var b=[],c=Tp.LineString.apply(this,[a._shell]);b.push(c.coordinates);for(var d=0;d<a._holes.length;++d){var e=a._holes[d],f=Tp.LineString.apply(this,[e]);b.push(f.coordinates)}return{type:"Polygon",coordinates:b}},MultiPolygon:function(a){for(var b=[],c=0;c<a._geometries.length;++c){var d=a._geometries[c],e=Tp.Polygon.apply(this,[d]);b.push(e.coordinates)}return{type:"MultiPolygon",coordinates:b}},GeometryCollection:function(a){for(var b=[],c=0;c<a._geometries.length;++c){var d=a._geometries[c],e=d.getGeometryType();b.push(Tp[e].apply(this,[d]))}return{type:"GeometryCollection",geometries:b}}};Bp(hh.prototype,{read:function(a){var b=this.parser.read(a);return this.precisionModel.getType()===ve.FIXED&&this.reducePrecision(b),b},reducePrecision:function(a){var b,c;if(a.coordinate)this.precisionModel.makePrecise(a.coordinate);else if(a.points)for(b=0,c=a.points.length;b<c;b++)this.precisionModel.makePrecise(a.points[b]);else if(a.geometries)for(b=0,c=a.geometries.length;b<c;b++)this.reducePrecision(a.geometries[b])}}),Bp(ih.prototype,{write:function(a){return this.parser.write(a)}}),Bp(jh.prototype,{read:function(a){var b=this.parser.read(a);return this.precisionModel.getType()===ve.FIXED&&this.reducePrecision(b),b},reducePrecision:function(a){if(a.coordinate)this.precisionModel.makePrecise(a.coordinate);else if(a._points)for(var b=0,c=a._points._coordinates.length;b<c;b++)this.precisionModel.makePrecise(a._points._coordinates[b]);else if(a._geometries)for(var b=0,c=a._geometries.length;b<c;b++)this.reducePrecision(a._geometries[b])}}),Bp(lh.prototype,{read:function(a){var b=this.ol;return a instanceof b.geom.Point?this.convertFromPoint(a):a instanceof b.geom.LineString?this.convertFromLineString(a):a instanceof b.geom.LinearRing?this.convertFromLinearRing(a):a instanceof b.geom.Polygon?this.convertFromPolygon(a):a instanceof b.geom.MultiPoint?this.convertFromMultiPoint(a):a instanceof b.geom.MultiLineString?this.convertFromMultiLineString(a):a instanceof b.geom.MultiPolygon?this.convertFromMultiPolygon(a):a instanceof b.geom.GeometryCollection?this.convertFromCollection(a):void 0},convertFromPoint:function(a){var b=a.getCoordinates();return this.geometryFactory.createPoint(new Ic(b[0],b[1]))},convertFromLineString:function(a){return this.geometryFactory.createLineString(a.getCoordinates().map(function(a){return new Ic(a[0],a[1])}))},convertFromLinearRing:function(a){return this.geometryFactory.createLinearRing(a.getCoordinates().map(function(a){return new Ic(a[0],a[1])}))},convertFromPolygon:function(a){for(var b=a.getLinearRings(),c=null,d=[],e=0;e<b.length;e++){var f=this.convertFromLinearRing(b[e]);0===e?c=f:d.push(f)}return this.geometryFactory.createPolygon(c,d)},convertFromMultiPoint:function(a){var b=a.getPoints().map(function(a){return this.convertFromPoint(a)},this);return this.geometryFactory.createMultiPoint(b)},convertFromMultiLineString:function(a){var b=a.getLineStrings().map(function(a){return this.convertFromLineString(a)},this);return this.geometryFactory.createMultiLineString(b)},convertFromMultiPolygon:function(a){var b=a.getPolygons().map(function(a){return this.convertFromPolygon(a)},this);return this.geometryFactory.createMultiPolygon(b)},convertFromCollection:function(a){var b=a.getGeometries().map(function(a){return this.read(a)},this);return this.geometryFactory.createGeometryCollection(b)},write:function(a){return"Point"===a.getGeometryType()?this.convertToPoint(a.getCoordinate()):"LineString"===a.getGeometryType()?this.convertToLineString(a):"LinearRing"===a.getGeometryType()?this.convertToLinearRing(a):"Polygon"===a.getGeometryType()?this.convertToPolygon(a):"MultiPoint"===a.getGeometryType()?this.convertToMultiPoint(a):"MultiLineString"===a.getGeometryType()?this.convertToMultiLineString(a):"MultiPolygon"===a.getGeometryType()?this.convertToMultiPolygon(a):"GeometryCollection"===a.getGeometryType()?this.convertToCollection(a):void 0},convertToPoint:function(a){return new this.ol.geom.Point([a.x,a.y])},convertToLineString:function(a){var b=a.points.coordinates.map(kh);return new this.ol.geom.LineString(b)},convertToLinearRing:function(a){var b=a.points.coordinates.map(kh);return new this.ol.geom.LinearRing(b)},convertToPolygon:function(a){for(var b=[a.shell.points.coordinates.map(kh)],c=0;c<a.holes.length;c++)b.push(a.holes[c].points.coordinates.map(kh));return new this.ol.geom.Polygon(b)},convertToMultiPoint:function(a){return new this.ol.geom.MultiPoint(a.getCoordinates().map(kh))},convertToMultiLineString:function(a){for(var b=[],c=0;c<a.geometries.length;c++)b.push(this.convertToLineString(a.geometries[c]).getCoordinates());return new this.ol.geom.MultiLineString(b)},convertToMultiPolygon:function(a){for(var b=[],c=0;c<a.geometries.length;c++)b.push(this.convertToPolygon(a.geometries[c]).getCoordinates());return new this.ol.geom.MultiPolygon(b)},convertToCollection:function(a){for(var b=[],c=0;c<a.geometries.length;c++){var d=a.geometries[c];b.push(this.write(d))}return new this.ol.geom.GeometryCollection(b)}}),Bp(mh.prototype,{rescale:function(){if(Ep(arguments[0],Lc))for(var a=arguments[0],b=a.iterator();b.hasNext();){var c=b.next();this.rescale(c.getCoordinates())}else if(arguments[0]instanceof Array){var d=arguments[0];2===d.length&&(new Ic(d[0]),new Ic(d[1]));for(var b=0;b<d.length;b++)d[b].x=d[b].x/this._scaleFactor+this._offsetX,d[b].y=d[b].y/this._scaleFactor+this._offsetY;2===d.length&&d[0].equals2D(d[1])&&bd.out.println(d)}},scale:function(){if(Ep(arguments[0],Lc)){for(var a=arguments[0],b=new Qc,c=a.iterator();c.hasNext();){var d=c.next();b.add(new qf(this.scale(d.getCoordinates()),d.getData()))}return b}if(arguments[0]instanceof Array){for(var e=arguments[0],f=new Array(e.length).fill(null),c=0;c<e.length;c++)f[c]=new Ic(Math.round((e[c].x-this._offsetX)*this._scaleFactor),Math.round((e[c].y-this._offsetY)*this._scaleFactor),e[c].z);return md.removeRepeatedPoints(f)}},isIntegerPrecision:function(){return 1===this._scaleFactor},getNodedSubstrings:function(){var a=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(a),a},computeNodes:function(a){var b=a;this._isScaled&&(b=this.scale(a)),this._noder.computeNodes(b)},interfaces_:function(){return[vf]},getClass:function(){return mh}}),Bp(nh.prototype,{isSimpleMultiPoint:function(a){if(a.isEmpty())return!0;for(var b=new Bd,c=0;c<a.getNumGeometries();c++){var d=a.getGeometryN(c),e=d.getCoordinate();if(b.contains(e))return this._nonSimpleLocation=e,!1;b.add(e)}return!0},isSimplePolygonal:function(a){for(var b=ig.getLines(a),c=b.iterator();c.hasNext();){var d=c.next();if(!this.isSimpleLinearGeometry(d))return!1}return!0},hasClosedEndpointIntersection:function(a){for(var b=new yd,c=a.getEdgeIterator();c.hasNext();){var d=c.next(),e=(d.getMaximumSegmentIndex(),d.isClosed()),f=d.getCoordinate(0);this.addEndpoint(b,f,e);var g=d.getCoordinate(d.getNumPoints()-1);this.addEndpoint(b,g,e)}for(var c=b.values().iterator();c.hasNext();){var h=c.next();if(h.isClosed&&2!==h.degree)return this._nonSimpleLocation=h.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this._nonSimpleLocation},isSimpleLinearGeometry:function(a){if(a.isEmpty())return!0;var b=new tg(0,a),c=new Be,d=b.computeSelfNodes(c,!0);return!d.hasIntersection()||(d.hasProperIntersection()?(this._nonSimpleLocation=d.getProperIntersectionPoint(),!1):!this.hasNonEndpointIntersection(b)&&(!this._isClosedEndpointsInInterior||!this.hasClosedEndpointIntersection(b)))},hasNonEndpointIntersection:function(a){for(var b=a.getEdgeIterator();b.hasNext();)for(var c=b.next(),d=c.getMaximumSegmentIndex(),e=c.getEdgeIntersectionList().iterator();e.hasNext();){var f=e.next();if(!f.isEndPoint(d))return this._nonSimpleLocation=f.getCoordinate(),!0}return!1},addEndpoint:function(a,b,c){var d=a.get(b);null===d&&(d=new oh(b),a.put(b,d)),d.addEndpoint(c)},computeSimple:function(a){return this._nonSimpleLocation=null,!!a.isEmpty()||(a instanceof Sd?this.isSimpleLinearGeometry(a):a instanceof Hd?this.isSimpleLinearGeometry(a):a instanceof Xd?this.isSimpleMultiPoint(a):Ep(a,Vd)?this.isSimplePolygonal(a):!(a instanceof Gd)||this.isSimpleGeometryCollection(a))},isSimple:function(){return this._nonSimpleLocation=null,this.computeSimple(this._inputGeom)},isSimpleGeometryCollection:function(a){for(var b=0;b<a.getNumGeometries();b++){var c=a.getGeometryN(b);if(!this.computeSimple(c))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return nh}}),Bp(oh.prototype,{addEndpoint:function(a){this.degree++,this.isClosed|=a},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return oh}}),nh.EndpointInfo=oh,Bp(ph.prototype,{getEndCapStyle:function(){return this._endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(a){this._quadrantSegments=a,0===this._quadrantSegments&&(this._joinStyle=ph.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=ph.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),a<=0&&(this._quadrantSegments=1),this._joinStyle!==ph.JOIN_ROUND&&(this._quadrantSegments=ph.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this._joinStyle},setJoinStyle:function(a){this._joinStyle=a},setSimplifyFactor:function(a){this._simplifyFactor=a<0?0:a},getSimplifyFactor:function(){return this._simplifyFactor},getQuadrantSegments:function(){return this._quadrantSegments},setEndCapStyle:function(a){this._endCapStyle=a},getMitreLimit:function(){return this._mitreLimit},setMitreLimit:function(a){this._mitreLimit=a},setSingleSided:function(a){this._isSingleSided=a},interfaces_:function(){return[]},getClass:function(){return ph}}),ph.bufferDistanceError=function(a){var b=Math.PI/2/a;return 1-Math.cos(b/2)},ph.CAP_ROUND=1,ph.CAP_FLAT=2,ph.CAP_SQUARE=3,ph.JOIN_ROUND=1,ph.JOIN_MITRE=2,ph.JOIN_BEVEL=3,ph.DEFAULT_QUADRANT_SEGMENTS=8,ph.DEFAULT_MITRE_LIMIT=5,ph.DEFAULT_SIMPLIFY_FACTOR=.01,Bp(qh.prototype,{getCoordinate:function(){return this._minCoord},getRightmostSide:function(a,b){var c=this.getRightmostSideOfSegment(a,b);return c<0&&(c=this.getRightmostSideOfSegment(a,b-1)),c<0&&(this._minCoord=null,this.checkForRightmostCoordinate(a)),c},findRightmostEdgeAtVertex:function(){var a=this._minDe.getEdge().getCoordinates();Hc.isTrue(this._minIndex>0&&this._minIndex<a.length,"rightmost point expected to be interior vertex of edge");var b=a[this._minIndex-1],c=a[this._minIndex+1],d=Ee.computeOrientation(this._minCoord,c,b),e=!1;b.y<this._minCoord.y&&c.y<this._minCoord.y&&d===Ee.COUNTERCLOCKWISE?e=!0:b.y>this._minCoord.y&&c.y>this._minCoord.y&&d===Ee.CLOCKWISE&&(e=!0),e&&(this._minIndex=this._minIndex-1)},getRightmostSideOfSegment:function(a,b){var c=a.getEdge(),d=c.getCoordinates();if(b<0||b+1>=d.length)return-1;if(d[b].y===d[b+1].y)return-1;var e=Ff.LEFT;return d[b].y<d[b+1].y&&(e=Ff.RIGHT),e},getEdge:function(){return this._orientedDe},checkForRightmostCoordinate:function(a){for(var b=a.getEdge().getCoordinates(),c=0;c<b.length-1;c++)(null===this._minCoord||b[c].x>this._minCoord.x)&&(this._minDe=a,this._minIndex=c,this._minCoord=b[c])},findRightmostEdgeAtNode:function(){var a=this._minDe.getNode(),b=a.getEdges();this._minDe=b.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},findEdge:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();c.isForward()&&this.checkForRightmostCoordinate(c)}Hc.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Ff.LEFT&&(this._orientedDe=this._minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return qh}}),rh.prototype.addLast=function(a){this.array_.push(a)},rh.prototype.removeFirst=function(){return this.array_.shift()},rh.prototype.isEmpty=function(){return 0===this.array_.length},Bp(sh.prototype,{clearVisitedEdges:function(){for(var a=this._dirEdgeList.iterator();a.hasNext();){a.next().setVisited(!1)}},getRightmostCoordinate:function(){return this._rightMostCoord},computeNodeDepth:function(a){for(var b=null,c=a.getEdges().iterator();c.hasNext();){var d=c.next();if(d.isVisited()||d.getSym().isVisited()){b=d;break}}if(null===b)throw new zf("unable to find edge to compute depths at "+a.getCoordinate());a.getEdges().computeDepths(b);for(var c=a.getEdges().iterator();c.hasNext();){var d=c.next();d.setVisited(!0),this.copySymDepths(d)}},computeDepth:function(a){this.clearVisitedEdges();var b=this._finder.getEdge();b.getNode(),b.getLabel();b.setEdgeDepths(Ff.RIGHT,a),this.copySymDepths(b),this.computeDepths(b)},create:function(a){this.addReachable(a),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},findResultEdges:function(){for(var a=this._dirEdgeList.iterator();a.hasNext();){var b=a.next();b.getDepth(Ff.RIGHT)>=1&&b.getDepth(Ff.LEFT)<=0&&!b.isInteriorAreaEdge()&&b.setInResult(!0)}},computeDepths:function(a){var b=new sd,c=new rh,d=a.getNode();for(c.addLast(d),b.add(d),a.setVisited(!0);!c.isEmpty();){var e=c.removeFirst();b.add(e),this.computeNodeDepth(e);for(var f=e.getEdges().iterator();f.hasNext();){var g=f.next(),h=g.getSym();if(!h.isVisited()){var i=h.getNode();b.contains(i)||(c.addLast(i),b.add(i))}}}},compareTo:function(a){var b=a;return this._rightMostCoord.x<b._rightMostCoord.x?-1:this._rightMostCoord.x>b._rightMostCoord.x?1:0},getEnvelope:function(){if(null===this._env){for(var a=new Sc,b=this._dirEdgeList.iterator();b.hasNext();)for(var c=b.next(),d=c.getEdge().getCoordinates(),e=0;e<d.length-1;e++)a.expandToInclude(d[e]);this._env=a}return this._env},addReachable:function(a){var b=new Je;for(b.add(a);!b.empty();){var c=b.pop();this.add(c,b)}},copySymDepths:function(a){var b=a.getSym();b.setDepth(Ff.LEFT,a.getDepth(Ff.RIGHT)),b.setDepth(Ff.RIGHT,a.getDepth(Ff.LEFT))},add:function(a,b){a.setVisited(!0),this._nodes.add(a);for(var c=a.getEdges().iterator();c.hasNext();){var d=c.next();this._dirEdgeList.add(d);var e=d.getSym(),f=e.getNode();f.isVisited()||b.push(f)}},getNodes:function(){return this._nodes},getDirectedEdges:function(){return this._dirEdgeList},interfaces_:function(){return[Bc]},getClass:function(){return sh}}),Bp(th.prototype,{isDeletable:function(a,b,c,d){var e=this._inputLine[a],f=this._inputLine[b],g=this._inputLine[c];return!!this.isConcave(e,f,g)&&(!!this.isShallow(e,f,g,d)&&this.isShallowSampled(e,f,a,c,d))},deleteShallowConcavities:function(){for(var a=1,b=(this._inputLine.length,this.findNextNonDeletedIndex(a)),c=this.findNextNonDeletedIndex(b),d=!1;c<this._inputLine.length;){var e=!1;this.isDeletable(a,b,c,this._distanceTol)&&(this._isDeleted[b]=th.DELETE,e=!0,d=!0),a=e?c:b,b=this.findNextNonDeletedIndex(a),c=this.findNextNonDeletedIndex(b)}return d},isShallowConcavity:function(a,b,c,d){return Ee.computeOrientation(a,b,c)===this._angleOrientation&&Ee.distancePointLine(b,a,c)<d},isShallowSampled:function(a,b,c,d,e){var f=Math.trunc((d-c)/th.NUM_PTS_TO_CHECK);f<=0&&(f=1);for(var g=c;g<d;g+=f)if(!this.isShallow(a,b,this._inputLine[g],e))return!1;return!0},isConcave:function(a,b,c){return Ee.computeOrientation(a,b,c)===this._angleOrientation},simplify:function(a){this._distanceTol=Math.abs(a),a<0&&(this._angleOrientation=Ee.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var b=!1;do{b=this.deleteShallowConcavities()}while(b);return this.collapseLine()},findNextNonDeletedIndex:function(a){for(var b=a+1;b<this._inputLine.length&&this._isDeleted[b]===th.DELETE;)b++;return b},isShallow:function(a,b,c,d){return Ee.distancePointLine(b,a,c)<d},collapseLine:function(){for(var a=new Rc,b=0;b<this._inputLine.length;b++)this._isDeleted[b]!==th.DELETE&&a.add(this._inputLine[b]);return a.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return th}}),th.simplify=function(a,b){return new th(a).simplify(b)},th.INIT=0,th.DELETE=1,th.KEEP=1,th.NUM_PTS_TO_CHECK=10,Bp(uh.prototype,{getCoordinates:function(){return this._ptList.toArray(uh.COORDINATE_ARRAY_TYPE)},setPrecisionModel:function(a){this._precisionModel=a},addPt:function(a){var b=new Ic(a);if(this._precisionModel.makePrecise(b),this.isRedundant(b))return null;this._ptList.add(b)},reverse:function(){},addPts:function(a,b){if(b)for(var c=0;c<a.length;c++)this.addPt(a[c]);else for(var c=a.length-1;c>=0;c--)this.addPt(a[c])},isRedundant:function(a){if(this._ptList.size()<1)return!1;var b=this._ptList.get(this._ptList.size()-1);return a.distance(b)<this._minimimVertexDistance},toString:function(){return(new xe).createLineString(this.getCoordinates()).toString()},closeRing:function(){if(this._ptList.size()<1)return null;var a=new Ic(this._ptList.get(0)),b=this._ptList.get(this._ptList.size()-1);if(this._ptList.size()>=2&&this._ptList.get(this._ptList.size()-2),a.equals(b))return null;this._ptList.add(a)},setMinimumVertexDistance:function(a){this._minimimVertexDistance=a},interfaces_:function(){return[]},getClass:function(){return uh}}),uh.COORDINATE_ARRAY_TYPE=new Array(0).fill(null),Bp(vh.prototype,{addNextSegment:function(a,b){if(this._s0=this._s1,this._s1=this._s2,this._s2=a,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var c=Ee.computeOrientation(this._s0,this._s1,this._s2),d=c===Ee.CLOCKWISE&&this._side===Ff.LEFT||c===Ee.COUNTERCLOCKWISE&&this._side===Ff.RIGHT;0===c?this.addCollinear(b):d?this.addOutsideTurn(c,b):this.addInsideTurn(c,b)},addLineEndCap:function(a,b){var c=new Fe(a,b),d=new Fe;this.computeOffsetSegment(c,Ff.LEFT,this._distance,d);var e=new Fe;this.computeOffsetSegment(c,Ff.RIGHT,this._distance,e);var f=b.x-a.x,g=b.y-a.y,h=Math.atan2(g,f);switch(this._bufParams.getEndCapStyle()){case ph.CAP_ROUND:this._segList.addPt(d.p1),this.addFilletArc(b,h+Math.PI/2,h-Math.PI/2,Ee.CLOCKWISE,this._distance),this._segList.addPt(e.p1);break;case ph.CAP_FLAT:this._segList.addPt(d.p1),this._segList.addPt(e.p1);break;case ph.CAP_SQUARE:var i=new Ic;i.x=Math.abs(this._distance)*Math.cos(h),i.y=Math.abs(this._distance)*Math.sin(h);var j=new Ic(d.p1.x+i.x,d.p1.y+i.y),k=new Ic(e.p1.x+i.x,e.p1.y+i.y);this._segList.addPt(j),this._segList.addPt(k)}},getCoordinates:function(){return this._segList.getCoordinates()},addMitreJoin:function(a,b,c,d){var e=!0,f=null;try{f=cd.intersection(b.p0,b.p1,c.p0,c.p1);(d<=0?1:f.distance(a)/Math.abs(d))>this._bufParams.getMitreLimit()&&(e=!1)}catch(a){if(!(a instanceof Uc))throw a;f=new Ic(0,0),e=!1}e?this._segList.addPt(f):this.addLimitedMitreJoin(b,c,d,this._bufParams.getMitreLimit())},addFilletCorner:function(a,b,c,d,e){var f=b.x-a.x,g=b.y-a.y,h=Math.atan2(g,f),i=c.x-a.x,j=c.y-a.y,k=Math.atan2(j,i);d===Ee.CLOCKWISE?h<=k&&(h+=2*Math.PI):h>=k&&(h-=2*Math.PI),this._segList.addPt(b),this.addFilletArc(a,h,k,d,e),this._segList.addPt(c)},addOutsideTurn:function(a,b){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*vh.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===ph.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===ph.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(b&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,a,this._distance),this._segList.addPt(this._offset1.p0))},createSquare:function(a){this._segList.addPt(new Ic(a.x+this._distance,a.y+this._distance)),this._segList.addPt(new Ic(a.x+this._distance,a.y-this._distance)),this._segList.addPt(new Ic(a.x-this._distance,a.y-this._distance)),this._segList.addPt(new Ic(a.x-this._distance,a.y+this._distance)),this._segList.closeRing()},addSegments:function(a,b){this._segList.addPts(a,b)},addFirstSegment:function(){this._segList.addPt(this._offset1.p0)},addLastSegment:function(){this._segList.addPt(this._offset1.p1)},initSideSegments:function(a,b,c){this._s1=a,this._s2=b,this._side=c,this._seg1.setCoordinates(a,b),this.computeOffsetSegment(this._seg1,c,this._distance,this._offset1)},addLimitedMitreJoin:function(a,b,c,d){var e=this._seg0.p1,f=Rg.angle(e,this._seg0.p0),g=(Rg.angle(e,this._seg1.p1),Rg.angleBetweenOriented(this._seg0.p0,e,this._seg1.p1)),h=g/2,i=Rg.normalize(f+h),j=Rg.normalize(i+Math.PI),k=d*c,l=k*Math.abs(Math.sin(h)),m=c-l,n=e.x+k*Math.cos(j),o=e.y+k*Math.sin(j),p=new Ic(n,o),q=new Fe(e,p),r=q.pointAlongOffset(1,m),s=q.pointAlongOffset(1,-m);this._side===Ff.LEFT?(this._segList.addPt(r),this._segList.addPt(s)):(this._segList.addPt(s),this._segList.addPt(r))},computeOffsetSegment:function(a,b,c,d){var e=b===Ff.LEFT?1:-1,f=a.p1.x-a.p0.x,g=a.p1.y-a.p0.y,h=Math.sqrt(f*f+g*g),i=e*c*f/h,j=e*c*g/h;d.p0.x=a.p0.x-j,d.p0.y=a.p0.y+i,d.p1.x=a.p1.x-j,d.p1.y=a.p1.y+i},addFilletArc:function(a,b,c,d,e){var f=d===Ee.CLOCKWISE?-1:1,g=Math.abs(b-c),h=Math.trunc(g/this._filletAngleQuantum+.5);if(h<1)return null;var i=null,j=null;i=0,j=g/h;for(var k=i,l=new Ic;k<g;){var m=b+f*k;l.x=a.x+e*Math.cos(m),l.y=a.y+e*Math.sin(m),this._segList.addPt(l),k+=j}},addInsideTurn:function(a,b){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*vh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var c=new Ic((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(c);var d=new Ic((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(d)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},createCircle:function(a){var b=new Ic(a.x+this._distance,a.y);this._segList.addPt(b),this.addFilletArc(a,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},addBevelJoin:function(a,b){this._segList.addPt(a.p1),this._segList.addPt(b.p0)},init:function(a){this._distance=a,this._maxCurveSegmentError=a*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new uh,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(a*vh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(a){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===ph.JOIN_BEVEL||this._bufParams.getJoinStyle()===ph.JOIN_MITRE?(a&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Ee.CLOCKWISE,this._distance))},closeRing:function(){this._segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return vh}}),vh.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,vh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,vh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,vh.MAX_CLOSING_SEG_LEN_FACTOR=80,Bp(wh.prototype,{getOffsetCurve:function(a,b){if(this._distance=b,0===b)return null;var c=b<0,d=Math.abs(b),e=this.getSegGen(d);a.length<=1?this.computePointCurve(a[0],e):this.computeOffsetCurve(a,c,e);var f=e.getCoordinates();return c&&md.reverse(f),f},computeSingleSidedBufferCurve:function(a,b,c){var d=this.simplifyTolerance(this._distance);if(b){c.addSegments(a,!0);var e=th.simplify(a,-d),f=e.length-1;c.initSideSegments(e[f],e[f-1],Ff.LEFT),c.addFirstSegment();for(var g=f-2;g>=0;g--)c.addNextSegment(e[g],!0)}else{c.addSegments(a,!1);var h=th.simplify(a,d),i=h.length-1;c.initSideSegments(h[0],h[1],Ff.LEFT),c.addFirstSegment();for(var g=2;g<=i;g++)c.addNextSegment(h[g],!0)}c.addLastSegment(),c.closeRing()},computeRingBufferCurve:function(a,b,c){var d=this.simplifyTolerance(this._distance);b===Ff.RIGHT&&(d=-d);var e=th.simplify(a,d),f=e.length-1;c.initSideSegments(e[f-1],e[0],b);for(var g=1;g<=f;g++){var h=1!==g;c.addNextSegment(e[g],h)}c.closeRing()},computeLineBufferCurve:function(a,b){var c=this.simplifyTolerance(this._distance),d=th.simplify(a,c),e=d.length-1;b.initSideSegments(d[0],d[1],Ff.LEFT);for(var f=2;f<=e;f++)b.addNextSegment(d[f],!0);b.addLastSegment(),b.addLineEndCap(d[e-1],d[e]);var g=th.simplify(a,-c),h=g.length-1;b.initSideSegments(g[h],g[h-1],Ff.LEFT);for(var f=h-2;f>=0;f--)b.addNextSegment(g[f],!0);b.addLastSegment(),b.addLineEndCap(g[1],g[0]),b.closeRing()},computePointCurve:function(a,b){switch(this._bufParams.getEndCapStyle()){case ph.CAP_ROUND:b.createCircle(a);break;case ph.CAP_SQUARE:b.createSquare(a)}},getLineCurve:function(a,b){if(this._distance=b,b<0&&!this._bufParams.isSingleSided())return null;if(0===b)return null;var c=Math.abs(b),d=this.getSegGen(c);if(a.length<=1)this.computePointCurve(a[0],d);else if(this._bufParams.isSingleSided()){var e=b<0;this.computeSingleSidedBufferCurve(a,e,d)}else this.computeLineBufferCurve(a,d);return d.getCoordinates()},getBufferParameters:function(){return this._bufParams},simplifyTolerance:function(a){return a*this._bufParams.getSimplifyFactor()},getRingCurve:function(a,b,c){if(this._distance=c,a.length<=2)return this.getLineCurve(a,c);if(0===c)return wh.copyCoordinates(a);var d=this.getSegGen(c);return this.computeRingBufferCurve(a,b,d),d.getCoordinates()},computeOffsetCurve:function(a,b,c){var d=this.simplifyTolerance(this._distance);if(b){var e=th.simplify(a,-d),f=e.length-1;c.initSideSegments(e[f],e[f-1],Ff.LEFT),c.addFirstSegment();for(var g=f-2;g>=0;g--)c.addNextSegment(e[g],!0)}else{var h=th.simplify(a,d),i=h.length-1;c.initSideSegments(h[0],h[1],Ff.LEFT),c.addFirstSegment();for(var g=2;g<=i;g++)c.addNextSegment(h[g],!0)}c.addLastSegment()},getSegGen:function(a){return new vh(this._precisionModel,this._bufParams,a)},interfaces_:function(){return[]},getClass:function(){return wh}}),wh.copyCoordinates=function(a){for(var b=new Array(a.length).fill(null),c=0;c<b.length;c++)b[c]=new Ic(a[c]);return b},Bp(xh.prototype,{findStabbedSegments:function(){if(1===arguments.length){for(var a=arguments[0],b=new Qc,c=this._subgraphs.iterator();c.hasNext();){var d=c.next(),e=d.getEnvelope();a.y<e.getMinY()||a.y>e.getMaxY()||this.findStabbedSegments(a,d.getDirectedEdges(),b)}return b}if(3===arguments.length)if(Ep(arguments[2],Nc)&&arguments[0]instanceof Ic&&arguments[1]instanceof Pf)for(var a=arguments[0],f=arguments[1],b=arguments[2],g=f.getEdge().getCoordinates(),c=0;c<g.length-1;c++){this._seg.p0=g[c],this._seg.p1=g[c+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse();var h=Math.max(this._seg.p0.x,this._seg.p1.x);if(!(h<a.x)&&!(this._seg.isHorizontal()||a.y<this._seg.p0.y||a.y>this._seg.p1.y||Ee.computeOrientation(this._seg.p0,this._seg.p1,a)===Ee.RIGHT)){var i=f.getDepth(Ff.LEFT);this._seg.p0.equals(g[c])||(i=f.getDepth(Ff.RIGHT));var j=new yh(this._seg,i);b.add(j)}}else if(Ep(arguments[2],Nc)&&arguments[0]instanceof Ic&&Ep(arguments[1],Nc))for(var a=arguments[0],k=arguments[1],b=arguments[2],c=k.iterator();c.hasNext();){var l=c.next();l.isForward()&&this.findStabbedSegments(a,l,b)}},getDepth:function(a){var b=this.findStabbedSegments(a);return 0===b.size()?0:Qp.min(b)._leftDepth},interfaces_:function(){return[]},getClass:function(){return xh}}),Bp(yh.prototype,{compareTo:function(a){var b=a;if(this._upwardSeg.minX()>=b._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=b._upwardSeg.minX())return-1;var c=this._upwardSeg.orientationIndex(b._upwardSeg);return 0!==c?c:(c=-1*b._upwardSeg.orientationIndex(this._upwardSeg),0!==c?c:this._upwardSeg.compareTo(b._upwardSeg))},compareX:function(a,b){var c=a.p0.compareTo(b.p0);return 0!==c?c:a.p1.compareTo(b.p1)},toString:function(){return this._upwardSeg.toString()},interfaces_:function(){return[Bc]},getClass:function(){return yh}}),xh.DepthSegment=yh,Bp(zh.prototype,{addPoint:function(a){if(this._distance<=0)return null;var b=a.getCoordinates(),c=this._curveBuilder.getLineCurve(b,this._distance);this.addCurve(c,Vc.EXTERIOR,Vc.INTERIOR)},addPolygon:function(a){var b=this._distance,c=Ff.LEFT;this._distance<0&&(b=-this._distance,c=Ff.RIGHT);var d=a.getExteriorRing(),e=md.removeRepeatedPoints(d.getCoordinates());if(this._distance<0&&this.isErodedCompletely(d,this._distance))return null;if(this._distance<=0&&e.length<3)return null;this.addPolygonRing(e,b,c,Vc.EXTERIOR,Vc.INTERIOR);for(var f=0;f<a.getNumInteriorRing();f++){var g=a.getInteriorRingN(f),h=md.removeRepeatedPoints(g.getCoordinates());this._distance>0&&this.isErodedCompletely(g,-this._distance)||this.addPolygonRing(h,b,Ff.opposite(c),Vc.INTERIOR,Vc.EXTERIOR)}},isTriangleErodedCompletely:function(a,b){var c=new Sg(a[0],a[1],a[2]),d=c.inCentre();return Ee.distancePointLine(d,c.p0,c.p1)<Math.abs(b)},addLineString:function(a){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var b=md.removeRepeatedPoints(a.getCoordinates()),c=this._curveBuilder.getLineCurve(b,this._distance);this.addCurve(c,Vc.EXTERIOR,Vc.INTERIOR)},addCurve:function(a,b,c){if(null===a||a.length<2)return null;var d=new qf(a,new Hf(0,Vc.BOUNDARY,b,c));this._curveList.add(d)},getCurves:function(){return this.add(this._inputGeom),this._curveList},addPolygonRing:function(a,b,c,d,e){if(0===b&&a.length<Yd.MINIMUM_VALID_SIZE)return null;var f=d,g=e;a.length>=Yd.MINIMUM_VALID_SIZE&&Ee.isCCW(a)&&(f=e,g=d,c=Ff.opposite(c));var h=this._curveBuilder.getRingCurve(a,c,b);this.addCurve(h,f,g)},add:function(a){if(a.isEmpty())return null;if(a instanceof Wd)this.addPolygon(a);else if(a instanceof Sd)this.addLineString(a);else if(a instanceof Ud)this.addPoint(a);else if(a instanceof Xd)this.addCollection(a);else if(a instanceof Hd)this.addCollection(a);else if(a instanceof Zd)this.addCollection(a);else{if(!(a instanceof Gd))throw new UnsupportedOperationException(a.getClass().getName());this.addCollection(a)}},isErodedCompletely:function(a,b){var c=a.getCoordinates();if(c.length<4)return b<0;if(4===c.length)return this.isTriangleErodedCompletely(c,b);var d=a.getEnvelopeInternal(),e=Math.min(d.getHeight(),d.getWidth());return b<0&&2*Math.abs(b)>e},addCollection:function(a){for(var b=0;b<a.getNumGeometries();b++){var c=a.getGeometryN(b);this.add(c)}},interfaces_:function(){return[]},getClass:function(){return zh}}),Bp(Ah.prototype,{isTrivialIntersection:function(a,b,c,d){if(a===c&&1===this._li.getIntersectionNum()){if(Ah.isAdjacentSegments(b,d))return!0;if(a.isClosed()){var e=a.size()-1;if(0===b&&d===e||0===d&&b===e)return!0}}return!1},getProperIntersectionPoint:function(){return this._properIntersectionPoint},hasProperInteriorIntersection:function(){return this._hasProperInterior},getLineIntersector:function(){return this._li},hasProperIntersection:function(){return this._hasProper},processIntersections:function(a,b,c,d){if(a===c&&b===d)return null;this.numTests++;var e=a.getCoordinates()[b],f=a.getCoordinates()[b+1],g=c.getCoordinates()[d],h=c.getCoordinates()[d+1];this._li.computeIntersection(e,f,g,h),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(a,b,c,d)||(this._hasIntersection=!0,a.addIntersections(this._li,b,0),c.addIntersections(this._li,d,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this._hasInterior},interfaces_:function(){return[Af]},getClass:function(){return Ah}}),Ah.isAdjacentSegments=function(a,b){return 1===Math.abs(a-b)},Bp(Bh.prototype,{setWorkingPrecisionModel:function(a){this._workingPrecisionModel=a},insertUniqueEdge:function(a){var b=this._edgeList.findEqualEdge(a);if(null!==b){var c=b.getLabel(),d=a.getLabel();b.isPointwiseEqual(a)||(d=new Hf(a.getLabel()),d.flip()),c.merge(d);var e=Bh.depthDelta(d),f=b.getDepthDelta(),g=f+e;b.setDepthDelta(g)}else this._edgeList.add(a),a.setDepthDelta(Bh.depthDelta(a.getLabel()))},buildSubgraphs:function(a,b){for(var c=new Qc,d=a.iterator();d.hasNext();){var e=d.next(),f=e.getRightmostCoordinate(),g=new xh(c),h=g.getDepth(f);e.computeDepth(h),e.findResultEdges(),c.add(e),b.add(e.getDirectedEdges(),e.getNodes())}},createSubgraphs:function(a){for(var b=new Qc,c=a.getNodes().iterator();c.hasNext();){var d=c.next();if(!d.isVisited()){var e=new sh;e.create(d),b.add(e)}}return Qp.sort(b,Qp.reverseOrder()),b},createEmptyResultGeometry:function(){return this._geomFact.createPolygon()},getNoder:function(a){if(null!==this._workingNoder)return this._workingNoder;var b=new xf,c=new Be;return c.setPrecisionModel(a),b.setSegmentIntersector(new Ah(c)),b},buffer:function(a,b){var c=this._workingPrecisionModel;null===c&&(c=a.getPrecisionModel()),this._geomFact=a.getFactory();var d=new wh(c,this._bufParams),e=new zh(a,b,d),f=e.getCurves();if(f.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(f,c),this._graph=new Rf(new Zf),this._graph.addEdges(this._edgeList.getEdges());var g=this.createSubgraphs(this._graph),h=new Sf(this._geomFact);this.buildSubgraphs(g,h);var i=h.getPolygons();return i.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(i)},computeNodedEdges:function(a,b){var c=this.getNoder(b);c.computeNodes(a);for(var d=c.getNodedSubstrings(),e=d.iterator();e.hasNext();){var f=e.next(),g=f.getCoordinates();if(2!==g.length||!g[0].equals2D(g[1])){var h=f.getData(),i=new sg(f.getCoordinates(),new Hf(h));this.insertUniqueEdge(i)}}},setNoder:function(a){this._workingNoder=a},interfaces_:function(){return[]},getClass:function(){return Bh}}),Bh.depthDelta=function(a){var b=a.getLocation(0,Ff.LEFT),c=a.getLocation(0,Ff.RIGHT);return b===Vc.INTERIOR&&c===Vc.EXTERIOR?1:b===Vc.EXTERIOR&&c===Vc.INTERIOR?-1:0},Bh.convertSegStrings=function(a){for(var b=new xe,c=new Qc;a.hasNext();){var d=a.next(),e=b.createLineString(d.getCoordinates());c.add(e)}return b.buildGeometry(c)},Bp(Ch.prototype,{checkEndPtVertexIntersections:function(){if(0===arguments.length)for(var a=this._segStrings.iterator();a.hasNext();){var b=a.next(),c=b.getCoordinates();this.checkEndPtVertexIntersections(c[0],this._segStrings),this.checkEndPtVertexIntersections(c[c.length-1],this._segStrings)}else if(2===arguments.length)for(var d=arguments[0],e=arguments[1],a=e.iterator();a.hasNext();)for(var b=a.next(),c=b.getCoordinates(),f=1;f<c.length-1;f++)if(c[f].equals(d))throw new Fc("found endpt/interior pt intersection at index "+f+" :pt "+d)},checkInteriorIntersections:function(){if(0===arguments.length)for(var a=this._segStrings.iterator();a.hasNext();)for(var b=a.next(),c=this._segStrings.iterator();c.hasNext();){var d=c.next();this.checkInteriorIntersections(b,d)}else if(2===arguments.length)for(var b=arguments[0],d=arguments[1],e=b.getCoordinates(),f=d.getCoordinates(),g=0;g<e.length-1;g++)for(var h=0;h<f.length-1;h++)this.checkInteriorIntersections(b,g,d,h);else if(4===arguments.length){var i=arguments[0],j=arguments[1],k=arguments[2],l=arguments[3];if(i===k&&j===l)return null;var m=i.getCoordinates()[j],n=i.getCoordinates()[j+1],o=k.getCoordinates()[l],p=k.getCoordinates()[l+1];if(this._li.computeIntersection(m,n,o,p),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,m,n)||this.hasInteriorIntersection(this._li,o,p)))throw new Fc("found non-noded intersection at "+m+"-"+n+" and "+o+"-"+p)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(0===arguments.length)for(var a=this._segStrings.iterator();a.hasNext();){var b=a.next();this.checkCollapses(b)}else if(1===arguments.length)for(var b=arguments[0],c=b.getCoordinates(),a=0;a<c.length-2;a++)this.checkCollapse(c[a],c[a+1],c[a+2])},hasInteriorIntersection:function(a,b,c){for(var d=0;d<a.getIntersectionNum();d++){var e=a.getIntersection(d);if(!e.equals(b)&&!e.equals(c))return!0}return!1},checkCollapse:function(a,b,c){if(a.equals(c))throw new Fc("found non-noded collapse at "+Ch.fact.createLineString([a,b,c]))},interfaces_:function(){return[]},getClass:function(){return Ch}}),Ch.fact=new xe,Bp(Dh.prototype,{intersectsScaled:function(a,b){var c=Math.min(a.x,b.x),d=Math.max(a.x,b.x),e=Math.min(a.y,b.y),f=Math.max(a.y,b.y),g=this._maxx<c||this._minx>d||this._maxy<e||this._miny>f;if(g)return!1;var h=this.intersectsToleranceSquare(a,b);return Hc.isTrue(!(g&&h),"Found bad envelope test"),h},initCorners:function(a){var b=.5;this._minx=a.x-b,this._maxx=a.x+b,this._miny=a.y-b,this._maxy=a.y+b,this._corner[0]=new Ic(this._maxx,this._maxy),this._corner[1]=new Ic(this._minx,this._maxy),this._corner[2]=new Ic(this._minx,this._miny),this._corner[3]=new Ic(this._maxx,this._miny)},intersects:function(a,b){return 1===this._scaleFactor?this.intersectsScaled(a,b):(this.copyScaled(a,this._p0Scaled),this.copyScaled(b,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},scale:function(a){return Math.round(a*this._scaleFactor)},getCoordinate:function(){return this._originalPt},copyScaled:function(a,b){b.x=this.scale(a.x),b.y=this.scale(a.y)},getSafeEnvelope:function(){if(null===this._safeEnv){var a=Dh.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Sc(this._originalPt.x-a,this._originalPt.x+a,this._originalPt.y-a,this._originalPt.y+a)}return this._safeEnv},intersectsPixelClosure:function(a,b){return this._li.computeIntersection(a,b,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(a,b,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(a,b,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(a,b,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},intersectsToleranceSquare:function(a,b){var c=!1,d=!1;return this._li.computeIntersection(a,b,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(a,b,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(c=!0),this._li.computeIntersection(a,b,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(d=!0),this._li.computeIntersection(a,b,this._corner[3],this._corner[0]),!!this._li.isProper()||(!(!c||!d)||(!!a.equals(this._pt)||!!b.equals(this._pt))))))},addSnappedNode:function(a,b){var c=a.getCoordinate(b),d=a.getCoordinate(b+1);return!!this.intersects(c,d)&&(a.addIntersection(this.getCoordinate(),b),!0)},interfaces_:function(){return[]},getClass:function(){return Dh}}),Dh.SAFE_ENV_EXPANSION_FACTOR=.75,Bp(Eh.prototype,{snap:function(){if(1===arguments.length){var a=arguments[0];return this.snap(a,null,-1)}if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=a.getSafeEnvelope(),e=new Fh(a,b,c);return this._index.query(d,{interfaces_:function(){return[bf]},visitItem:function(a){a.select(d,e)}}),e.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return Eh}}),Cp(Fh,Eg),Bp(Fh.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(2!==arguments.length)return Eg.prototype.select.apply(this,arguments);var a=arguments[0],b=arguments[1],c=a.getContext();if(null!==this._parentEdge&&c===this._parentEdge&&b===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(c,b)},interfaces_:function(){return[]},getClass:function(){return Fh}}),Eh.HotPixelSnapAction=Fh,Bp(Gh.prototype,{processIntersections:function(a,b,c,d){if(a===c&&b===d)return null;var e=a.getCoordinates()[b],f=a.getCoordinates()[b+1],g=c.getCoordinates()[d],h=c.getCoordinates()[d+1];if(this._li.computeIntersection(e,f,g,h),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var i=0;i<this._li.getIntersectionNum();i++)this._interiorIntersections.add(this._li.getIntersection(i));a.addIntersections(this._li,b,0),c.addIntersections(this._li,d,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this._interiorIntersections},interfaces_:function(){return[Af]},getClass:function(){return Gh}}),Bp(Hh.prototype,{checkCorrectness:function(a){var b=qf.getNodedSubstrings(a),c=new Ch(b);try{c.checkValid()}catch(a){if(!(a instanceof Tc))throw a;a.printStackTrace()}},getNodedSubstrings:function(){return qf.getNodedSubstrings(this._nodedSegStrings)},snapRound:function(a,b){var c=this.findInteriorIntersections(a,b);this.computeIntersectionSnaps(c),this.computeVertexSnaps(a)},findInteriorIntersections:function(a,b){var c=new Gh(b);return this._noder.setSegmentIntersector(c),this._noder.computeNodes(a),c.getInteriorIntersections()},computeVertexSnaps:function(){if(Ep(arguments[0],Lc))for(var a=arguments[0],b=a.iterator();b.hasNext();){var c=b.next();this.computeVertexSnaps(c)}else if(arguments[0]instanceof qf)for(var d=arguments[0],e=d.getCoordinates(),f=0;f<e.length;f++){var g=new Dh(e[f],this._scaleFactor,this._li),h=this._pointSnapper.snap(g,d,f);h&&d.addIntersection(e[f],f)}},computeNodes:function(a){this._nodedSegStrings=a,this._noder=new xf,this._pointSnapper=new Eh(this._noder.getIndex()),this.snapRound(a,this._li)},computeIntersectionSnaps:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next(),d=new Dh(c,this._scaleFactor,this._li);this._pointSnapper.snap(d)}},interfaces_:function(){return[vf]},getClass:function(){return Hh}}),Bp(Ih.prototype,{bufferFixedPrecision:function(a){var b=new mh(new Hh(new ve(1)),a.getScale()),c=new Bh(this._bufParams);c.setWorkingPrecisionModel(a),c.setNoder(b),this._resultGeometry=c.buffer(this._argGeom,this._distance)},bufferReducedPrecision:function(){if(0===arguments.length){for(var a=Ih.MAX_PRECISION_DIGITS;a>=0;a--){try{this.bufferReducedPrecision(a)}catch(a){if(!(a instanceof zf))throw a;this._saveException=a}if(null!==this._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var b=arguments[0],c=Ih.precisionScaleFactor(this._argGeom,this._distance,b),d=new ve(c);this.bufferFixedPrecision(d)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var a=this._argGeom.getFactory().getPrecisionModel();a.getType()===ve.FIXED?this.bufferFixedPrecision(a):this.bufferReducedPrecision()},setQuadrantSegments:function(a){this._bufParams.setQuadrantSegments(a)},bufferOriginalPrecision:function(){try{var a=new Bh(this._bufParams);this._resultGeometry=a.buffer(this._argGeom,this._distance)}catch(a){if(!(a instanceof Fc))throw a;this._saveException=a}},getResultGeometry:function(a){return this._distance=a,this.computeGeometry(),this._resultGeometry},setEndCapStyle:function(a){this._bufParams.setEndCapStyle(a)},interfaces_:function(){return[]},getClass:function(){return Ih}}),Ih.bufferOp=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new Ih(a),d=c.getResultGeometry(b);return d}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof fd&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1],e=arguments[2],f=new Ih(a);f.setQuadrantSegments(e);var d=f.getResultGeometry(b);return d}if(arguments[2]instanceof ph&&arguments[0]instanceof fd&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1],g=arguments[2],f=new Ih(a,g),d=f.getResultGeometry(b);return d}}else if(4===arguments.length){var a=arguments[0],b=arguments[1],e=arguments[2],h=arguments[3],f=new Ih(a);f.setQuadrantSegments(e),f.setEndCapStyle(h);var d=f.getResultGeometry(b);return d}},Ih.precisionScaleFactor=function(a,b,c){var d=a.getEnvelopeInternal(),e=Wc.max(Math.abs(d.getMaxX()),Math.abs(d.getMaxY()),Math.abs(d.getMinX()),Math.abs(d.getMinY())),f=b>0?b:0,g=e+2*f,h=Math.trunc(Math.log(g)/Math.log(10)+1),i=c-h;return Math.pow(10,i)},Ih.CAP_ROUND=ph.CAP_ROUND,Ih.CAP_BUTT=ph.CAP_FLAT,Ih.CAP_FLAT=ph.CAP_FLAT,Ih.CAP_SQUARE=ph.CAP_SQUARE,Ih.MAX_PRECISION_DIGITS=12,Bp(Jh.prototype,{filter:function(a){a instanceof Wd&&this._comps.add(a)},interfaces_:function(){return[Ed]},getClass:function(){return Jh}}),Jh.getPolygons=function(){if(1===arguments.length){var a=arguments[0];return Jh.getPolygons(a,new Qc)}if(2===arguments.length){var a=arguments[0],b=arguments[1];return a instanceof Wd?b.add(a):a instanceof Gd&&a.apply(new Jh(b)),b}},Bp(Kh.prototype,{isInsideArea:function(){return this._segIndex===Kh.INSIDE_AREA},getCoordinate:function(){return this._pt},getGeometryComponent:function(){return this._component},getSegmentIndex:function(){return this._segIndex},interfaces_:function(){return[]},getClass:function(){return Kh}}),Kh.INSIDE_AREA=-1,Bp(Lh.prototype,{filter:function(a){a instanceof Ud&&this._pts.add(a)},interfaces_:function(){return[Ed]},getClass:function(){return Lh}}),Lh.getPoints=function(){if(1===arguments.length){var a=arguments[0];return a instanceof Ud?Qp.singletonList(a):Lh.getPoints(a,new Qc)}if(2===arguments.length){var a=arguments[0],b=arguments[1];return a instanceof Ud?b.add(a):a instanceof Gd&&a.apply(new Lh(b)),b}},Bp(Mh.prototype,{filter:function(a){(a instanceof Ud||a instanceof Sd||a instanceof Wd)&&this._locations.add(new Kh(a,0,a.getCoordinate()))},interfaces_:function(){return[Ed]},getClass:function(){return Mh}}),Mh.getLocations=function(a){var b=new Qc;return a.apply(new Mh(b)),b},Bp(Nh.prototype,{computeContainmentDistance:function(){if(0===arguments.length){var a=new Array(2).fill(null);if(this.computeContainmentDistance(0,a),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,a)}else if(2===arguments.length){var b=arguments[0],a=arguments[1],c=1-b,d=Jh.getPolygons(this._geom[b]);if(d.size()>0){var e=Mh.getLocations(this._geom[c]);if(this.computeContainmentDistance(e,d,a),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[c]=a[0],this._minDistanceLocation[b]=a[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Ep(arguments[0],Nc)&&Ep(arguments[1],Nc)){for(var f=arguments[0],d=arguments[1],a=arguments[2],g=0;g<f.size();g++)for(var h=f.get(g),i=0;i<d.size();i++)if(this.computeContainmentDistance(h,d.get(i),a),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Kh&&arguments[1]instanceof Wd){var j=arguments[0],k=arguments[1],a=arguments[2],l=j.getCoordinate();if(Vc.EXTERIOR!==this._ptLocator.locate(l,k))return this._minDistance=0,a[0]=j,a[1]=new Kh(k,l),null}},computeMinDistanceLinesPoints:function(a,b,c){for(var d=0;d<a.size();d++)for(var e=a.get(d),f=0;f<b.size();f++){var g=b.get(f);if(this.computeMinDistance(e,g,c),this._minDistance<=this._terminateDistance)return null}},computeFacetDistance:function(){var a=new Array(2).fill(null),b=ig.getLines(this._geom[0]),c=ig.getLines(this._geom[1]),d=Lh.getPoints(this._geom[0]),e=Lh.getPoints(this._geom[1]);return this.computeMinDistanceLines(b,c,a),this.updateMinDistance(a,!1),this._minDistance<=this._terminateDistance?null:(a[0]=null,a[1]=null,this.computeMinDistanceLinesPoints(b,e,a),this.updateMinDistance(a,!1),this._minDistance<=this._terminateDistance?null:(a[0]=null,a[1]=null,this.computeMinDistanceLinesPoints(c,d,a),this.updateMinDistance(a,!0),this._minDistance<=this._terminateDistance?null:(a[0]=null,a[1]=null,this.computeMinDistancePoints(d,e,a),void this.updateMinDistance(a,!1))))},nearestLocations:function(){return this.computeMinDistance(),this._minDistanceLocation},updateMinDistance:function(a,b){if(null===a[0])return null;b?(this._minDistanceLocation[0]=a[1],this._minDistanceLocation[1]=a[0]):(this._minDistanceLocation[0]=a[0],this._minDistanceLocation[1]=a[1])},nearestPoints:function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},computeMinDistance:function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Sd&&arguments[1]instanceof Ud){var a=arguments[0],b=arguments[1],c=arguments[2];if(a.getEnvelopeInternal().distance(b.getEnvelopeInternal())>this._minDistance)return null;for(var d=a.getCoordinates(),e=b.getCoordinate(),f=0;f<d.length-1;f++){var g=Ee.distancePointLine(e,d[f],d[f+1]);if(g<this._minDistance){this._minDistance=g;var h=new Fe(d[f],d[f+1]),i=h.closestPoint(e);c[0]=new Kh(a,f,i),c[1]=new Kh(b,0,e)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Sd&&arguments[1]instanceof Sd){var j=arguments[0],k=arguments[1],c=arguments[2];if(j.getEnvelopeInternal().distance(k.getEnvelopeInternal())>this._minDistance)return null;for(var d=j.getCoordinates(),l=k.getCoordinates(),f=0;f<d.length-1;f++)for(var m=0;m<l.length-1;m++){var g=Ee.distanceLineLine(d[f],d[f+1],l[m],l[m+1]);if(g<this._minDistance){this._minDistance=g;var n=new Fe(d[f],d[f+1]),o=new Fe(l[m],l[m+1]),p=n.closestPoints(o);c[0]=new Kh(j,f,p[0]),c[1]=new Kh(k,m,p[1])}if(this._minDistance<=this._terminateDistance)return null}}},computeMinDistancePoints:function(a,b,c){for(var d=0;d<a.size();d++)for(var e=a.get(d),f=0;f<b.size();f++){var g=b.get(f),h=e.getCoordinate().distance(g.getCoordinate());if(h<this._minDistance&&(this._minDistance=h,c[0]=new Kh(e,0,e.getCoordinate()),c[1]=new Kh(g,0,g.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},distance:function(){if(null===this._geom[0]||null===this._geom[1])throw new zc("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},computeMinDistanceLines:function(a,b,c){for(var d=0;d<a.size();d++)for(var e=a.get(d),f=0;f<b.size();f++){var g=b.get(f);if(this.computeMinDistance(e,g,c),this._minDistance<=this._terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return Nh}}),Nh.distance=function(a,b){return new Nh(a,b).distance()},Nh.isWithinDistance=function(a,b,c){return new Nh(a,b,c).distance()<=c},Nh.nearestPoints=function(a,b){return new Nh(a,b).nearestPoints()},Bp(Oh.prototype,{getCoordinates:function(){if(null===this._coordinates){for(var a=0,b=0,c=new Rc,d=this._directedEdges.iterator();d.hasNext();){var e=d.next();e.getEdgeDirection()?a++:b++,c.add(e.getEdge().getLine().getCoordinates(),!1,e.getEdgeDirection())}this._coordinates=c.toCoordinateArray(),b>a&&md.reverse(this._coordinates)}return this._coordinates},toLineString:function(){return this._factory.createLineString(this.getCoordinates())},add:function(a){this._directedEdges.add(a)},interfaces_:function(){return[]},getClass:function(){return Oh}}),Bp(Ph.prototype,{setVisited:function(a){this._isVisited=a},isMarked:function(){return this._isMarked},setData:function(a){this._data=a},getData:function(){return this._data},setMarked:function(a){this._isMarked=a},getContext:function(){return this._data},isVisited:function(){return this._isVisited},setContext:function(a){this._data=a},interfaces_:function(){return[]},getClass:function(){return Ph}}),Ph.getComponentWithVisitedState=function(a,b){for(;a.hasNext();){var c=a.next();if(c.isVisited()===b)return c}return null},Ph.setVisited=function(a,b){for(;a.hasNext();){a.next().setVisited(b)}},Ph.setMarked=function(a,b){for(;a.hasNext();){a.next().setMarked(b)}},Cp(Qh,Ph),Bp(Qh.prototype,{isRemoved:function(){return null===this._parentEdge},compareDirection:function(a){return this._quadrant>a._quadrant?1:this._quadrant<a._quadrant?-1:Ee.computeOrientation(a._p0,a._p1,this._p1)},getCoordinate:function(){return this._from.getCoordinate()},print:function(a){var b=this.getClass().getName(),c=b.lastIndexOf("."),d=b.substring(c+1);a.print("  "+d+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+this._angle)},getDirectionPt:function(){return this._p1},getAngle:function(){return this._angle},compareTo:function(a){var b=a;return this.compareDirection(b)},getFromNode:function(){return this._from},getSym:function(){return this._sym},setEdge:function(a){this._parentEdge=a},remove:function(){this._sym=null,this._parentEdge=null},getEdge:function(){return this._parentEdge},getQuadrant:function(){return this._quadrant},setSym:function(a){this._sym=a},getToNode:function(){return this._to},getEdgeDirection:function(){return this._edgeDirection},interfaces_:function(){return[Bc]},getClass:function(){return Qh}}),Qh.toEdges=function(a){for(var b=new Qc,c=a.iterator();c.hasNext();)b.add(c.next()._parentEdge);return b},Cp(Rh,Qh),Bp(Rh.prototype,{getNext:function(){return 2!==this.getToNode().getDegree()?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(Hc.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))},interfaces_:function(){return[]},getClass:function(){return Rh}}),Cp(Sh,Ph),Bp(Sh.prototype,{isRemoved:function(){return null===this._dirEdge},setDirectedEdges:function(a,b){this._dirEdge=[a,b],a.setEdge(this),b.setEdge(this),a.setSym(b),b.setSym(a),a.getFromNode().addOutEdge(a),b.getFromNode().addOutEdge(b)},getDirEdge:function(){if(Number.isInteger(arguments[0])){var a=arguments[0];return this._dirEdge[a]}if(arguments[0]instanceof Uh){var b=arguments[0];return this._dirEdge[0].getFromNode()===b?this._dirEdge[0]:this._dirEdge[1].getFromNode()===b?this._dirEdge[1]:null}},remove:function(){this._dirEdge=null},getOppositeNode:function(a){return this._dirEdge[0].getFromNode()===a?this._dirEdge[0].getToNode():this._dirEdge[1].getFromNode()===a?this._dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return Sh}}),Bp(Th.prototype,{getNextEdge:function(a){var b=this.getIndex(a);return this._outEdges.get(this.getIndex(b+1))},getCoordinate:function(){var a=this.iterator();return a.hasNext()?a.next().getCoordinate():null},iterator:function(){return this.sortEdges(),this._outEdges.iterator()},sortEdges:function(){this._sorted||(Qp.sort(this._outEdges),this._sorted=!0)},remove:function(a){this._outEdges.remove(a)},getEdges:function(){return this.sortEdges(),this._outEdges},getNextCWEdge:function(a){var b=this.getIndex(a);return this._outEdges.get(this.getIndex(b-1))},getIndex:function(){if(arguments[0]instanceof Sh){var a=arguments[0];this.sortEdges();for(var b=0;b<this._outEdges.size();b++){var c=this._outEdges.get(b);if(c.getEdge()===a)return b}return-1}if(arguments[0]instanceof Qh){var d=arguments[0];this.sortEdges();for(var b=0;b<this._outEdges.size();b++){var c=this._outEdges.get(b);if(c===d)return b}return-1}if(Number.isInteger(arguments[0])){var b=arguments[0],e=b%this._outEdges.size();return e<0&&(e+=this._outEdges.size()),e}},add:function(a){this._outEdges.add(a),this._sorted=!1},getDegree:function(){return this._outEdges.size()},interfaces_:function(){return[]},getClass:function(){return Th}}),Cp(Uh,Ph),Bp(Uh.prototype,{isRemoved:function(){return null===this._pt},addOutEdge:function(a){this._deStar.add(a)},getCoordinate:function(){return this._pt},getOutEdges:function(){return this._deStar},remove:function(){if(0===arguments.length)this._pt=null;else if(1===arguments.length){var a=arguments[0];this._deStar.remove(a)}},getIndex:function(a){return this._deStar.getIndex(a)},getDegree:function(){return this._deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return Uh}}),Uh.getEdgesBetween=function(a,b){var c=Qh.toEdges(a.getOutEdges().getEdges()),d=new sd(c),e=Qh.toEdges(b.getOutEdges().getEdges());return d.retainAll(e),d},Cp(Vh,Sh),Bp(Vh.prototype,{getLine:function(){return this._line},interfaces_:function(){return[]},getClass:function(){return Vh}}),Bp(Wh.prototype,{find:function(a){return this._nodeMap.get(a)},iterator:function(){return this._nodeMap.values().iterator()},remove:function(a){return this._nodeMap.remove(a)},values:function(){return this._nodeMap.values()},add:function(a){return this._nodeMap.put(a.getCoordinate(),a),a},interfaces_:function(){return[]},getClass:function(){return Wh}}),Bp(Xh.prototype,{findNodesOfDegree:function(a){for(var b=new Qc,c=this.nodeIterator();c.hasNext();){var d=c.next();d.getDegree()===a&&b.add(d)}return b},dirEdgeIterator:function(){return this._dirEdges.iterator()},edgeIterator:function(){return this._edges.iterator()},remove:function(){if(arguments[0]instanceof Sh){var a=arguments[0];this.remove(a.getDirEdge(0)),this.remove(a.getDirEdge(1)),this._edges.remove(a),a.remove()}else if(arguments[0]instanceof Qh){var b=arguments[0],c=b.getSym();null!==c&&c.setSym(null),b.getFromNode().remove(b),b.remove(),this._dirEdges.remove(b)}else if(arguments[0]instanceof Uh){for(var d=arguments[0],e=d.getOutEdges().getEdges(),f=e.iterator();f.hasNext();){var b=f.next(),c=b.getSym();null!==c&&this.remove(c),this._dirEdges.remove(b);var a=b.getEdge();null!==a&&this._edges.remove(a)}this._nodeMap.remove(d.getCoordinate()),d.remove()}},findNode:function(a){return this._nodeMap.find(a)},getEdges:function(){return this._edges},nodeIterator:function(){return this._nodeMap.iterator()},contains:function(){if(arguments[0]instanceof Sh){var a=arguments[0];return this._edges.contains(a)}if(arguments[0]instanceof Qh){var b=arguments[0];return this._dirEdges.contains(b)}},add:function(){if(arguments[0]instanceof Uh){var a=arguments[0];this._nodeMap.add(a)}else if(arguments[0]instanceof Sh){var b=arguments[0];this._edges.add(b),this.add(b.getDirEdge(0)),this.add(b.getDirEdge(1))}else if(arguments[0]instanceof Qh){var c=arguments[0];this._dirEdges.add(c)}},getNodes:function(){return this._nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return Xh}}),Cp(Yh,Xh),Bp(Yh.prototype,{addEdge:function(a){if(a.isEmpty())return null;var b=md.removeRepeatedPoints(a.getCoordinates());if(b.length<=1)return null;var c=b[0],d=b[b.length-1],e=this.getNode(c),f=this.getNode(d),g=new Rh(e,f,b[1],!0),h=new Rh(f,e,b[b.length-2],!1),i=new Vh(a);i.setDirectedEdges(g,h),this.add(i)},getNode:function(a){var b=this.findNode(a);return null===b&&(b=new Uh(a),this.add(b)),b},interfaces_:function(){return[]},getClass:function(){return Yh}}),Bp(Zh.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var a=this._graph.getNodes().iterator();a.hasNext();){var b=a.next();b.isMarked()||(Hc.isTrue(2===b.getDegree()),this.buildEdgeStringsStartingAt(b),b.setMarked(!0))}},buildEdgeStringsForNonDegree2Nodes:function(){for(var a=this._graph.getNodes().iterator();a.hasNext();){var b=a.next();2!==b.getDegree()&&(this.buildEdgeStringsStartingAt(b),b.setMarked(!0))}},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this._mergedLineStrings},buildEdgeStringsStartingAt:function(a){for(var b=a.getOutEdges().iterator();b.hasNext();){var c=b.next();c.getEdge().isMarked()||this._edgeStrings.add(this.buildEdgeStringStartingWith(c))}},merge:function(){if(null!==this._mergedLineStrings)return null;Ph.setMarked(this._graph.nodeIterator(),!1),Ph.setMarked(this._graph.edgeIterator(),!1),this._edgeStrings=new Qc,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this._mergedLineStrings=new Qc;for(var a=this._edgeStrings.iterator();a.hasNext();){var b=a.next();this._mergedLineStrings.add(b.toLineString())}},buildEdgeStringStartingWith:function(a){var b=new Oh(this._factory),c=a;do{b.add(c),c.getEdge().setMarked(!0),c=c.getNext()}while(null!==c&&c!==a);return b},add:function(){if(arguments[0]instanceof fd){var a=arguments[0];a.apply({interfaces_:function(){return[ed]},filter:function(a){a instanceof Sd&&this.add(a)}})}else if(Ep(arguments[0],Lc)){var b=arguments[0];this._mergedLineStrings=null;for(var c=b.iterator();c.hasNext();){var a=c.next();this.add(a)}}else if(arguments[0]instanceof Sd){var d=arguments[0];null===this._factory&&(this._factory=d.getFactory()),this._graph.addEdge(d)}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return Zh}}),Cp($h,Qh),Bp($h.prototype,{getNext:function(){return this._next},isInRing:function(){return null!==this._edgeRing},setRing:function(a){this._edgeRing=a},setLabel:function(a){this._label=a},getLabel:function(){return this._label},setNext:function(a){this._next=a},getRing:function(){return this._edgeRing},interfaces_:function(){return[]},getClass:function(){return $h}}),Cp(_h,Sh),Bp(_h.prototype,{getLine:function(){return this._line},interfaces_:function(){return[]},getClass:function(){return _h}}),Bp(ai.prototype,{visitInteriorRing:function(a,b){var c=a.getCoordinates(),d=c[0],e=ai.findDifferentPoint(c,d),f=b.findEdgeInSameDirection(d,e),g=b.findEdgeEnd(f),h=null;g.getLabel().getLocation(0,Ff.RIGHT)===Vc.INTERIOR?h=g:g.getSym().getLabel().getLocation(0,Ff.RIGHT)===Vc.INTERIOR&&(h=g.getSym()),Hc.isTrue(null!==h,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(h)},visitShellInteriors:function(a,b){if(a instanceof Wd){var c=a;this.visitInteriorRing(c.getExteriorRing(),b)}if(a instanceof Zd)for(var d=a,e=0;e<d.getNumGeometries();e++){var c=d.getGeometryN(e);this.visitInteriorRing(c.getExteriorRing(),b)}},getCoordinate:function(){return this._disconnectedRingcoord},setInteriorEdgesInResult:function(a){for(var b=a.getEdgeEnds().iterator();b.hasNext();){var c=b.next();c.getLabel().getLocation(0,Ff.RIGHT)===Vc.INTERIOR&&c.setInResult(!0)}},visitLinkedDirectedEdges:function(a){var b=a,c=a;do{Hc.isTrue(null!==c,"found null Directed Edge"),c.setVisited(!0),c=c.getNext()}while(c!==b)},buildEdgeRings:function(a){for(var b=new Qc,c=a.iterator();c.hasNext();){var d=c.next();if(d.isInResult()&&null===d.getEdgeRing()){var e=new Kf(d,this._geometryFactory);e.linkDirectedEdgesForMinimalEdgeRings();var f=e.buildMinimalRings();b.addAll(f)}}return b},hasUnvisitedShellEdge:function(a){for(var b=0;b<a.size();b++){var c=a.get(b);if(!c.isHole()){var d=c.getEdges(),e=d.get(0);if(e.getLabel().getLocation(0,Ff.RIGHT)===Vc.INTERIOR)for(var f=0;f<d.size();f++)if(e=d.get(f),!e.isVisited())return this._disconnectedRingcoord=e.getCoordinate(),!0}}return!1},isInteriorsConnected:function(){var a=new Qc;this._geomGraph.computeSplitEdges(a);var b=new Rf(new Zf);b.addEdges(a),this.setInteriorEdgesInResult(b),b.linkResultDirectedEdges();var c=this.buildEdgeRings(b.getEdgeEnds());return this.visitShellInteriors(this._geomGraph.getGeometry(),b),!this.hasUnvisitedShellEdge(c)},interfaces_:function(){return[]},getClass:function(){return ai}}),ai.findDifferentPoint=function(a,b){for(var c=0;c<a.length;c++)if(!a[c].equals(b))return a[c];return null},Bp(bi.prototype,{createEdgeEndForNext:function(a,b,c,d){var e=c.segmentIndex+1;if(e>=a.getNumPoints()&&null===d)return null;var f=a.getCoordinate(e);null!==d&&d.segmentIndex===c.segmentIndex&&(f=d.coord);var g=new Of(a,c.coord,f,new Hf(a.getLabel()));b.add(g)},createEdgeEndForPrev:function(a,b,c,d){var e=c.segmentIndex;if(0===c.dist){if(0===e)return null;e--}var f=a.getCoordinate(e);null!==d&&d.segmentIndex>=e&&(f=d.coord);var g=new Hf(a.getLabel());g.flip();var h=new Of(a,c.coord,f,g);b.add(h)},computeEdgeEnds:function(){if(1===arguments.length){for(var a=arguments[0],b=new Qc,c=a;c.hasNext();){var d=c.next();this.computeEdgeEnds(d,b)}return b}if(2===arguments.length){var e=arguments[0],b=arguments[1],f=e.getEdgeIntersectionList();f.addEndpoints();var g=f.iterator(),h=null,i=null;if(!g.hasNext())return null;var j=g.next();do{h=i,i=j,j=null,g.hasNext()&&(j=g.next()),null!==i&&(this.createEdgeEndForPrev(e,b,i,h),this.createEdgeEndForNext(e,b,i,j))}while(null!==i)}},interfaces_:function(){return[]},getClass:function(){return bi}}),Cp(ci,Of),Bp(ci.prototype,{insert:function(a){this._edgeEnds.add(a)},print:function(a){a.println("EdgeEndBundle--\x3e Label: "+this._label);for(var b=this.iterator();b.hasNext();){b.next().print(a),a.println()}},iterator:function(){return this._edgeEnds.iterator()},getEdgeEnds:function(){return this._edgeEnds},computeLabelOn:function(a,b){for(var c=0,d=!1,e=this.iterator();e.hasNext();){var f=e.next(),g=f.getLabel().getLocation(a);g===Vc.BOUNDARY&&c++,g===Vc.INTERIOR&&(d=!0)}var g=Vc.NONE;d&&(g=Vc.INTERIOR),c>0&&(g=tg.determineBoundary(b,c)),this._label.setLocation(a,g)},computeLabelSide:function(a,b){for(var c=this.iterator();c.hasNext();){var d=c.next();if(d.getLabel().isArea()){var e=d.getLabel().getLocation(a,b);if(e===Vc.INTERIOR)return this._label.setLocation(a,b,Vc.INTERIOR),null;e===Vc.EXTERIOR&&this._label.setLocation(a,b,Vc.EXTERIOR)}}},getLabel:function(){return this._label},computeLabelSides:function(a){this.computeLabelSide(a,Ff.LEFT),this.computeLabelSide(a,Ff.RIGHT)},updateIM:function(a){sg.updateIM(this._label,a)},computeLabel:function(a){for(var b=!1,c=this.iterator();c.hasNext();){c.next().getLabel().isArea()&&(b=!0)}this._label=b?new Hf(Vc.NONE,Vc.NONE,Vc.NONE):new Hf(Vc.NONE);for(var d=0;d<2;d++)this.computeLabelOn(d,a),b&&this.computeLabelSides(d)},interfaces_:function(){return[]},getClass:function(){return ci}}),Cp(di,Xf),Bp(di.prototype,{updateIM:function(a){for(var b=this.iterator();b.hasNext();){b.next().updateIM(a)}},insert:function(a){var b=this._edgeMap.get(a);null===b?(b=new ci(a),this.insertEdgeEnd(a,b)):b.insert(a)},interfaces_:function(){return[]},getClass:function(){return di}}),Cp(ei,Mf),Bp(ei.prototype,{updateIMFromEdges:function(a){this._edges.updateIM(a)},computeIM:function(a){a.setAtLeastIfValid(this._label.getLocation(0),this._label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return ei}}),Cp(fi,Qf),Bp(fi.prototype,{createNode:function(a){return new ei(a,new di)},interfaces_:function(){return[]},getClass:function(){return fi}}),Bp(gi.prototype,{insertEdgeEnds:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();this._nodes.add(c)}},getNodeIterator:function(){return this._nodes.iterator()},copyNodesAndLabels:function(a,b){for(var c=a.getNodeIterator();c.hasNext();){var d=c.next();this._nodes.addNode(d.getCoordinate()).setLabel(b,d.getLabel().getLocation(b))}},build:function(a){this.computeIntersectionNodes(a,0),this.copyNodesAndLabels(a,0);var b=new bi,c=b.computeEdgeEnds(a.getEdgeIterator());this.insertEdgeEnds(c)},computeIntersectionNodes:function(a,b){for(var c=a.getEdgeIterator();c.hasNext();)for(var d=c.next(),e=d.getLabel().getLocation(b),f=d.getEdgeIntersectionList().iterator();f.hasNext();){var g=f.next(),h=this._nodes.addNode(g.coord);e===Vc.BOUNDARY?h.setLabelBoundary(b):h.getLabel().isNull(b)&&h.setLabel(b,Vc.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return gi}}),Bp(hi.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var a=this._nodeGraph.getNodeIterator();a.hasNext();){var b=a.next();if(!b.getEdges().isAreaLabelsConsistent(this._geomGraph))return this._invalidPoint=b.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this._invalidPoint},hasDuplicateRings:function(){for(var a=this._nodeGraph.getNodeIterator();a.hasNext();)for(var b=a.next(),c=b.getEdges().iterator();c.hasNext();){var d=c.next();if(d.getEdgeEnds().size()>1)return this._invalidPoint=d.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var a=this._geomGraph.computeSelfNodes(this._li,!0,!0);return a.hasProperIntersection()?(this._invalidPoint=a.getProperIntersectionPoint(),!1):(this._nodeGraph.build(this._geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return hi}}),Bp(ii.prototype,{buildIndex:function(){this._index=new jf;for(var a=0;a<this._rings.size();a++){var b=this._rings.get(a),c=b.getEnvelopeInternal();this._index.insert(c,b)}},getNestedPoint:function(){return this._nestedPt},isNonNested:function(){this.buildIndex();for(var a=0;a<this._rings.size();a++)for(var b=this._rings.get(a),c=b.getCoordinates(),d=this._index.query(b.getEnvelopeInternal()),e=0;e<d.size();e++){var f=d.get(e),g=f.getCoordinates();if(b!==f&&b.getEnvelopeInternal().intersects(f.getEnvelopeInternal())){var h=ki.findPtNotNode(c,f,this._graph);if(null!==h){var i=Ee.isPointInRing(h,g);if(i)return this._nestedPt=h,!1}}}return!0},add:function(a){this._rings.add(a),this._totalEnv.expandToInclude(a.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return ii}}),Bp(ji.prototype,{getErrorType:function(){return this._errorType},getMessage:function(){return ji.errMsg[this._errorType]},getCoordinate:function(){return this._pt},toString:function(){var a="";return null!==this._pt&&(a=" at or near point "+this._pt),this.getMessage()+a},interfaces_:function(){return[]},getClass:function(){return ji}}),ji.ERROR=0,ji.REPEATED_POINT=1,ji.HOLE_OUTSIDE_SHELL=2,ji.NESTED_HOLES=3,ji.DISCONNECTED_INTERIOR=4,ji.SELF_INTERSECTION=5,ji.RING_SELF_INTERSECTION=6,ji.NESTED_SHELLS=7,ji.DUPLICATE_RINGS=8,ji.TOO_FEW_POINTS=9,ji.INVALID_COORDINATE=10,ji.RING_NOT_CLOSED=11,ji.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"],Bp(ki.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var a=arguments[0],b=0;b<a.length;b++)if(!ki.isValid(a[b]))return this._validErr=new ji(ji.INVALID_COORDINATE,a[b]),null}else if(arguments[0]instanceof Wd){var c=arguments[0];if(this.checkInvalidCoordinates(c.getExteriorRing().getCoordinates()),null!==this._validErr)return null;for(var b=0;b<c.getNumInteriorRing();b++)if(this.checkInvalidCoordinates(c.getInteriorRingN(b).getCoordinates()),null!==this._validErr)return null}},checkHolesNotNested:function(a,b){for(var c=new ii(b),d=0;d<a.getNumInteriorRing();d++){var e=a.getInteriorRingN(d);c.add(e)}c.isNonNested()||(this._validErr=new ji(ji.NESTED_HOLES,c.getNestedPoint()))},checkConsistentArea:function(a){var b=new hi(a);if(!b.isNodeConsistentArea())return this._validErr=new ji(ji.SELF_INTERSECTION,b.getInvalidPoint()),null;b.hasDuplicateRings()&&(this._validErr=new ji(ji.DUPLICATE_RINGS,b.getInvalidPoint()))},isValid:function(){return this.checkValid(this._parentGeometry),null===this._validErr},checkShellInsideHole:function(a,b,c){var d=a.getCoordinates(),e=b.getCoordinates(),f=ki.findPtNotNode(d,b,c);if(null!==f){if(!Ee.isPointInRing(f,e))return f}var g=ki.findPtNotNode(e,a,c);if(null!==g){return Ee.isPointInRing(g,d)?g:null}return Hc.shouldNeverReachHere("points in shell and hole appear to be equal"),null},checkNoSelfIntersectingRings:function(a){for(var b=a.getEdgeIterator();b.hasNext();){var c=b.next();if(this.checkNoSelfIntersectingRing(c.getEdgeIntersectionList()),null!==this._validErr)return null}},checkConnectedInteriors:function(a){var b=new ai(a);b.isInteriorsConnected()||(this._validErr=new ji(ji.DISCONNECTED_INTERIOR,b.getCoordinate()))},checkNoSelfIntersectingRing:function(a){for(var b=new Bd,c=!0,d=a.iterator();d.hasNext();){var e=d.next();if(c)c=!1;else{if(b.contains(e.coord))return this._validErr=new ji(ji.RING_SELF_INTERSECTION,e.coord),null;b.add(e.coord)}}},checkHolesInShell:function(a,b){for(var c=a.getExteriorRing(),d=new Pg(c),e=0;e<a.getNumInteriorRing();e++){var f=a.getInteriorRingN(e),g=ki.findPtNotNode(f.getCoordinates(),c,b);if(null===g)return null;if(!d.isInside(g))return this._validErr=new ji(ji.HOLE_OUTSIDE_SHELL,g),null}},checkTooFewPoints:function(a){if(a.hasTooFewPoints())return this._validErr=new ji(ji.TOO_FEW_POINTS,a.getInvalidPoint()),null},getValidationError:function(){return this.checkValid(this._parentGeometry),this._validErr},checkValid:function(){if(arguments[0]instanceof Ud){var a=arguments[0];this.checkInvalidCoordinates(a.getCoordinates())}else if(arguments[0]instanceof Xd){var a=arguments[0];this.checkInvalidCoordinates(a.getCoordinates())}else if(arguments[0]instanceof Yd){var a=arguments[0];if(this.checkInvalidCoordinates(a.getCoordinates()),null!==this._validErr)return null;if(this.checkClosedRing(a),null!==this._validErr)return null;var b=new tg(0,a);if(this.checkTooFewPoints(b),null!==this._validErr)return null;var c=new Be;b.computeSelfNodes(c,!0,!0),this.checkNoSelfIntersectingRings(b)}else if(arguments[0]instanceof Sd){var a=arguments[0];if(this.checkInvalidCoordinates(a.getCoordinates()),null!==this._validErr)return null;var b=new tg(0,a);this.checkTooFewPoints(b)}else if(arguments[0]instanceof Wd){var a=arguments[0];if(this.checkInvalidCoordinates(a),null!==this._validErr)return null;if(this.checkClosedRings(a),null!==this._validErr)return null;var b=new tg(0,a);if(this.checkTooFewPoints(b),null!==this._validErr)return null;if(this.checkConsistentArea(b),null!==this._validErr)return null;if(!this._isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(b),null!==this._validErr))return null;if(this.checkHolesInShell(a,b),null!==this._validErr)return null;if(this.checkHolesNotNested(a,b),null!==this._validErr)return null;this.checkConnectedInteriors(b)}else if(arguments[0]instanceof Zd){for(var a=arguments[0],d=0;d<a.getNumGeometries();d++){var e=a.getGeometryN(d);if(this.checkInvalidCoordinates(e),null!==this._validErr)return null;if(this.checkClosedRings(e),null!==this._validErr)return null}var b=new tg(0,a);if(this.checkTooFewPoints(b),null!==this._validErr)return null;if(this.checkConsistentArea(b),null!==this._validErr)return null;if(!this._isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(b),null!==this._validErr))return null;for(var d=0;d<a.getNumGeometries();d++){var e=a.getGeometryN(d);if(this.checkHolesInShell(e,b),null!==this._validErr)return null}for(var d=0;d<a.getNumGeometries();d++){var e=a.getGeometryN(d);if(this.checkHolesNotNested(e,b),null!==this._validErr)return null}if(this.checkShellsNotNested(a,b),null!==this._validErr)return null;this.checkConnectedInteriors(b)}else if(arguments[0]instanceof Gd)for(var f=arguments[0],d=0;d<f.getNumGeometries();d++){var a=f.getGeometryN(d);if(this.checkValid(a),null!==this._validErr)return null}else if(arguments[0]instanceof fd){var a=arguments[0];if(this._validErr=null,a.isEmpty())return null;if(a instanceof Ud)this.checkValid(a);else if(a instanceof Xd)this.checkValid(a);else if(a instanceof Yd)this.checkValid(a);else if(a instanceof Sd)this.checkValid(a);else if(a instanceof Wd)this.checkValid(a);else if(a instanceof Zd)this.checkValid(a);else{if(!(a instanceof Gd))throw new UnsupportedOperationException(a.getClass().getName());this.checkValid(a)}}},setSelfTouchingRingFormingHoleValid:function(a){this._isSelfTouchingRingFormingHoleValid=a},checkShellNotNested:function(a,b,c){var d=a.getCoordinates(),e=b.getExteriorRing(),f=e.getCoordinates(),g=ki.findPtNotNode(d,e,c);if(null===g)return null;if(!Ee.isPointInRing(g,f))return null;if(b.getNumInteriorRing()<=0)return this._validErr=new ji(ji.NESTED_SHELLS,g),null;for(var h=null,i=0;i<b.getNumInteriorRing();i++){var j=b.getInteriorRingN(i);if(null===(h=this.checkShellInsideHole(a,j,c)))return null}this._validErr=new ji(ji.NESTED_SHELLS,h)},checkClosedRings:function(a){if(this.checkClosedRing(a.getExteriorRing()),null!==this._validErr)return null;for(var b=0;b<a.getNumInteriorRing();b++)if(this.checkClosedRing(a.getInteriorRingN(b)),null!==this._validErr)return null},checkClosedRing:function(a){if(!a.isClosed()){var b=null;a.getNumPoints()>=1&&(b=a.getCoordinateN(0)),this._validErr=new ji(ji.RING_NOT_CLOSED,b)}},checkShellsNotNested:function(a,b){for(var c=0;c<a.getNumGeometries();c++)for(var d=a.getGeometryN(c),e=d.getExteriorRing(),f=0;f<a.getNumGeometries();f++)if(c!==f){var g=a.getGeometryN(f);if(this.checkShellNotNested(e,g,b),null!==this._validErr)return null}},interfaces_:function(){return[]},getClass:function(){return ki}}),ki.findPtNotNode=function(a,b,c){for(var d=c.findEdge(b),e=d.getEdgeIntersectionList(),f=0;f<a.length;f++){var g=a[f];if(!e.isIntersection(g))return g}return null},ki.isValid=function(){if(arguments[0]instanceof fd){return new ki(arguments[0]).isValid()}if(arguments[0]instanceof Ic){var a=arguments[0];return!Ac.isNaN(a.x)&&(!Ac.isInfinite(a.x)&&(!Ac.isNaN(a.y)&&!Ac.isInfinite(a.y)))}},Bp(li.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(null===this._ringPts){for(var a=new Rc,b=this._deList.iterator();b.hasNext();){var c=b.next(),d=c.getEdge();li.addEdge(d.getLine().getCoordinates(),c.getEdgeDirection(),a)}this._ringPts=a.toCoordinateArray()}return this._ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),!(this._ringPts.length<=3)&&(this.getRing(),ki.isValid(this._ring))},build:function(a){var b=a;do{this.add(b),b.setRing(this),b=b.getNext(),Hc.isTrue(null!==b,"found null DE in ring"),Hc.isTrue(b===a||!b.isInRing(),"found DE already in ring")}while(b!==a)},isOuterHole:function(){return!!this._isHole&&!this.hasShell()},getPolygon:function(){var a=null;if(null!==this._holes){a=new Array(this._holes.size()).fill(null);for(var b=0;b<this._holes.size();b++)a[b]=this._holes.get(b)}return this._factory.createPolygon(this._ring,a)},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){if(arguments[0]instanceof Yd){var a=arguments[0];null===this._holes&&(this._holes=new Qc),this._holes.add(a)}else if(arguments[0]instanceof li){var b=arguments[0];b.setShell(this);var a=b.getRing();null===this._holes&&(this._holes=new Qc),this._holes.add(a)}},setIncluded:function(a){this._isIncluded=a,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var a=0;a<this._deList.size();a++){var b=this._deList.get(a),c=b.getSym().getRing();if(c.isOuterHole())return c}return null},computeHole:function(){var a=this.getRing();this._isHole=Ee.isCCW(a.getCoordinates())},hasShell:function(){return null!==this._shell},isOuterShell:function(){return null!==this.getOuterHole()},getLineString:function(){return this.getCoordinates(),this._factory.createLineString(this._ringPts)},toString:function(){return ze.toLineString(new de(this.getCoordinates()))},getShell:function(){return this.isHole()?this._shell:this},add:function(a){this._deList.add(a)},getRing:function(){if(null!==this._ring)return this._ring;this.getCoordinates(),this._ringPts.length<3&&bd.out.println(this._ringPts);try{this._ring=this._factory.createLinearRing(this._ringPts)}catch(a){if(!(a instanceof Tc))throw a;bd.out.println(this._ringPts)}return this._ring},updateIncluded:function(){if(this.isHole())return null;for(var a=0;a<this._deList.size();a++){var b=this._deList.get(a),c=b.getSym().getRing().getShell();if(null!==c&&c.isIncludedSet())return this.setIncluded(!c.isIncluded()),null}},setShell:function(a){this._shell=a},setProcessed:function(a){this._isProcessed=a},interfaces_:function(){return[]},getClass:function(){return li}}),li.findDirEdgesInRing=function(a){var b=a,c=new Qc;do{c.add(b),b=b.getNext(),Hc.isTrue(null!==b,"found null DE in ring"),Hc.isTrue(b===a||!b.isInRing(),"found DE already in ring")}while(b!==a);return c},li.addEdge=function(a,b,c){if(b)for(var d=0;d<a.length;d++)c.add(a[d],!1);else for(var d=a.length-1;d>=0;d--)c.add(a[d],!1)},li.findEdgeRingContaining=function(a,b){for(var c=a.getRing(),d=c.getEnvelopeInternal(),e=c.getCoordinateN(0),f=null,g=null,h=b.iterator();h.hasNext();){var i=h.next(),j=i.getRing(),k=j.getEnvelopeInternal();if(!k.equals(d)&&k.contains(d)){e=md.ptNotInList(c.getCoordinates(),j.getCoordinates());var l=!1;Ee.isPointInRing(e,j.getCoordinates())&&(l=!0),l&&(null===f||g.contains(k))&&(f=i,g=f.getRing().getEnvelopeInternal())}}return f},Bp(mi.prototype,{compare:function(a,b){var c=a,d=b;return c.getRing().getEnvelope().compareTo(d.getRing().getEnvelope())},interfaces_:function(){return[Dc]},getClass:function(){return mi}}),li.EnvelopeComparator=mi,Cp(ni,Xh),Bp(ni.prototype,{findEdgeRing:function(a){var b=new li(this._factory);return b.build(a),b},computeDepthParity:function(){if(0===arguments.length)for(;;){var a=null;if(null===a)return null;this.computeDepthParity(a)}else if(1===arguments.length)var a=arguments[0]},computeNextCWEdges:function(){for(var a=this.nodeIterator();a.hasNext();){var b=a.next();ni.computeNextCWEdges(b)}},addEdge:function(a){if(a.isEmpty())return null;var b=md.removeRepeatedPoints(a.getCoordinates());if(b.length<2)return null;var c=b[0],d=b[b.length-1],e=this.getNode(c),f=this.getNode(d),g=new $h(e,f,b[1],!0),h=new $h(f,e,b[b.length-2],!1),i=new _h(a);i.setDirectedEdges(g,h),this.add(i)},deleteCutEdges:function(){this.computeNextCWEdges(),ni.findLabeledEdgeRings(this._dirEdges);for(var a=new Qc,b=this._dirEdges.iterator();b.hasNext();){var c=b.next();if(!c.isMarked()){var d=c.getSym();if(c.getLabel()===d.getLabel()){c.setMarked(!0),d.setMarked(!0);var e=c.getEdge();a.add(e.getLine())}}}return a},getEdgeRings:function(){this.computeNextCWEdges(),ni.label(this._dirEdges,-1);var a=ni.findLabeledEdgeRings(this._dirEdges);this.convertMaximalToMinimalEdgeRings(a);for(var b=new Qc,c=this._dirEdges.iterator();c.hasNext();){var d=c.next();if(!d.isMarked()&&!d.isInRing()){var e=this.findEdgeRing(d);b.add(e)}}return b},getNode:function(a){var b=this.findNode(a);return null===b&&(b=new Uh(a),this.add(b)),b},convertMaximalToMinimalEdgeRings:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next(),d=c.getLabel(),e=ni.findIntersectionNodes(c,d);if(null!==e)for(var f=e.iterator();f.hasNext();){var g=f.next();ni.computeNextCCWEdges(g,d)}}},deleteDangles:function(){for(var a=this.findNodesOfDegree(1),b=new sd,c=new Je,d=a.iterator();d.hasNext();)c.push(d.next());for(;!c.isEmpty();){var e=c.pop();ni.deleteAllEdges(e);for(var f=e.getOutEdges().getEdges(),d=f.iterator();d.hasNext();){var g=d.next();g.setMarked(!0);var h=g.getSym();null!==h&&h.setMarked(!0);var i=g.getEdge();b.add(i.getLine());var j=g.getToNode();1===ni.getDegreeNonDeleted(j)&&c.push(j)}}return b},interfaces_:function(){return[]},getClass:function(){return ni}}),ni.findLabeledEdgeRings=function(a){for(var b=new Qc,c=1,d=a.iterator();d.hasNext();){var e=d.next();if(!e.isMarked()&&!(e.getLabel()>=0)){b.add(e);var f=li.findDirEdgesInRing(e);ni.label(f,c),c++}}return b},ni.getDegreeNonDeleted=function(a){for(var b=a.getOutEdges().getEdges(),c=0,d=b.iterator();d.hasNext();){d.next().isMarked()||c++}return c},ni.deleteAllEdges=function(a){for(var b=a.getOutEdges().getEdges(),c=b.iterator();c.hasNext();){var d=c.next();d.setMarked(!0);var e=d.getSym();null!==e&&e.setMarked(!0)}},ni.label=function(a,b){for(var c=a.iterator();c.hasNext();){c.next().setLabel(b)}},ni.computeNextCWEdges=function(a){for(var b=a.getOutEdges(),c=null,d=null,e=b.getEdges().iterator();e.hasNext();){var f=e.next();if(!f.isMarked()){if(null===c&&(c=f),null!==d){var g=d.getSym();g.setNext(f)}d=f}}if(null!==d){var g=d.getSym();g.setNext(c)}},ni.computeNextCCWEdges=function(a,b){for(var c=a.getOutEdges(),d=null,e=null,f=c.getEdges(),g=f.size()-1;g>=0;g--){var h=f.get(g),i=h.getSym(),j=null;h.getLabel()===b&&(j=h);var k=null;i.getLabel()===b&&(k=i),null===j&&null===k||(null!==k&&(e=k),null!==j&&(null!==e&&(e.setNext(j),e=null),null===d&&(d=j)))}null!==e&&(Hc.isTrue(null!==d),e.setNext(d))},ni.getDegree=function(a,b){for(var c=a.getOutEdges().getEdges(),d=0,e=c.iterator();e.hasNext();){e.next().getLabel()===b&&d++}return d},ni.findIntersectionNodes=function(a,b){var c=a,d=null;do{var e=c.getFromNode();ni.getDegree(e,b)>1&&(null===d&&(d=new Qc),d.add(e)),c=c.getNext(),Hc.isTrue(null!==c,"found null DE in ring"),Hc.isTrue(c===a||!c.isInRing(),"found DE already in ring")}while(c!==a);return d},Bp(oi.prototype,{getGeometry:function(){return null===this._geomFactory&&(this._geomFactory=new xe),this.polygonize(),this._extractOnlyPolygonal?this._geomFactory.buildGeometry(this._polyList):this._geomFactory.createGeometryCollection(xe.toGeometryArray(this._polyList))},getInvalidRingLines:function(){return this.polygonize(),this._invalidRingLines},findValidRings:function(a,b,c){for(var d=a.iterator();d.hasNext();){var e=d.next();e.isValid()?b.add(e):c.add(e.getLineString())}},polygonize:function(){if(null!==this._polyList)return null;if(this._polyList=new Qc,null===this._graph)return null;this._dangles=this._graph.deleteDangles(),this._cutEdges=this._graph.deleteCutEdges();var a=this._graph.getEdgeRings(),b=new Qc;this._invalidRingLines=new Qc,this._isCheckingRingsValid?this.findValidRings(a,b,this._invalidRingLines):b=a,this.findShellsAndHoles(b),oi.assignHolesToShells(this._holeList,this._shellList),Qp.sort(this._shellList,new li.EnvelopeComparator);var c=!0;this._extractOnlyPolygonal&&(oi.findDisjointShells(this._shellList),c=!1),this._polyList=oi.extractPolygons(this._shellList,c)},getDangles:function(){return this.polygonize(),this._dangles},getCutEdges:function(){return this.polygonize(),this._cutEdges},getPolygons:function(){return this.polygonize(),this._polyList},add:function(){if(Ep(arguments[0],Lc))for(var a=arguments[0],b=a.iterator();b.hasNext();){var c=b.next();this.add(c)}else if(arguments[0]instanceof Sd){var d=arguments[0];this._geomFactory=d.getFactory(),null===this._graph&&(this._graph=new ni(this._geomFactory)),this._graph.addEdge(d)}else if(arguments[0]instanceof fd){var e=arguments[0];e.apply(this._lineStringAdder)}},setCheckRingsValid:function(a){this._isCheckingRingsValid=a},findShellsAndHoles:function(a){this._holeList=new Qc,this._shellList=new Qc;for(var b=a.iterator();b.hasNext();){var c=b.next();c.computeHole(),c.isHole()?this._holeList.add(c):this._shellList.add(c)}},interfaces_:function(){return[]},getClass:function(){return oi}}),oi.findOuterShells=function(a){for(var b=a.iterator();b.hasNext();){var c=b.next(),d=c.getOuterHole();null===d||d.isProcessed()||(c.setIncluded(!0),d.setProcessed(!0))}},oi.extractPolygons=function(a,b){for(var c=new Qc,d=a.iterator();d.hasNext();){var e=d.next();(b||e.isIncluded())&&c.add(e.getPolygon())}return c},oi.assignHolesToShells=function(a,b){for(var c=a.iterator();c.hasNext();){var d=c.next();oi.assignHoleToShell(d,b)}},oi.assignHoleToShell=function(a,b){var c=li.findEdgeRingContaining(a,b);null!==c&&c.addHole(a)},oi.findDisjointShells=function(a){oi.findOuterShells(a);var b=null;do{b=!1;for(var c=a.iterator();c.hasNext();){var d=c.next();d.isIncludedSet()||(d.updateIncluded(),d.isIncludedSet()||(b=!0))}}while(b)},Bp(pi.prototype,{filter:function(a){a instanceof Sd&&this.p.add(a)},interfaces_:function(){return[ed]},getClass:function(){return pi}}),oi.LineStringAdder=pi,Bp(qi.prototype,{insertEdgeEnds:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();this._nodes.add(c)}},computeProperIntersectionIM:function(a,b){var c=this._arg[0].getGeometry().getDimension(),d=this._arg[1].getGeometry().getDimension(),e=a.hasProperIntersection(),f=a.hasProperInteriorIntersection();2===c&&2===d?e&&b.setAtLeast("212101212"):2===c&&1===d?(e&&b.setAtLeast("FFF0FFFF2"),f&&b.setAtLeast("1FFFFF1FF")):1===c&&2===d?(e&&b.setAtLeast("F0FFFFFF2"),f&&b.setAtLeast("1F1FFFFFF")):1===c&&1===d&&f&&b.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(a,b){for(var c=this._arg[a].getEdgeIterator();c.hasNext();){var d=c.next();d.isIsolated()&&(this.labelIsolatedEdge(d,b,this._arg[b].getGeometry()),this._isolatedEdges.add(d))}},labelIsolatedEdge:function(a,b,c){if(c.getDimension()>0){var d=this._ptLocator.locate(a.getCoordinate(),c);a.getLabel().setAllLocations(b,d)}else a.getLabel().setAllLocations(b,Vc.EXTERIOR)},computeIM:function(){var a=new Ge;if(a.set(Vc.EXTERIOR,Vc.EXTERIOR,2),!this._arg[0].getGeometry().getEnvelopeInternal().intersects(this._arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(a),a;this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1);var b=this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(b,a);var c=new bi,d=c.computeEdgeEnds(this._arg[0].getEdgeIterator());this.insertEdgeEnds(d);var e=c.computeEdgeEnds(this._arg[1].getEdgeIterator());return this.insertEdgeEnds(e),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(a),a},labelNodeEdges:function(){for(var a=this._nodes.iterator();a.hasNext();){a.next().getEdges().computeLabelling(this._arg)}},copyNodesAndLabels:function(a){for(var b=this._arg[a].getNodeIterator();b.hasNext();){var c=b.next();this._nodes.addNode(c.getCoordinate()).setLabel(a,c.getLabel().getLocation(a))}},labelIntersectionNodes:function(a){for(var b=this._arg[a].getEdgeIterator();b.hasNext();)for(var c=b.next(),d=c.getLabel().getLocation(a),e=c.getEdgeIntersectionList().iterator();e.hasNext();){var f=e.next(),g=this._nodes.find(f.coord);g.getLabel().isNull(a)&&(d===Vc.BOUNDARY?g.setLabelBoundary(a):g.setLabel(a,Vc.INTERIOR))}},labelIsolatedNode:function(a,b){var c=this._ptLocator.locate(a.getCoordinate(),this._arg[b].getGeometry());a.getLabel().setAllLocations(b,c)},computeIntersectionNodes:function(a){for(var b=this._arg[a].getEdgeIterator();b.hasNext();)for(var c=b.next(),d=c.getLabel().getLocation(a),e=c.getEdgeIntersectionList().iterator();e.hasNext();){var f=e.next(),g=this._nodes.addNode(f.coord);d===Vc.BOUNDARY?g.setLabelBoundary(a):g.getLabel().isNull(a)&&g.setLabel(a,Vc.INTERIOR)}},labelIsolatedNodes:function(){for(var a=this._nodes.iterator();a.hasNext();){var b=a.next(),c=b.getLabel();Hc.isTrue(c.getGeometryCount()>0,"node with empty label found"),b.isIsolated()&&(c.isNull(0)?this.labelIsolatedNode(b,0):this.labelIsolatedNode(b,1))}},updateIM:function(a){for(var b=this._isolatedEdges.iterator();b.hasNext();){b.next().updateIM(a)}for(var c=this._nodes.iterator();c.hasNext();){var d=c.next();d.updateIM(a),d.updateIMFromEdges(a)}},computeDisjointIM:function(a){var b=this._arg[0].getGeometry();b.isEmpty()||(a.set(Vc.INTERIOR,Vc.EXTERIOR,b.getDimension()),a.set(Vc.BOUNDARY,Vc.EXTERIOR,b.getBoundaryDimension()));var c=this._arg[1].getGeometry();c.isEmpty()||(a.set(Vc.EXTERIOR,Vc.INTERIOR,c.getDimension()),a.set(Vc.EXTERIOR,Vc.BOUNDARY,c.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return qi}}),Bp(ri.prototype,{isContainedInBoundary:function(a){if(a instanceof Wd)return!1;if(a instanceof Ud)return this.isPointContainedInBoundary(a);if(a instanceof Sd)return this.isLineStringContainedInBoundary(a);for(var b=0;b<a.getNumGeometries();b++){var c=a.getGeometryN(b);if(!this.isContainedInBoundary(c))return!1}return!0},isLineSegmentContainedInBoundary:function(a,b){if(a.equals(b))return this.isPointContainedInBoundary(a);if(a.x===b.x){if(a.x===this._rectEnv.getMinX()||a.x===this._rectEnv.getMaxX())return!0}else if(a.y===b.y&&(a.y===this._rectEnv.getMinY()||a.y===this._rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(a){for(var b=a.getCoordinateSequence(),c=new Ic,d=new Ic,e=0;e<b.size()-1;e++)if(b.getCoordinate(e,c),b.getCoordinate(e+1,d),!this.isLineSegmentContainedInBoundary(c,d))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof Ud){var a=arguments[0];return this.isPointContainedInBoundary(a.getCoordinate())}if(arguments[0]instanceof Ic){var b=arguments[0];return b.x===this._rectEnv.getMinX()||b.x===this._rectEnv.getMaxX()||b.y===this._rectEnv.getMinY()||b.y===this._rectEnv.getMaxY()}},contains:function(a){return!!this._rectEnv.contains(a.getEnvelopeInternal())&&!this.isContainedInBoundary(a)},interfaces_:function(){return[]},getClass:function(){return ri}}),ri.contains=function(a,b){return new ri(a).contains(b)},Bp(si.prototype,{intersects:function(a,b){var c=new Sc(a,b);if(!this._rectEnv.intersects(c))return!1;if(this._rectEnv.intersects(a))return!0;if(this._rectEnv.intersects(b))return!0;if(a.compareTo(b)>0){var d=a;a=b,b=d}var e=!1;return b.y>a.y&&(e=!0),e?this._li.computeIntersection(a,b,this._diagDown0,this._diagDown1):this._li.computeIntersection(a,b,this._diagUp0,this._diagUp1),!!this._li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return si}}),Bp(ti.prototype,{applyTo:function(a){for(var b=0;b<a.getNumGeometries()&&!this._isDone;b++){var c=a.getGeometryN(b);if(c instanceof Gd)this.applyTo(c);else if(this.visit(c),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return ti}}),Bp(ui.prototype,{intersects:function(a){if(!this._rectEnv.intersects(a.getEnvelopeInternal()))return!1;var b=new vi(this._rectEnv);if(b.applyTo(a),b.intersects())return!0;var c=new wi(this._rectangle);if(c.applyTo(a),c.containsPoint())return!0;var d=new xi(this._rectangle);return d.applyTo(a),!!d.intersects()},interfaces_:function(){return[]},getClass:function(){return ui}}),ui.intersects=function(a,b){return new ui(a).intersects(b)},Cp(vi,ti),Bp(vi.prototype,{isDone:function(){return!0===this._intersects},visit:function(a){var b=a.getEnvelopeInternal();return this._rectEnv.intersects(b)?this._rectEnv.contains(b)?(this._intersects=!0,null):b.getMinX()>=this._rectEnv.getMinX()&&b.getMaxX()<=this._rectEnv.getMaxX()?(this._intersects=!0,null):b.getMinY()>=this._rectEnv.getMinY()&&b.getMaxY()<=this._rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return vi}}),Cp(wi,ti),Bp(wi.prototype,{isDone:function(){return!0===this._containsPoint},visit:function(a){if(!(a instanceof Wd))return null;var b=a.getEnvelopeInternal();if(!this._rectEnv.intersects(b))return null;for(var c=new Ic,d=0;d<4;d++)if(this._rectSeq.getCoordinate(d,c),b.contains(c)&&Wf.containsPointInPolygon(c,a))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return wi}}),Cp(xi,ti),Bp(xi.prototype,{intersects:function(){return this._hasIntersection},isDone:function(){return!0===this._hasIntersection},visit:function(a){var b=a.getEnvelopeInternal();if(!this._rectEnv.intersects(b))return null;var c=ig.getLines(a);this.checkIntersectionWithLineStrings(c)},checkIntersectionWithLineStrings:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();if(this.checkIntersectionWithSegments(c),this._hasIntersection)return null}},checkIntersectionWithSegments:function(a){for(var b=a.getCoordinateSequence(),c=1;c<b.size();c++)if(b.getCoordinate(c-1,this._p0),b.getCoordinate(c,this._p1),this._rectIntersector.intersects(this._p0,this._p1))return this._hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return xi}}),Cp(yi,ug),Bp(yi.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return yi}}),yi.covers=function(a,b){return!!a.getEnvelopeInternal().covers(b.getEnvelopeInternal())&&(!!a.isRectangle()||yi.relate(a,b).isCovers())},yi.intersects=function(a,b){return!!a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())&&(a.isRectangle()?ui.intersects(a,b):b.isRectangle()?ui.intersects(b,a):yi.relate(a,b).isIntersects())},yi.touches=function(a,b){return!!a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())&&yi.relate(a,b).isTouches(a.getDimension(),b.getDimension())},yi.within=function(a,b){return b.contains(a)},yi.coveredBy=function(a,b){return yi.covers(b,a)},yi.relate=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new yi(a,b),d=c.getIntersectionMatrix();return d}if(3===arguments.length){if("string"==typeof arguments[2]&&arguments[0]instanceof fd&&arguments[1]instanceof fd){var e=arguments[0],f=arguments[1],g=arguments[2];return yi.relateWithCheck(e,f).matches(g)}if(Ep(arguments[2],hd)&&arguments[0]instanceof fd&&arguments[1]instanceof fd){var a=arguments[0],b=arguments[1],h=arguments[2],c=new yi(a,b,h),d=c.getIntersectionMatrix();return d}}},yi.overlaps=function(a,b){return!!a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())&&yi.relate(a,b).isOverlaps(a.getDimension(),b.getDimension())},yi.disjoint=function(a,b){return!a.intersects(b)},yi.relateWithCheck=function(a,b){return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),yi.relate(a,b)},yi.crosses=function(a,b){return!!a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())&&yi.relate(a,b).isCrosses(a.getDimension(),b.getDimension())},yi.contains=function(a,b){return!!a.getEnvelopeInternal().contains(b.getEnvelopeInternal())&&(a.isRectangle()?ri.contains(a,b):yi.relate(a,b).isContains())},Bp(zi.prototype,{extractElements:function(a,b){if(null===a)return null;for(var c=0;c<a.getNumGeometries();c++){var d=a.getGeometryN(c);this._skipEmpty&&d.isEmpty()||b.add(d)}},combine:function(){for(var a=new Qc,b=this._inputGeoms.iterator();b.hasNext();){var c=b.next();this.extractElements(c,a)}return 0===a.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(a)},interfaces_:function(){return[]},getClass:function(){return zi}}),zi.combine=function(){if(1===arguments.length){var a=arguments[0],b=new zi(a);return b.combine()}if(2===arguments.length){var c=arguments[0],d=arguments[1],b=new zi(zi.createList(c,d));return b.combine()}if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2],b=new zi(zi.createList(c,d,e));return b.combine()}},zi.extractFactory=function(a){return a.isEmpty()?null:a.iterator().next().getFactory()},zi.createList=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new Qc;return c.add(a),c.add(b),c}if(3===arguments.length){var a=arguments[0],b=arguments[1],d=arguments[2],c=new Qc;return c.add(a),c.add(b),c.add(d),c}},Bp(Ai.prototype,{reduceToGeometries:function(a){for(var b=new Qc,c=a.iterator();c.hasNext();){var d=c.next(),e=null;Ep(d,Nc)?e=this.unionTree(d):d instanceof fd&&(e=d),b.add(e)}return b},extractByEnvelope:function(a,b,c){for(var d=new Qc,e=0;e<b.getNumGeometries();e++){var f=b.getGeometryN(e);f.getEnvelopeInternal().intersects(a)?d.add(f):c.add(f)}return this._geomFactory.buildGeometry(d)},unionOptimized:function(a,b){var c=a.getEnvelopeInternal(),d=b.getEnvelopeInternal();if(!c.intersects(d)){return zi.combine(a,b)}if(a.getNumGeometries()<=1&&b.getNumGeometries()<=1)return this.unionActual(a,b);var e=c.intersection(d);return this.unionUsingEnvelopeIntersection(a,b,e)},union:function(){if(null===this._inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var a=new jf(Ai.STRTREE_NODE_CAPACITY),b=this._inputPolys.iterator();b.hasNext();){var c=b.next();a.insert(c.getEnvelopeInternal(),c)}this._inputPolys=null;var d=a.itemsTree();return this.unionTree(d)},binaryUnion:function(){if(1===arguments.length){var a=arguments[0];return this.binaryUnion(a,0,a.size())}if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];if(c-b<=1){var d=Ai.getGeometry(a,b);return this.unionSafe(d,null)}if(c-b==2)return this.unionSafe(Ai.getGeometry(a,b),Ai.getGeometry(a,b+1));var e=Math.trunc((c+b)/2),d=this.binaryUnion(a,b,e),f=this.binaryUnion(a,e,c);return this.unionSafe(d,f)}},repeatedUnion:function(a){for(var b=null,c=a.iterator();c.hasNext();){var d=c.next();b=null===b?d.copy():b.union(d)}return b},unionSafe:function(a,b){return null===a&&null===b?null:null===a?b.copy():null===b?a.copy():this.unionOptimized(a,b)},unionActual:function(a,b){return Ai.restrictToPolygons(a.union(b))},unionTree:function(a){var b=this.reduceToGeometries(a);return this.binaryUnion(b)},unionUsingEnvelopeIntersection:function(a,b,c){var d=new Qc,e=this.extractByEnvelope(c,a,d),f=this.extractByEnvelope(c,b,d),g=this.unionActual(e,f);return d.add(g),zi.combine(d)},bufferUnion:function(){if(1===arguments.length){var a=arguments[0],b=a.get(0).getFactory(),c=b.buildGeometry(a),d=c.buffer(0);return d}if(2===arguments.length){var e=arguments[0],f=arguments[1],b=e.getFactory(),c=b.createGeometryCollection([e,f]),d=c.buffer(0);return d}},interfaces_:function(){return[]},getClass:function(){return Ai}}),Ai.restrictToPolygons=function(a){if(Ep(a,Vd))return a;var b=Jh.getPolygons(a);return 1===b.size()?b.get(0):a.getFactory().createMultiPolygon(xe.toPolygonArray(b))},Ai.getGeometry=function(a,b){return b>=a.size()?null:a.get(b)},Ai.union=function(a){return new Ai(a).union()},Ai.STRTREE_NODE_CAPACITY=4,Bp(Bi.prototype,{union:function(){for(var a=new We,b=new Bd,c=0;c<this._pointGeom.getNumGeometries();c++){var d=this._pointGeom.getGeometryN(c),e=d.getCoordinate();a.locate(e,this._otherGeom)===Vc.EXTERIOR&&b.add(e)}if(0===b.size())return this._otherGeom;var f=null,g=md.toCoordinateArray(b);return f=1===g.length?this._geomFact.createPoint(g[0]):this._geomFact.createMultiPointFromCoords(g),zi.combine(f,this._otherGeom)},interfaces_:function(){return[]},getClass:function(){return Bi}}),Bi.union=function(a,b){return new Bi(a,b).union()},Bp(Ci.prototype,{filter:function(a){-1!==this._sortIndex&&a.getSortIndex()!==this._sortIndex||this._comps.add(a)},interfaces_:function(){return[Ed]},getClass:function(){return Ci}}),Ci.extract=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return Ci.extract(a,b,new Qc)}if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2];return a.getSortIndex()===b?c.add(a):a instanceof Gd&&a.apply(new Ci(b,c)),c}},Bp(Di.prototype,{unionNoOpt:function(a){var b=this._geomFact.createPoint();return zg.overlayOp(a,b,xg.UNION)},unionWithNull:function(a,b){return null===a&&null===b?null:null===b?a:null===a?b:a.union(b)},extract:function(){if(Ep(arguments[0],Lc))for(var a=arguments[0],b=a.iterator();b.hasNext();){var c=b.next();this.extract(c)}else if(arguments[0]instanceof fd){var c=arguments[0];null===this._geomFact&&(this._geomFact=c.getFactory()),Ci.extract(c,fd.SORTINDEX_POLYGON,this._polygons),Ci.extract(c,fd.SORTINDEX_LINESTRING,this._lines),Ci.extract(c,fd.SORTINDEX_POINT,this._points)}},union:function(){if(null===this._geomFact)return null;var a=null;if(this._points.size()>0){var b=this._geomFact.buildGeometry(this._points);a=this.unionNoOpt(b)}var c=null;if(this._lines.size()>0){var d=this._geomFact.buildGeometry(this._lines);c=this.unionNoOpt(d)}var e=null;this._polygons.size()>0&&(e=Ai.union(this._polygons));var f=this.unionWithNull(c,e),g=null;return g=null===a?f:null===f?a:Bi.union(a,f),null===g?this._geomFact.createGeometryCollection():g},interfaces_:function(){return[]},getClass:function(){return Di}});Di.union=function(){if(1===arguments.length){if(Ep(arguments[0],Lc)){var a=arguments[0],b=new Di(a);return b.union()}if(arguments[0]instanceof fd){var c=arguments[0],b=new Di(c);return b.union()}}else if(2===arguments.length){var a=arguments[0],d=arguments[1],b=new Di(a,d);return b.union()}},Bp(Ei.prototype,{extractElements:function(a,b,c){for(var d=new Qc,e=0;e<a.getNumGeometries();e++){var f=a.getGeometryN(e);b[e]===c&&d.add(f)}return this._geomFactory.buildGeometry(d)},computeInteracting:function(){if(0===arguments.length)for(var a=0;a<this._g0.getNumGeometries();a++){var b=this._g0.getGeometryN(a);this._interacts0[a]=this.computeInteracting(b)}else if(1===arguments.length){for(var c=arguments[0],d=!1,a=0;a<this._g1.getNumGeometries();a++){var e=this._g1.getGeometryN(a),f=e.getEnvelopeInternal().intersects(c.getEnvelopeInternal());f&&(this._interacts1[a]=!0),f&&(d=!0)}return d}},union:function(){this.computeInteracting();var a=this.extractElements(this._g0,this._interacts0,!0),b=this.extractElements(this._g1,this._interacts1,!0);(a.isEmpty()||b.isEmpty())&&bd.out.println("found empty!");var c=a.union(b),d=this.extractElements(this._g0,this._interacts0,!1),e=this.extractElements(this._g1,this._interacts1,!1);return zi.combine(c,d,e)},bufferUnion:function(a,b){return a.getFactory().createGeometryCollection([a,b]).buffer(0)},interfaces_:function(){return[]},getClass:function(){return Ei}}),Ei.union=function(a,b){return new Ei(a,b).union()},Bp(Fi.prototype,{interfaces_:function(){return[]},getClass:function(){return Fi}}),Fi.union=function(a,b){if(a.isEmpty()||b.isEmpty()){if(a.isEmpty()&&b.isEmpty())return xg.createEmptyResult(xg.UNION,a,b,a.getFactory());if(a.isEmpty())return b.copy();if(b.isEmpty())return a.copy()}return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),zg.overlayOp(a,b,xg.UNION)},Cp(Gi,$d.CoordinateOperation),Bp(Gi.prototype,{editCoordinates:function(a,b){if(0===a.length)return null;for(var c=new Array(a.length).fill(null),d=0;d<a.length;d++){var e=new Ic(a[d]);this._targetPM.makePrecise(e),c[d]=e}var f=new Rc(c,!1),g=f.toCoordinateArray(),h=0;b instanceof Sd&&(h=2),b instanceof Yd&&(h=4);var i=c;return this._removeCollapsed&&(i=null),g.length<h?i:g},interfaces_:function(){return[]},getClass:function(){return Gi}}),Bp(Hi.prototype,{fixPolygonalTopology:function(a){var b=a;this._changePrecisionModel||(b=this.changePM(a,this._targetPM));var c=b.buffer(0),d=c;return this._changePrecisionModel||(d=this.changePM(c,a.getPrecisionModel())),d},reducePointwise:function(a){var b=null;if(this._changePrecisionModel){b=new $d(this.createFactory(a.getFactory(),this._targetPM))}else b=new $d;var c=this._removeCollapsed;return a.getDimension()>=2&&(c=!0),b.edit(a,new Gi(this._targetPM,c))},changePM:function(a,b){return this.createEditor(a.getFactory(),b).edit(a,new $d.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(a){this._removeCollapsed=a},createFactory:function(a,b){return new xe(b,a.getSRID(),a.getCoordinateSequenceFactory())},setChangePrecisionModel:function(a){this._changePrecisionModel=a},reduce:function(a){var b=this.reducePointwise(a);return this._isPointwise?b:Ep(b,Vd)?b.isValid()?b:this.fixPolygonalTopology(b):b},setPointwise:function(a){this._isPointwise=a},createEditor:function(a,b){return a.getPrecisionModel()===b?new $d:new $d(this.createFactory(a,b))},interfaces_:function(){return[]},getClass:function(){return Hi}}),Hi.reduce=function(a,b){return new Hi(b).reduce(a)},Hi.reducePointwise=function(a,b){var c=new Hi(b);return c.setPointwise(!0),c.reduce(a)},Bp(Ii.prototype,{simplifySection:function(a,b){if(a+1===b)return null;this._seg.p0=this._pts[a],this._seg.p1=this._pts[b];for(var c=-1,d=a,e=a+1;e<b;e++){var f=this._seg.distance(this._pts[e]);f>c&&(c=f,d=e)}if(c<=this._distanceTolerance)for(var e=a+1;e<b;e++)this._usePt[e]=!1;else this.simplifySection(a,d),this.simplifySection(d,b)},setDistanceTolerance:function(a){this._distanceTolerance=a},simplify:function(){this._usePt=new Array(this._pts.length).fill(null);for(var a=0;a<this._pts.length;a++)this._usePt[a]=!0;this.simplifySection(0,this._pts.length-1);for(var b=new Rc,a=0;a<this._pts.length;a++)this._usePt[a]&&b.add(new Ic(this._pts[a]));return b.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return Ii}}),Ii.simplify=function(a,b){var c=new Ii(a);return c.setDistanceTolerance(b),c.simplify()},Bp(Ji.prototype,{setEnsureValid:function(a){this._isEnsureValidTopology=a},getResultGeometry:function(){return this._inputGeom.isEmpty()?this._inputGeom.copy():new Ki(this._isEnsureValidTopology,this._distanceTolerance).transform(this._inputGeom)},setDistanceTolerance:function(a){if(a<0)throw new zc("Tolerance must be non-negative");this._distanceTolerance=a},interfaces_:function(){return[]},getClass:function(){return Ji}}),Ji.simplify=function(a,b){var c=new Ji(a);return c.setDistanceTolerance(b),c.getResultGeometry()},Cp(Ki,Ne),Bp(Ki.prototype,{transformPolygon:function(a,b){if(a.isEmpty())return null;var c=Ne.prototype.transformPolygon.call(this,a,b);return b instanceof Zd?c:this.createValidArea(c)},createValidArea:function(a){return this._isEnsureValidTopology?a.buffer(0):a},transformCoordinates:function(a,b){var c=a.toCoordinateArray(),d=null;return d=0===c.length?new Array(0).fill(null):Ii.simplify(c,this._distanceTolerance),this._factory.getCoordinateSequenceFactory().create(d)},transformMultiPolygon:function(a,b){var c=Ne.prototype.transformMultiPolygon.call(this,a,b);return this.createValidArea(c)},transformLinearRing:function(a,b){var c=b instanceof Wd,d=Ne.prototype.transformLinearRing.call(this,a,b);return!c||d instanceof Yd?d:null},interfaces_:function(){return[]},getClass:function(){return Ki}}),Ji.DPTransformer=Ki,Cp(Li,Fe),Bp(Li.prototype,{getIndex:function(){return this._index},getParent:function(){return this._parent},interfaces_:function(){return[]},getClass:function(){return Li}}),Bp(Mi.prototype,{addToResult:function(a){this._resultSegs.add(a)},asLineString:function(){return this._parentLine.getFactory().createLineString(Mi.extractCoordinates(this._resultSegs))},getResultSize:function(){var a=this._resultSegs.size();return 0===a?0:a+1},getParent:function(){return this._parentLine},getSegment:function(a){return this._segs[a]},getParentCoordinates:function(){return this._parentLine.getCoordinates()},getMinimumSize:function(){return this._minimumSize},asLinearRing:function(){return this._parentLine.getFactory().createLinearRing(Mi.extractCoordinates(this._resultSegs))},getSegments:function(){return this._segs},init:function(){var a=this._parentLine.getCoordinates();this._segs=new Array(a.length-1).fill(null);for(var b=0;b<a.length-1;b++){var c=new Li(a[b],a[b+1],this._parentLine,b);this._segs[b]=c}},getResultCoordinates:function(){return Mi.extractCoordinates(this._resultSegs)},interfaces_:function(){return[]},getClass:function(){return Mi}}),Mi.extractCoordinates=function(a){for(var b=new Array(a.size()+1).fill(null),c=null,d=0;d<a.size();d++)c=a.get(d),b[d]=c.p0;return b[b.length-1]=c.p1,b},Bp(Ni.prototype,{remove:function(a){this._index.remove(new Sc(a.p0,a.p1),a)},add:function(){if(arguments[0]instanceof Mi)for(var a=arguments[0],b=a.getSegments(),c=0;c<b.length;c++){var d=b[c];this.add(d)}else if(arguments[0]instanceof Fe){var d=arguments[0];this._index.insert(new Sc(d.p0,d.p1),d)}},query:function(a){var b=new Sc(a.p0,a.p1),c=new Oi(a);return this._index.query(b,c),c.getItems()},interfaces_:function(){return[]},getClass:function(){return Ni}}),Bp(Oi.prototype,{visitItem:function(a){var b=a;Sc.intersects(b.p0,b.p1,this._querySeg.p0,this._querySeg.p1)&&this._items.add(a)},getItems:function(){return this._items},interfaces_:function(){return[bf]},getClass:function(){return Oi}}),Bp(Pi.prototype,{flatten:function(a,b){var c=this._linePts[a],d=this._linePts[b],e=new Fe(c,d);return this.remove(this._line,a,b),this._outputIndex.add(e),e},hasBadIntersection:function(a,b,c){return!!this.hasBadOutputIntersection(c)||!!this.hasBadInputIntersection(a,b,c)},setDistanceTolerance:function(a){this._distanceTolerance=a},simplifySection:function(a,b,c){c+=1;var d=new Array(2).fill(null);if(a+1===b){var e=this._line.getSegment(a);return this._line.addToResult(e),null}var f=!0;if(this._line.getResultSize()<this._line.getMinimumSize()){c+1<this._line.getMinimumSize()&&(f=!1)}var g=new Array(1).fill(null),h=this.findFurthestPoint(this._linePts,a,b,g);g[0]>this._distanceTolerance&&(f=!1);var i=new Fe;if(i.p0=this._linePts[a],i.p1=this._linePts[b],d[0]=a,d[1]=b,this.hasBadIntersection(this._line,d,i)&&(f=!1),f){var e=this.flatten(a,b);return this._line.addToResult(e),null}this.simplifySection(a,h,c),this.simplifySection(h,b,c)},hasBadOutputIntersection:function(a){for(var b=this._outputIndex.query(a),c=b.iterator();c.hasNext();){var d=c.next();if(this.hasInteriorIntersection(d,a))return!0}return!1},findFurthestPoint:function(a,b,c,d){var e=new Fe;e.p0=a[b],e.p1=a[c];for(var f=-1,g=b,h=b+1;h<c;h++){var i=a[h],j=e.distance(i);j>f&&(f=j,g=h)}return d[0]=f,g},simplify:function(a){this._line=a,this._linePts=a.getParentCoordinates(),this.simplifySection(0,this._linePts.length-1,0)},remove:function(a,b,c){for(var d=b;d<c;d++){var e=a.getSegment(d);this._inputIndex.remove(e)}},hasInteriorIntersection:function(a,b){return this._li.computeIntersection(a.p0,a.p1,b.p0,b.p1),this._li.isInteriorIntersection()},hasBadInputIntersection:function(a,b,c){for(var d=this._inputIndex.query(c),e=d.iterator();e.hasNext();){var f=e.next();if(this.hasInteriorIntersection(f,c)){if(Pi.isInLineSection(a,b,f))continue;return!0}}return!1},interfaces_:function(){return[]},getClass:function(){return Pi}}),Pi.isInLineSection=function(a,b,c){if(c.getParent()!==a.getParent())return!1;var d=c.getIndex();return d>=b[0]&&d<b[1]},Bp(Qi.prototype,{setDistanceTolerance:function(a){this._distanceTolerance=a},simplify:function(a){for(var b=a.iterator();b.hasNext();)this._inputIndex.add(b.next());for(var b=a.iterator();b.hasNext();){var c=new Pi(this._inputIndex,this._outputIndex);c.setDistanceTolerance(this._distanceTolerance),c.simplify(b.next())}},interfaces_:function(){return[]},getClass:function(){return Qi}}),Bp(Ri.prototype,{getResultGeometry:function(){return this._inputGeom.isEmpty()?this._inputGeom.copy():(this._linestringMap=new ue,this._inputGeom.apply(new Ti(this)),this._lineSimplifier.simplify(this._linestringMap.values()),new Si(this._linestringMap).transform(this._inputGeom))},setDistanceTolerance:function(a){if(a<0)throw new zc("Tolerance must be non-negative");this._lineSimplifier.setDistanceTolerance(a)},interfaces_:function(){return[]},getClass:function(){return Ri}}),Ri.simplify=function(a,b){var c=new Ri(a);return c.setDistanceTolerance(b),c.getResultGeometry()},Cp(Si,Ne),Bp(Si.prototype,{transformCoordinates:function(a,b){if(0===a.size())return null;if(b instanceof Sd){var c=this._linestringMap.get(b);return this.createCoordinateSequence(c.getResultCoordinates())}return Ne.prototype.transformCoordinates.call(this,a,b)},interfaces_:function(){return[]},getClass:function(){return Si}}),Bp(Ti.prototype,{filter:function(a){if(a instanceof Sd){var b=a;if(b.isEmpty())return null;var c=b.isClosed()?4:2,d=new Mi(b,c);this.tps._linestringMap.put(b,d)}},interfaces_:function(){return[ed]},getClass:function(){return Ti}}),Ri.LineStringTransformer=Si,Ri.LineStringMapBuilderFilter=Ti,Bp(Ui.prototype,{splitAt:function(){if(1===arguments.length){var a=arguments[0],b=this._minimumLen/this._segLen;if(a.distance(this._seg.p0)<this._minimumLen)return this._splitPt=this._seg.pointAlong(b),null;if(a.distance(this._seg.p1)<this._minimumLen)return this._splitPt=Ui.pointAlongReverse(this._seg,b),null;this._splitPt=a}else if(2===arguments.length){var c=arguments[0],d=arguments[1],e=this.getConstrainedLength(c),f=e/this._segLen;d.equals2D(this._seg.p0)?this._splitPt=this._seg.pointAlong(f):this._splitPt=Ui.pointAlongReverse(this._seg,f)}},setMinimumLength:function(a){this._minimumLen=a},getConstrainedLength:function(a){return a<this._minimumLen?this._minimumLen:a},getSplitPoint:function(){return this._splitPt},interfaces_:function(){return[]},getClass:function(){return Ui}}),Ui.pointAlongReverse=function(a,b){var c=new Ic;return c.x=a.p1.x-b*(a.p1.x-a.p0.x),c.y=a.p1.y-b*(a.p1.y-a.p0.y),c},Bp(Vi.prototype,{findSplitPoint:function(a,b){},interfaces_:function(){return[]},getClass:function(){return Vi}}),Bp(Wi.prototype,{findSplitPoint:function(a,b){var c=a.getLineSegment(),d=c.getLength(),e=d/2,f=new Ui(c),g=Wi.projectedSplitPoint(a,b),h=2*g.distance(b)*.8,i=h;return i>e&&(i=e),f.setMinimumLength(i),f.splitAt(g),f.getSplitPoint()},interfaces_:function(){return[Vi]},getClass:function(){return Wi}}),Wi.projectedSplitPoint=function(a,b){return a.getLineSegment().project(b)},Bp(Xi.prototype,{interfaces_:function(){return[]},getClass:function(){return Xi}}),Xi.triArea=function(a,b,c){return(b.x-a.x)*(c.y-a.y)-(b.y-a.y)*(c.x-a.x)},Xi.isInCircleDDNormalized=function(a,b,c,d){var e=$c.valueOf(a.x).selfSubtract(d.x),f=$c.valueOf(a.y).selfSubtract(d.y),g=$c.valueOf(b.x).selfSubtract(d.x),h=$c.valueOf(b.y).selfSubtract(d.y),i=$c.valueOf(c.x).selfSubtract(d.x),j=$c.valueOf(c.y).selfSubtract(d.y),k=e.multiply(h).selfSubtract(g.multiply(f)),l=g.multiply(j).selfSubtract(i.multiply(h)),m=i.multiply(f).selfSubtract(e.multiply(j)),n=e.multiply(e).selfAdd(f.multiply(f)),o=g.multiply(g).selfAdd(h.multiply(h)),p=i.multiply(i).selfAdd(j.multiply(j));return n.selfMultiply(l).selfAdd(o.selfMultiply(m)).selfAdd(p.selfMultiply(k)).doubleValue()>0},Xi.checkRobustInCircle=function(a,b,c,d){var e=Xi.isInCircleNonRobust(a,b,c,d),f=Xi.isInCircleDDSlow(a,b,c,d),g=Xi.isInCircleCC(a,b,c,d),h=Sg.circumcentre(a,b,c);bd.out.println("p radius diff a = "+Math.abs(d.distance(h)-a.distance(h))/a.distance(h)),e===f&&e===g||(bd.out.println("inCircle robustness failure (double result = "+e+", DD result = "+f+", CC result = "+g+")"),bd.out.println(ze.toLineString(new de([a,b,c,d]))),bd.out.println("Circumcentre = "+ze.toPoint(h)+" radius = "+a.distance(h)),bd.out.println("p radius diff a = "+Math.abs(d.distance(h)/a.distance(h)-1)),bd.out.println("p radius diff b = "+Math.abs(d.distance(h)/b.distance(h)-1)),bd.out.println("p radius diff c = "+Math.abs(d.distance(h)/c.distance(h)-1)),bd.out.println())},Xi.isInCircleDDFast=function(a,b,c,d){var e=$c.sqr(a.x).selfAdd($c.sqr(a.y)).selfMultiply(Xi.triAreaDDFast(b,c,d)),f=$c.sqr(b.x).selfAdd($c.sqr(b.y)).selfMultiply(Xi.triAreaDDFast(a,c,d)),g=$c.sqr(c.x).selfAdd($c.sqr(c.y)).selfMultiply(Xi.triAreaDDFast(a,b,d)),h=$c.sqr(d.x).selfAdd($c.sqr(d.y)).selfMultiply(Xi.triAreaDDFast(a,b,c));return e.selfSubtract(f).selfAdd(g).selfSubtract(h).doubleValue()>0},Xi.isInCircleCC=function(a,b,c,d){var e=Sg.circumcentre(a,b,c),f=a.distance(e);return d.distance(e)-f<=0},Xi.isInCircleNormalized=function(a,b,c,d){var e=a.x-d.x,f=a.y-d.y,g=b.x-d.x,h=b.y-d.y,i=c.x-d.x,j=c.y-d.y;return(e*e+f*f)*(g*j-i*h)+(g*g+h*h)*(i*f-e*j)+(i*i+j*j)*(e*h-g*f)>0},Xi.isInCircleDDSlow=function(a,b,c,d){var e=$c.valueOf(d.x),f=$c.valueOf(d.y),g=$c.valueOf(a.x),h=$c.valueOf(a.y),i=$c.valueOf(b.x),j=$c.valueOf(b.y),k=$c.valueOf(c.x),l=$c.valueOf(c.y),m=g.multiply(g).add(h.multiply(h)).multiply(Xi.triAreaDDSlow(i,j,k,l,e,f)),n=i.multiply(i).add(j.multiply(j)).multiply(Xi.triAreaDDSlow(g,h,k,l,e,f)),o=k.multiply(k).add(l.multiply(l)).multiply(Xi.triAreaDDSlow(g,h,i,j,e,f)),p=e.multiply(e).add(f.multiply(f)).multiply(Xi.triAreaDDSlow(g,h,i,j,k,l));return m.subtract(n).add(o).subtract(p).doubleValue()>0},Xi.isInCircleNonRobust=function(a,b,c,d){return(a.x*a.x+a.y*a.y)*Xi.triArea(b,c,d)-(b.x*b.x+b.y*b.y)*Xi.triArea(a,c,d)+(c.x*c.x+c.y*c.y)*Xi.triArea(a,b,d)-(d.x*d.x+d.y*d.y)*Xi.triArea(a,b,c)>0},Xi.isInCircleRobust=function(a,b,c,d){return Xi.isInCircleNormalized(a,b,c,d)},Xi.triAreaDDSlow=function(a,b,c,d,e,f){return c.subtract(a).multiply(f.subtract(b)).subtract(d.subtract(b).multiply(e.subtract(a)))},Xi.triAreaDDFast=function(a,b,c){var d=$c.valueOf(b.x).selfSubtract(a.x).selfMultiply($c.valueOf(c.y).selfSubtract(a.y)),e=$c.valueOf(b.y).selfSubtract(a.y).selfMultiply($c.valueOf(c.x).selfSubtract(a.x));return d.selfSubtract(e)},Bp(Yi.prototype,{circleCenter:function(a,b){var c=new Yi(this.getX(),this.getY()),d=this.bisector(c,a),e=this.bisector(a,b),f=new cd(d,e),g=null;try{g=new Yi(f.getX(),f.getY())}catch(d){if(!(d instanceof Uc))throw d;bd.err.println("a: "+c+"  b: "+a+"  c: "+b),bd.err.println(d)}return g},dot:function(a){return this._p.x*a.getX()+this._p.y*a.getY()},magn:function(){return Math.sqrt(this._p.x*this._p.x+this._p.y*this._p.y)},getZ:function(){return this._p.z},bisector:function(a,b){var c=b.getX()-a.getX(),d=b.getY()-a.getY();return new cd(new cd(a.getX()+c/2,a.getY()+d/2,1),new cd(a.getX()-d+c/2,a.getY()+c+d/2,1))},equals:function(){if(1===arguments.length){var a=arguments[0];return this._p.x===a.getX()&&this._p.y===a.getY()}if(2===arguments.length){var a=arguments[0],b=arguments[1];return this._p.distance(a.getCoordinate())<b}},getCoordinate:function(){return this._p},isInCircle:function(a,b,c){return Xi.isInCircleRobust(a._p,b._p,c._p,this._p)},interpolateZValue:function(a,b,c){var d=a.getX(),e=a.getY(),f=b.getX()-d,g=c.getX()-d,h=b.getY()-e,i=c.getY()-e,j=f*i-g*h,k=this.getX()-d,l=this.getY()-e,m=(i*k-g*l)/j,n=(-h*k+f*l)/j;return a.getZ()+m*(b.getZ()-a.getZ())+n*(c.getZ()-a.getZ())},midPoint:function(a){return new Yi((this._p.x+a.getX())/2,(this._p.y+a.getY())/2,(this._p.z+a.getZ())/2)},rightOf:function(a){return this.isCCW(a.dest(),a.orig())},isCCW:function(a,b){return(a._p.x-this._p.x)*(b._p.y-this._p.y)-(a._p.y-this._p.y)*(b._p.x-this._p.x)>0},getX:function(){return this._p.x},crossProduct:function(a){return this._p.x*a.getY()-this._p.y*a.getX()},setZ:function(a){this._p.z=a},times:function(a){return new Yi(a*this._p.x,a*this._p.y)},cross:function(){return new Yi(this._p.y,-this._p.x)},leftOf:function(a){return this.isCCW(a.orig(),a.dest())},toString:function(){return"POINT ("+this._p.x+" "+this._p.y+")"},sub:function(a){return new Yi(this._p.x-a.getX(),this._p.y-a.getY())},getY:function(){return this._p.y},classify:function(a,b){var c=this,d=b.sub(a),e=c.sub(a),f=d.crossProduct(e);return f>0?Yi.LEFT:f<0?Yi.RIGHT:d.getX()*e.getX()<0||d.getY()*e.getY()<0?Yi.BEHIND:d.magn()<e.magn()?Yi.BEYOND:a.equals(c)?Yi.ORIGIN:b.equals(c)?Yi.DESTINATION:Yi.BETWEEN},sum:function(a){return new Yi(this._p.x+a.getX(),this._p.y+a.getY())},distance:function(a,b){return Math.sqrt(Math.pow(b.getX()-a.getX(),2)+Math.pow(b.getY()-a.getY(),2))},circumRadiusRatio:function(a,b){var c=this.circleCenter(a,b),d=this.distance(c,a),e=this.distance(this,a),f=this.distance(a,b);return f<e&&(e=f),f=this.distance(b,this),f<e&&(e=f),d/e},interfaces_:function(){return[]},getClass:function(){return Yi}}),Yi.interpolateZ=function(){if(3===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=b.distance(c),e=a.distance(b),f=c.z-b.z;return b.z+f*(e/d)}if(4===arguments.length){var a=arguments[0],g=arguments[1],h=arguments[2],i=arguments[3],j=g.x,k=g.y,l=h.x-j,m=i.x-j,n=h.y-k,o=i.y-k,p=l*o-m*n,q=a.x-j,r=a.y-k,s=(o*q-m*r)/p,t=(-n*q+l*r)/p;return g.z+s*(h.z-g.z)+t*(i.z-g.z)}},Yi.LEFT=0,Yi.RIGHT=1,Yi.BEYOND=2,Yi.BEHIND=3,Yi.BETWEEN=4,Yi.ORIGIN=5,Yi.DESTINATION=6,Cp(Zi,Yi),Bp(Zi.prototype,{getConstraint:function(){return this._constraint},setOnConstraint:function(a){this._isOnConstraint=a},merge:function(a){a._isOnConstraint&&(this._isOnConstraint=!0,this._constraint=a._constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(a){this._isOnConstraint=!0,this._constraint=a},interfaces_:function(){return[]},getClass:function(){return Zi}}),Bp($i.prototype,{equalsNonOriented:function(a){return!!this.equalsOriented(a)||!!this.equalsOriented(a.sym())},toLineSegment:function(){return new Fe(this._vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this._next},equalsOriented:function(a){return!(!this.orig().getCoordinate().equals2D(a.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(a.dest().getCoordinate()))},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this._next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot._next._rot},sym:function(){return this._rot._rot},setOrig:function(a){this._vertex=a},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(a){this.sym().setOrig(a)},setData:function(a){this._data=a},getData:function(){return this._data},delete:function(){this._rot=null},orig:function(){return this._vertex},rNext:function(){return this._rot._next.invRot()},toString:function(){var a=this._vertex.getCoordinate(),b=this.dest().getCoordinate();return ze.toLineString(a,b)},isLive:function(){return null!==this._rot},getPrimary:function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(a){this._next=a},interfaces_:function(){return[]},getClass:function(){return $i}}),$i.makeEdge=function(a,b){var c=new $i,d=new $i,e=new $i,f=new $i;c._rot=d,d._rot=e,e._rot=f,f._rot=c,c.setNext(c),d.setNext(f),e.setNext(e),f.setNext(d);var g=c;return g.setOrig(a),g.setDest(b),g},$i.swap=function(a){var b=a.oPrev(),c=a.sym().oPrev();$i.splice(a,b),$i.splice(a.sym(),c),$i.splice(a,b.lNext()),$i.splice(a.sym(),c.lNext()),a.setOrig(b.dest()),a.setDest(c.dest())},$i.splice=function(a,b){var c=a.oNext().rot(),d=b.oNext().rot(),e=b.oNext(),f=a.oNext(),g=d.oNext(),h=c.oNext();a.setNext(e),b.setNext(f),c.setNext(g),d.setNext(h)},$i.connect=function(a,b){var c=$i.makeEdge(a.dest(),b.orig());return $i.splice(c,a.lNext()),$i.splice(c.sym(),b),c},Bp(_i.prototype,{insertSite:function(a){var b=this._subdiv.locate(a);if(this._subdiv.isVertexOfEdge(b,a))return b;this._subdiv.isOnEdge(b,a.getCoordinate())&&(b=b.oPrev(),this._subdiv.delete(b.oNext()));var c=this._subdiv.makeEdge(b.orig(),a);$i.splice(c,b);var d=c;do{c=this._subdiv.connect(b,c.sym()),b=c.oPrev()}while(b.lNext()!==d);for(;;){var e=b.oPrev();if(e.dest().rightOf(b)&&a.isInCircle(b.orig(),e.dest(),b.dest()))$i.swap(b),b=b.oPrev();else{if(b.oNext()===d)return c;b=b.oNext().lPrev()}}},insertSites:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();this.insertSite(c)}},interfaces_:function(){return[]},getClass:function(){return _i}}),Bp(aj.prototype,{locate:function(a){},interfaces_:function(){return[]},getClass:function(){return aj}}),Bp(bj.prototype,{init:function(){this._lastEdge=this.findEdge()},locate:function(a){this._lastEdge.isLive()||this.init();var b=this._subdiv.locateFromEdge(a,this._lastEdge);return this._lastEdge=b,b},findEdge:function(){return this._subdiv.getEdges().iterator().next()},interfaces_:function(){return[aj]},getClass:function(){return bj}}),Cp(cj,Fc),Bp(cj.prototype,{getSegment:function(){return this._seg},interfaces_:function(){return[]},getClass:function(){return cj}}),cj.msgWithSpatial=function(a,b){return null!==b?a+" [ "+b+" ]":a},Bp(dj.prototype,{visit:function(a){},interfaces_:function(){return[]},getClass:function(){return dj}}),Bp(ej.prototype,{getTriangleVertices:function(a){var b=new hj;return this.visitTriangles(b,a),b.getTriangleVertices()},isFrameVertex:function(a){return!!a.equals(this._frameVertex[0])||(!!a.equals(this._frameVertex[1])||!!a.equals(this._frameVertex[2]))},isVertexOfEdge:function(a,b){return!(!b.equals(a.orig(),this._tolerance)&&!b.equals(a.dest(),this._tolerance))},connect:function(a,b){var c=$i.connect(a,b);return this._quadEdges.add(c),c},getVoronoiCellPolygon:function(a,b){var c=new Qc,d=a;do{var e=a.rot().orig().getCoordinate();c.add(e),a=a.oPrev()}while(a!==d);var f=new Rc;f.addAll(c,!1),f.closeRing(),f.size()<4&&(bd.out.println(f),f.add(f.get(f.size()-1),!0));var g=f.toCoordinateArray(),h=b.createPolygon(b.createLinearRing(g),null),i=d.orig();return h.setUserData(i.getCoordinate()),h},setLocator:function(a){this._locator=a},initSubdiv:function(){var a=this.makeEdge(this._frameVertex[0],this._frameVertex[1]),b=this.makeEdge(this._frameVertex[1],this._frameVertex[2]);$i.splice(a.sym(),b);var c=this.makeEdge(this._frameVertex[2],this._frameVertex[0]);return $i.splice(b.sym(),c),$i.splice(c.sym(),a),a},isFrameBorderEdge:function(a){var b=new Array(3).fill(null);ej.getTriangleEdges(a,b);var c=new Array(3).fill(null);ej.getTriangleEdges(a.sym(),c);var d=a.lNext().dest();if(this.isFrameVertex(d))return!0;var e=a.sym().lNext().dest();return!!this.isFrameVertex(e)},makeEdge:function(a,b){var c=$i.makeEdge(a,b);return this._quadEdges.add(c),c},visitTriangles:function(a,b){this._visitedKey++;var c=new Je;c.push(this._startingEdge);for(var d=new sd;!c.empty();){var e=c.pop();if(!d.contains(e)){var f=this.fetchTriangleToVisit(e,c,b,d);null!==f&&a.visit(f)}}},isFrameEdge:function(a){return!(!this.isFrameVertex(a.orig())&&!this.isFrameVertex(a.dest()))},isOnEdge:function(a,b){return this._seg.setCoordinates(a.orig().getCoordinate(),a.dest().getCoordinate()),this._seg.distance(b)<this._edgeCoincidenceTolerance},getEnvelope:function(){return new Sc(this._frameEnv)},createFrame:function(a){var b=a.getWidth(),c=a.getHeight(),d=0;d=b>c?10*b:10*c,this._frameVertex[0]=new Yi((a.getMaxX()+a.getMinX())/2,a.getMaxY()+d),this._frameVertex[1]=new Yi(a.getMinX()-d,a.getMinY()-d),this._frameVertex[2]=new Yi(a.getMaxX()+d,a.getMinY()-d),this._frameEnv=new Sc(this._frameVertex[0].getCoordinate(),this._frameVertex[1].getCoordinate()),this._frameEnv.expandToInclude(this._frameVertex[2].getCoordinate())},getTriangleCoordinates:function(a){var b=new ij;return this.visitTriangles(b,a),b.getTriangles()},getVertices:function(a){for(var b=new sd,c=this._quadEdges.iterator();c.hasNext();){var d=c.next(),e=d.orig();!a&&this.isFrameVertex(e)||b.add(e);var f=d.dest();!a&&this.isFrameVertex(f)||b.add(f)}return b},fetchTriangleToVisit:function(a,b,c,d){var e=a,f=0,g=!1;do{this._triEdges[f]=e,this.isFrameEdge(e)&&(g=!0);var h=e.sym();d.contains(h)||b.push(h),d.add(e),f++,e=e.lNext()}while(e!==a);return g&&!c?null:this._triEdges},getEdges:function(){if(0===arguments.length)return this._quadEdges;if(1===arguments.length){for(var a=arguments[0],b=this.getPrimaryEdges(!1),c=new Array(b.size()).fill(null),d=0,e=b.iterator();e.hasNext();){var f=e.next();c[d++]=a.createLineString([f.orig().getCoordinate(),f.dest().getCoordinate()])}return a.createMultiLineString(c)}},getVertexUniqueEdges:function(a){for(var b=new Qc,c=new sd,d=this._quadEdges.iterator();d.hasNext();){var e=d.next(),f=e.orig();c.contains(f)||(c.add(f),!a&&this.isFrameVertex(f)||b.add(e));var g=e.sym(),h=g.orig();c.contains(h)||(c.add(h),!a&&this.isFrameVertex(h)||b.add(g))}return b},getTriangleEdges:function(a){var b=new gj;return this.visitTriangles(b,a),b.getTriangleEdges()},getPrimaryEdges:function(a){this._visitedKey++;var b=new Qc,c=new Je;c.push(this._startingEdge);for(var d=new sd;!c.empty();){var e=c.pop();if(!d.contains(e)){var f=e.getPrimary();!a&&this.isFrameEdge(f)||b.add(f),c.push(e.oNext()),c.push(e.sym().oNext()),d.add(e),d.add(e.sym())}}return b},delete:function(a){$i.splice(a,a.oPrev()),$i.splice(a.sym(),a.sym().oPrev());var b=a.sym(),c=a.rot(),d=a.rot().sym();this._quadEdges.remove(a),this._quadEdges.remove(b),this._quadEdges.remove(c),this._quadEdges.remove(d),a.delete(),b.delete(),c.delete(),d.delete()},locateFromEdge:function(a,b){for(var c=0,d=this._quadEdges.size(),e=b;;){if(++c>d)throw new cj(e.toLineSegment());if(a.equals(e.orig())||a.equals(e.dest()))break;if(a.rightOf(e))e=e.sym();else if(a.rightOf(e.oNext())){if(a.rightOf(e.dPrev()))break;e=e.dPrev()}else e=e.oNext()}return e},getTolerance:function(){return this._tolerance},getVoronoiCellPolygons:function(a){this.visitTriangles(new fj,!0);for(var b=new Qc,c=this.getVertexUniqueEdges(!1),d=c.iterator();d.hasNext();){var e=d.next();b.add(this.getVoronoiCellPolygon(e,a))}return b},getVoronoiDiagram:function(a){var b=this.getVoronoiCellPolygons(a);return a.createGeometryCollection(xe.toGeometryArray(b))},getTriangles:function(a){for(var b=this.getTriangleCoordinates(!1),c=new Array(b.size()).fill(null),d=0,e=b.iterator();e.hasNext();){var f=e.next();c[d++]=a.createPolygon(a.createLinearRing(f),null)}return a.createGeometryCollection(c)},insertSite:function(a){var b=this.locate(a);if(a.equals(b.orig(),this._tolerance)||a.equals(b.dest(),this._tolerance))return b;var c=this.makeEdge(b.orig(),a);$i.splice(c,b);var d=c;do{c=this.connect(b,c.sym()),b=c.oPrev()}while(b.lNext()!==d);return d},locate:function(){if(1===arguments.length){if(arguments[0]instanceof Yi){var a=arguments[0];return this._locator.locate(a)}if(arguments[0]instanceof Ic){var b=arguments[0];return this._locator.locate(new Yi(b))}}else if(2===arguments.length){var c=arguments[0],d=arguments[1],e=this._locator.locate(new Yi(c));if(null===e)return null;var f=e;e.dest().getCoordinate().equals2D(c)&&(f=e.sym());var g=f;do{if(g.dest().getCoordinate().equals2D(d))return g;g=g.oNext()}while(g!==f);return null}},interfaces_:function(){return[]},getClass:function(){return ej}}),ej.getTriangleEdges=function(a,b){if(b[0]=a,b[1]=b[0].lNext(),b[2]=b[1].lNext(),b[2].lNext()!==b[0])throw new zc("Edges do not form a triangle")},Bp(fj.prototype,{visit:function(a){for(var b=a[0].orig().getCoordinate(),c=a[1].orig().getCoordinate(),d=a[2].orig().getCoordinate(),e=Sg.circumcentre(b,c,d),f=new Yi(e),g=0;g<3;g++)a[g].rot().setOrig(f)},interfaces_:function(){return[dj]},getClass:function(){return fj}}),Bp(gj.prototype,{getTriangleEdges:function(){return this._triList},visit:function(a){this._triList.add(a.clone())},interfaces_:function(){return[dj]},getClass:function(){return gj}}),Bp(hj.prototype,{visit:function(a){this._triList.add([a[0].orig(),a[1].orig(),a[2].orig()])},getTriangleVertices:function(){return this._triList},interfaces_:function(){return[dj]},getClass:function(){return hj}}),Bp(ij.prototype,{checkTriangleSize:function(a){a.length>=2?ze.toLineString(a[0],a[1]):a.length>=1&&ze.toPoint(a[0])},visit:function(a){this._coordList.clear();for(var b=0;b<3;b++){var c=a[b].orig();this._coordList.add(c.getCoordinate())}if(this._coordList.size()>0){this._coordList.closeRing();var d=this._coordList.toCoordinateArray();if(4!==d.length)return null;this._triCoords.add(d)}},getTriangles:function(){return this._triCoords},interfaces_:function(){return[dj]},getClass:function(){return ij}}),ej.TriangleCircumcentreVisitor=fj,ej.TriangleEdgesListVisitor=gj,ej.TriangleVertexListVisitor=hj,ej.TriangleCoordinatesVisitor=ij,ej.EDGE_COINCIDENCE_TOL_FACTOR=1e3,Bp(jj.prototype,{getLineSegment:function(){return this._ls},getEndZ:function(){return this._ls.getCoordinate(1).z},getStartZ:function(){return this._ls.getCoordinate(0).z},intersection:function(a){return this._ls.intersection(a.getLineSegment())},getStart:function(){return this._ls.getCoordinate(0)},getEnd:function(){return this._ls.getCoordinate(1)},getEndY:function(){return this._ls.getCoordinate(1).y},getStartX:function(){return this._ls.getCoordinate(0).x},equalsTopo:function(a){return this._ls.equalsTopo(a.getLineSegment())},getStartY:function(){return this._ls.getCoordinate(0).y},setData:function(a){this._data=a},getData:function(){return this._data},getEndX:function(){return this._ls.getCoordinate(1).x},toString:function(){return this._ls.toString()},interfaces_:function(){return[]},getClass:function(){return jj}}),Bp(kj.prototype,{visit:function(a){},interfaces_:function(){return[]},getClass:function(){return kj}}),Bp(lj.prototype,{isRepeated:function(){return this._count>1},getRight:function(){return this._right},getCoordinate:function(){return this._p},setLeft:function(a){this._left=a},getX:function(){return this._p.x},getData:function(){return this._data},getCount:function(){return this._count},getLeft:function(){return this._left},getY:function(){return this._p.y},increment:function(){this._count=this._count+1},setRight:function(a){this._right=a},interfaces_:function(){return[]},getClass:function(){return lj}}),Bp(mj.prototype,{insert:function(){if(1===arguments.length){var a=arguments[0];return this.insert(a,null)}if(2===arguments.length){var a=arguments[0],b=arguments[1];if(null===this._root)return this._root=new lj(a,b),this._root;if(this._tolerance>0){var c=this.findBestMatchNode(a);if(null!==c)return c.increment(),c}return this.insertExact(a,b)}},query:function(){if(1===arguments.length){var a=arguments[0],b=new Qc;return this.query(a,b),b}if(2===arguments.length)if(arguments[0]instanceof Sc&&Ep(arguments[1],Nc)){var a=arguments[0],b=arguments[1];this.queryNode(this._root,a,!0,{interfaces_:function(){return[kj]},visit:function(a){b.add(a)}})}else if(arguments[0]instanceof Sc&&Ep(arguments[1],kj)){var a=arguments[0],c=arguments[1];this.queryNode(this._root,a,!0,c)}},queryNode:function(a,b,c,d){if(null===a)return null;var e=null,f=null,g=null;c?(e=b.getMinX(),f=b.getMaxX(),g=a.getX()):(e=b.getMinY(),f=b.getMaxY(),g=a.getY());var h=e<g,i=g<=f;h&&this.queryNode(a.getLeft(),b,!c,d),b.contains(a.getCoordinate())&&d.visit(a),i&&this.queryNode(a.getRight(),b,!c,d)},findBestMatchNode:function(a){var b=new nj(a,this._tolerance);return this.query(b.queryEnvelope(),b),b.getNode()},isEmpty:function(){return null===this._root},insertExact:function(a,b){for(var c=this._root,d=this._root,e=!0,f=!0;null!==c;){if(null!==c){if(a.distance(c.getCoordinate())<=this._tolerance)return c.increment(),c}f=e?a.x<c.getX():a.y<c.getY(),d=c,c=f?c.getLeft():c.getRight(),e=!e}this._numberOfNodes=this._numberOfNodes+1;var g=new lj(a,b);return f?d.setLeft(g):d.setRight(g),g},interfaces_:function(){return[]},getClass:function(){return mj}}),mj.toCoordinates=function(){if(1===arguments.length){var a=arguments[0];return mj.toCoordinates(a,!1)}if(2===arguments.length){for(var a=arguments[0],b=arguments[1],c=new Rc,d=a.iterator();d.hasNext();)for(var e=d.next(),f=b?e.getCount():1,g=0;g<f;g++)c.add(e.getCoordinate(),!0);return c.toCoordinateArray()}},Bp(nj.prototype,{visit:function(a){var b=this._p.distance(a.getCoordinate());if(!(b<=this._tolerance))return null;var c=!1;(null===this._matchNode||b<this._matchDist||null!==this._matchNode&&b===this._matchDist&&a.getCoordinate().compareTo(this._matchNode.getCoordinate())<1)&&(c=!0),c&&(this._matchNode=a,this._matchDist=b)},queryEnvelope:function(){var a=new Sc(this._p);return a.expandBy(this._tolerance),a},getNode:function(){return this._matchNode},interfaces_:function(){return[kj]},getClass:function(){return nj}}),mj.BestMatchVisitor=nj,Bp(oj.prototype,{getInitialVertices:function(){return this._initialVertices},getKDT:function(){return this._kdt},enforceConstraints:function(){this.addConstraintVertices();var a=0,b=0;do{b=this.enforceGabriel(this._segments),a++}while(b>0&&a<oj.MAX_SPLIT_ITER)},insertSites:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next();this.insertSite(c)}},getVertexFactory:function(){return this._vertexFactory},getPointArray:function(){for(var a=new Array(this._initialVertices.size()+this._segVertices.size()).fill(null),b=0,c=this._initialVertices.iterator();c.hasNext();){var d=c.next();a[b++]=d.getCoordinate()}for(var e=this._segVertices.iterator();e.hasNext();){var d=e.next();a[b++]=d.getCoordinate()}return a},setConstraints:function(a,b){this._segments=a,this._segVertices=b},computeConvexHull:function(){var a=new xe,b=this.getPointArray(),c=new Le(b,a);this._convexHull=c.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this._segVertices)},findNonGabrielPoint:function(a){var b=a.getStart(),c=a.getEnd(),d=new Ic((b.x+c.x)/2,(b.y+c.y)/2),e=b.distance(d),f=new Sc(d);f.expandBy(e);for(var g=this._kdt.query(f),h=null,i=Ac.MAX_VALUE,j=g.iterator();j.hasNext();){var k=j.next(),l=k.getCoordinate();if(!l.equals2D(b)&&!l.equals2D(c)){var m=d.distance(l);if(m<e){var n=m;(null===h||n<i)&&(h=l,i=n)}}}return h},getConstraintSegments:function(){return this._segments},setSplitPointFinder:function(a){this._splitFinder=a},getConvexHull:function(){return this._convexHull},getTolerance:function(){return this._tolerance},enforceGabriel:function(a){for(var b=new Qc,c=0,d=new Qc,e=a.iterator();e.hasNext();){var f=e.next(),g=this.findNonGabrielPoint(f);if(null!==g){this._splitPt=this._splitFinder.findSplitPoint(f,g);var h=this.createVertex(this._splitPt,f),i=(this.insertSite(h),new jj(f.getStartX(),f.getStartY(),f.getStartZ(),h.getX(),h.getY(),h.getZ(),f.getData())),j=new jj(h.getX(),h.getY(),h.getZ(),f.getEndX(),f.getEndY(),f.getEndZ(),f.getData());b.add(i),b.add(j),d.add(f),c+=1}}return a.removeAll(d),a.addAll(b),c},createVertex:function(){if(1===arguments.length){var a=arguments[0],b=null;return b=null!==this._vertexFactory?this._vertexFactory.createVertex(a,null):new Zi(a)}if(2===arguments.length){var a=arguments[0],c=arguments[1],b=null;return b=null!==this._vertexFactory?this._vertexFactory.createVertex(a,c):new Zi(a),b.setOnConstraint(!0),b}},getSubdivision:function(){return this._subdiv},computeBoundingBox:function(){var a=oj.computeVertexEnvelope(this._initialVertices),b=oj.computeVertexEnvelope(this._segVertices),c=new Sc(a);c.expandToInclude(b);var d=.2*c.getWidth(),e=.2*c.getHeight(),f=Math.max(d,e);this._computeAreaEnv=new Sc(c),this._computeAreaEnv.expandBy(f)},setVertexFactory:function(a){this._vertexFactory=a},formInitialDelaunay:function(){this.computeBoundingBox(),this._subdiv=new ej(this._computeAreaEnv,this._tolerance),this._subdiv.setLocator(new bj(this._subdiv)),this._incDel=new _i(this._subdiv),this.insertSites(this._initialVertices)},insertSite:function(){if(arguments[0]instanceof Zi){var a=arguments[0],b=this._kdt.insert(a.getCoordinate(),a);if(b.isRepeated()){var c=b.getData();return c.merge(a),c}return this._incDel.insertSite(a),a}if(arguments[0]instanceof Ic){var d=arguments[0];this.insertSite(this.createVertex(d))}},interfaces_:function(){return[]},getClass:function(){return oj}}),oj.computeVertexEnvelope=function(a){for(var b=new Sc,c=a.iterator();c.hasNext();){var d=c.next();b.expandToInclude(d.getCoordinate())}return b},oj.MAX_SPLIT_ITER=99,Bp(pj.prototype,{create:function(){if(null!==this._subdiv)return null;var a=pj.envelope(this._siteCoords),b=pj.toVertices(this._siteCoords);this._subdiv=new ej(a,this._tolerance),new _i(this._subdiv).insertSites(b)},setTolerance:function(a){this._tolerance=a},setSites:function(){if(arguments[0]instanceof fd){var a=arguments[0];this._siteCoords=pj.extractUniqueCoordinates(a)}else if(Ep(arguments[0],Lc)){var b=arguments[0];this._siteCoords=pj.unique(md.toCoordinateArray(b))}},getEdges:function(a){return this.create(),this._subdiv.getEdges(a)},getSubdivision:function(){return this.create(),this._subdiv},getTriangles:function(a){return this.create(),this._subdiv.getTriangles(a)},interfaces_:function(){return[]},getClass:function(){return pj}}),pj.extractUniqueCoordinates=function(a){if(null===a)return new Rc;var b=a.getCoordinates();return pj.unique(b)},pj.envelope=function(a){for(var b=new Sc,c=a.iterator();c.hasNext();){var d=c.next();b.expandToInclude(d)}return b},pj.unique=function(a){var b=md.copyDeep(a);return Cd.sort(b),new Rc(b,!1)},pj.toVertices=function(a){for(var b=new Qc,c=a.iterator();c.hasNext();){var d=c.next();b.add(new Yi(d))}return b},Bp(qj.prototype,{createSiteVertices:function(a){for(var b=new Qc,c=a.iterator();c.hasNext();){var d=c.next();this._constraintVertexMap.containsKey(d)||b.add(new Zi(d))}return b},create:function(){if(null!==this._subdiv)return null;var a=pj.envelope(this._siteCoords),b=new Qc;null!==this._constraintLines&&(a.expandToInclude(this._constraintLines.getEnvelopeInternal()),this.createVertices(this._constraintLines),b=qj.createConstraintSegments(this._constraintLines));var c=this.createSiteVertices(this._siteCoords),d=new oj(c,this._tolerance);d.setConstraints(b,new Qc(this._constraintVertexMap.values())),d.formInitialDelaunay(),d.enforceConstraints(),this._subdiv=d.getSubdivision()},setTolerance:function(a){this._tolerance=a},setConstraints:function(a){this._constraintLines=a},setSites:function(a){this._siteCoords=pj.extractUniqueCoordinates(a)},getEdges:function(a){return this.create(),this._subdiv.getEdges(a)},getSubdivision:function(){return this.create(),this._subdiv},getTriangles:function(a){return this.create(),this._subdiv.getTriangles(a)},createVertices:function(a){for(var b=a.getCoordinates(),c=0;c<b.length;c++){var d=new Zi(b[c]);this._constraintVertexMap.put(b[c],d)}},interfaces_:function(){return[]},getClass:function(){return qj}}),qj.createConstraintSegments=function(){if(1===arguments.length){for(var a=arguments[0],b=ig.getLines(a),c=new Qc,d=b.iterator();d.hasNext();){var e=d.next();qj.createConstraintSegments(e,c)}return c}if(2===arguments.length)for(var e=arguments[0],c=arguments[1],f=e.getCoordinates(),d=1;d<f.length;d++)c.add(new jj(f[d-1],f[d]))},Bp(rj.prototype,{create:function(){if(null!==this._subdiv)return null;var a=pj.envelope(this._siteCoords);this._diagramEnv=a;var b=Math.max(this._diagramEnv.getWidth(),this._diagramEnv.getHeight());this._diagramEnv.expandBy(b),null!==this._clipEnv&&this._diagramEnv.expandToInclude(this._clipEnv);var c=pj.toVertices(this._siteCoords);this._subdiv=new ej(a,this._tolerance),new _i(this._subdiv).insertSites(c)},getDiagram:function(a){this.create();var b=this._subdiv.getVoronoiDiagram(a);return rj.clipGeometryCollection(b,this._diagramEnv)},setTolerance:function(a){this._tolerance=a},setSites:function(){if(arguments[0]instanceof fd){var a=arguments[0];this._siteCoords=pj.extractUniqueCoordinates(a)}else if(Ep(arguments[0],Lc)){var b=arguments[0];this._siteCoords=pj.unique(md.toCoordinateArray(b))}},setClipEnvelope:function(a){this._clipEnv=a},getSubdivision:function(){return this.create(),this._subdiv},interfaces_:function(){return[]},getClass:function(){return rj}}),rj.clipGeometryCollection=function(a,b){for(var c=a.getFactory().toGeometry(b),d=new Qc,e=0;e<a.getNumGeometries();e++){var f=a.getGeometryN(e),g=null;b.contains(f.getEnvelopeInternal())?g=f:b.intersects(f.getEnvelopeInternal())&&(g=c.intersection(f),g.setUserData(f.getUserData())),null===g||g.isEmpty()||d.add(g)}return a.getFactory().createGeometryCollection(xe.toGeometryArray(d))},Bp(sj.prototype,{getSegmentIndex:function(){return this._segmentIndex},getComponentIndex:function(){return this._componentIndex},isEndpoint:function(a){var b=a.getGeometryN(this._componentIndex),c=b.getNumPoints()-1;return this._segmentIndex>=c||this._segmentIndex===c&&this._segmentFraction>=1},isValid:function(a){if(this._componentIndex<0||this._componentIndex>=a.getNumGeometries())return!1;var b=a.getGeometryN(this._componentIndex);return!(this._segmentIndex<0||this._segmentIndex>b.getNumPoints())&&((this._segmentIndex!==b.getNumPoints()||0===this._segmentFraction)&&!(this._segmentFraction<0||this._segmentFraction>1))},normalize:function(){this._segmentFraction<0&&(this._segmentFraction=0),this._segmentFraction>1&&(this._segmentFraction=1),this._componentIndex<0&&(this._componentIndex=0,this._segmentIndex=0,this._segmentFraction=0),this._segmentIndex<0&&(this._segmentIndex=0,this._segmentFraction=0),1===this._segmentFraction&&(this._segmentFraction=0,this._segmentIndex+=1)},toLowest:function(a){var b=a.getGeometryN(this._componentIndex),c=b.getNumPoints()-1;return this._segmentIndex<c?this:new sj(this._componentIndex,c,1,!1)},getCoordinate:function(a){var b=a.getGeometryN(this._componentIndex),c=b.getCoordinateN(this._segmentIndex);if(this._segmentIndex>=b.getNumPoints()-1)return c;var d=b.getCoordinateN(this._segmentIndex+1);return sj.pointAlongSegmentByFraction(c,d,this._segmentFraction)},getSegmentFraction:function(){return this._segmentFraction},getSegment:function(a){var b=a.getGeometryN(this._componentIndex),c=b.getCoordinateN(this._segmentIndex);if(this._segmentIndex>=b.getNumPoints()-1){return new Fe(b.getCoordinateN(b.getNumPoints()-2),c)}return new Fe(c,b.getCoordinateN(this._segmentIndex+1))},clamp:function(a){if(this._componentIndex>=a.getNumGeometries())return this.setToEnd(a),null;if(this._segmentIndex>=a.getNumPoints()){var b=a.getGeometryN(this._componentIndex);this._segmentIndex=b.getNumPoints()-1,this._segmentFraction=1}},setToEnd:function(a){this._componentIndex=a.getNumGeometries()-1;var b=a.getGeometryN(this._componentIndex);this._segmentIndex=b.getNumPoints()-1,this._segmentFraction=1},compareTo:function(a){var b=a;return this._componentIndex<b._componentIndex?-1:this._componentIndex>b._componentIndex?1:this._segmentIndex<b._segmentIndex?-1:this._segmentIndex>b._segmentIndex?1:this._segmentFraction<b._segmentFraction?-1:this._segmentFraction>b._segmentFraction?1:0},clone:function(){return new sj(this._componentIndex,this._segmentIndex,this._segmentFraction)},toString:function(){return"LinearLoc["+this._componentIndex+", "+this._segmentIndex+", "+this._segmentFraction+"]"},isOnSameSegment:function(a){return this._componentIndex===a._componentIndex&&(this._segmentIndex===a._segmentIndex||(a._segmentIndex-this._segmentIndex==1&&0===a._segmentFraction||this._segmentIndex-a._segmentIndex==1&&0===this._segmentFraction))},snapToVertex:function(a,b){if(this._segmentFraction<=0||this._segmentFraction>=1)return null;var c=this.getSegmentLength(a),d=this._segmentFraction*c,e=c-d;d<=e&&d<b?this._segmentFraction=0:e<=d&&e<b&&(this._segmentFraction=1)},compareLocationValues:function(a,b,c){return this._componentIndex<a?-1:this._componentIndex>a?1:this._segmentIndex<b?-1:this._segmentIndex>b?1:this._segmentFraction<c?-1:this._segmentFraction>c?1:0},getSegmentLength:function(a){var b=a.getGeometryN(this._componentIndex),c=this._segmentIndex;this._segmentIndex>=b.getNumPoints()-1&&(c=b.getNumPoints()-2);var d=b.getCoordinateN(c),e=b.getCoordinateN(c+1);return d.distance(e)},isVertex:function(){return this._segmentFraction<=0||this._segmentFraction>=1},interfaces_:function(){return[Bc]},getClass:function(){return sj}}),sj.getEndLocation=function(a){var b=new sj;return b.setToEnd(a),b},sj.pointAlongSegmentByFraction=function(a,b,c){return c<=0?a:c>=1?b:new Ic((b.x-a.x)*c+a.x,(b.y-a.y)*c+a.y,(b.z-a.z)*c+a.z)},sj.compareLocationValues=function(a,b,c,d,e,f){return a<d?-1:a>d?1:b<e?-1:b>e?1:c<f?-1:c>f?1:0},Bp(tj.prototype,{getComponentIndex:function(){return this._componentIndex},getLine:function(){return this._currentLine},getVertexIndex:function(){return this._vertexIndex},getSegmentEnd:function(){return this._vertexIndex<this.getLine().getNumPoints()-1?this._currentLine.getCoordinateN(this._vertexIndex+1):null},next:function(){if(!this.hasNext())return null;++this._vertexIndex>=this._currentLine.getNumPoints()&&(this._componentIndex++,this.loadCurrentLine(),this._vertexIndex=0)},loadCurrentLine:function(){if(this._componentIndex>=this._numLines)return this._currentLine=null,null;this._currentLine=this._linearGeom.getGeometryN(this._componentIndex)},getSegmentStart:function(){return this._currentLine.getCoordinateN(this._vertexIndex)},isEndOfLine:function(){return!(this._componentIndex>=this._numLines)&&!(this._vertexIndex<this._currentLine.getNumPoints()-1)},hasNext:function(){return!(this._componentIndex>=this._numLines)&&!(this._componentIndex===this._numLines-1&&this._vertexIndex>=this._currentLine.getNumPoints())},interfaces_:function(){return[]},getClass:function(){return tj}}),tj.segmentEndVertexIndex=function(a){return a.getSegmentFraction()>0?a.getSegmentIndex()+1:a.getSegmentIndex()},Bp(uj.prototype,{indexOf:function(a){return this.indexOfFromStart(a,null)},indexOfFromStart:function(a,b){for(var c=Ac.MAX_VALUE,d=0,e=0,f=-1,g=new Fe,h=new tj(this._linearGeom);h.hasNext();h.next())if(!h.isEndOfLine()){g.p0=h.getSegmentStart(),g.p1=h.getSegmentEnd();var i=g.distance(a),j=g.segmentFraction(a),k=h.getComponentIndex(),l=h.getVertexIndex();i<c&&(null===b||b.compareLocationValues(k,l,j)<0)&&(d=k,e=l,f=j,c=i)}return c===Ac.MAX_VALUE?new sj(b):new sj(d,e,f)},indexOfAfter:function(a,b){if(null===b)return this.indexOf(a);var c=sj.getEndLocation(this._linearGeom);if(c.compareTo(b)<=0)return c;var d=this.indexOfFromStart(a,b);return Hc.isTrue(d.compareTo(b)>=0,"computed location is before specified minimum location"),d},interfaces_:function(){return[]},getClass:function(){return uj}}),uj.indexOf=function(a,b){return new uj(a).indexOf(b)},uj.indexOfAfter=function(a,b,c){return new uj(a).indexOfAfter(b,c)},Bp(vj.prototype,{indicesOf:function(a){var b=a.getGeometryN(0).getCoordinateN(0),c=a.getGeometryN(a.getNumGeometries()-1),d=c.getCoordinateN(c.getNumPoints()-1),e=new uj(this._linearGeom),f=new Array(2).fill(null);return f[0]=e.indexOf(b),0===a.getLength()?f[1]=f[0].clone():f[1]=e.indexOfAfter(d,f[0]),f},interfaces_:function(){return[]},getClass:function(){return vj}}),vj.indicesOf=function(a,b){return new vj(a).indicesOf(b)},Bp(wj.prototype,{getGeometry:function(){return this.endLine(),this._geomFact.buildGeometry(this._lines)},getLastCoordinate:function(){return this._lastPt},endLine:function(){if(null===this._coordList)return null;if(this._ignoreInvalidLines&&this._coordList.size()<2)return this._coordList=null,null;var a=this._coordList.toCoordinateArray(),b=a;this._fixInvalidLines&&(b=this.validCoordinateSequence(a)),this._coordList=null;var c=null;try{c=this._geomFact.createLineString(b)}catch(a){if(!(a instanceof zc))throw a;if(!this._ignoreInvalidLines)throw a}null!==c&&this._lines.add(c)},setFixInvalidLines:function(a){this._fixInvalidLines=a},add:function(){if(1===arguments.length){var a=arguments[0];this.add(a,!0)}else if(2===arguments.length){var a=arguments[0],b=arguments[1];null===this._coordList&&(this._coordList=new Rc),this._coordList.add(a,b),this._lastPt=a}},setIgnoreInvalidLines:function(a){this._ignoreInvalidLines=a},validCoordinateSequence:function(a){return a.length>=2?a:[a[0],a[0]]},interfaces_:function(){return[]},getClass:function(){return wj}}),Bp(xj.prototype,{computeLinear:function(a,b){var c=new wj(this._line.getFactory());c.setFixInvalidLines(!0),a.isVertex()||c.add(a.getCoordinate(this._line));for(var d=new tj(this._line,a);d.hasNext()&&!(b.compareLocationValues(d.getComponentIndex(),d.getVertexIndex(),0)<0);d.next()){var e=d.getSegmentStart();c.add(e),d.isEndOfLine()&&c.endLine()}return b.isVertex()||c.add(b.getCoordinate(this._line)),c.getGeometry()},computeLine:function(a,b){var c=this._line.getCoordinates(),d=new Rc,e=a.getSegmentIndex();a.getSegmentFraction()>0&&(e+=1);var f=b.getSegmentIndex();1===b.getSegmentFraction()&&(f+=1),f>=c.length&&(f=c.length-1),a.isVertex()||d.add(a.getCoordinate(this._line));for(var g=e;g<=f;g++)d.add(c[g]);b.isVertex()||d.add(b.getCoordinate(this._line)),d.size()<=0&&d.add(a.getCoordinate(this._line));var h=d.toCoordinateArray();return h.length<=1&&(h=[h[0],h[0]]),this._line.getFactory().createLineString(h)},extract:function(a,b){return b.compareTo(a)<0?this.reverse(this.computeLinear(b,a)):this.computeLinear(a,b)},reverse:function(a){return a instanceof Sd?a.reverse():a instanceof Hd?a.reverse():(Hc.shouldNeverReachHere("non-linear geometry encountered"),null)},interfaces_:function(){return[]},getClass:function(){return xj}}),xj.extract=function(a,b,c){return new xj(a).extract(b,c)},Bp(yj.prototype,{clampIndex:function(a){var b=a.clone();return b.clamp(this._linearGeom),b},project:function(a){return uj.indexOf(this._linearGeom,a)},checkGeometryType:function(){if(!(this._linearGeom instanceof Sd||this._linearGeom instanceof Hd))throw new zc("Input geometry must be linear")},extractPoint:function(){if(1===arguments.length){var a=arguments[0];return a.getCoordinate(this._linearGeom)}if(2===arguments.length){var a=arguments[0],b=arguments[1],c=a.toLowest(this._linearGeom);return c.getSegment(this._linearGeom).pointAlongOffset(c.getSegmentFraction(),b)}},isValidIndex:function(a){return a.isValid(this._linearGeom)},getEndIndex:function(){return sj.getEndLocation(this._linearGeom)},getStartIndex:function(){return new sj},indexOfAfter:function(a,b){return uj.indexOfAfter(this._linearGeom,a,b)},extractLine:function(a,b){return xj.extract(this._linearGeom,a,b)},indexOf:function(a){return uj.indexOf(this._linearGeom,a)},indicesOf:function(a){return vj.indicesOf(this._linearGeom,a)},interfaces_:function(){return[]},getClass:function(){return yj}}),Bp(zj.prototype,{indexOf:function(a){return this.indexOfFromStart(a,-1)},indexOfFromStart:function(a,b){for(var c=Ac.MAX_VALUE,d=b,e=0,f=new Fe,g=new tj(this._linearGeom);g.hasNext();){if(!g.isEndOfLine()){f.p0=g.getSegmentStart(),f.p1=g.getSegmentEnd();var h=f.distance(a),i=this.segmentNearestMeasure(f,a,e);h<c&&i>b&&(d=i,c=h),e+=f.getLength()}g.next()}return d},indexOfAfter:function(a,b){if(b<0)return this.indexOf(a);var c=this._linearGeom.getLength();if(c<b)return c;var d=this.indexOfFromStart(a,b);return Hc.isTrue(d>=b,"computed index is before specified minimum index"),d},segmentNearestMeasure:function(a,b,c){var d=a.projectionFactor(b);return d<=0?c:d<=1?c+d*a.getLength():c+a.getLength()},interfaces_:function(){return[]},getClass:function(){return zj}}),zj.indexOf=function(a,b){return new zj(a).indexOf(b)},zj.indexOfAfter=function(a,b,c){return new zj(a).indexOfAfter(b,c)},Bp(Aj.prototype,{getLength:function(a){for(var b=0,c=new tj(this._linearGeom);c.hasNext();){if(!c.isEndOfLine()){var d=c.getSegmentStart(),e=c.getSegmentEnd(),f=e.distance(d);if(a.getComponentIndex()===c.getComponentIndex()&&a.getSegmentIndex()===c.getVertexIndex())return b+f*a.getSegmentFraction();b+=f}c.next()}return b},resolveHigher:function(a){if(!a.isEndpoint(this._linearGeom))return a;var b=a.getComponentIndex();if(b>=this._linearGeom.getNumGeometries()-1)return a;do{b++}while(b<this._linearGeom.getNumGeometries()-1&&0===this._linearGeom.getGeometryN(b).getLength());return new sj(b,0,0)},getLocation:function(){if(1===arguments.length){var a=arguments[0];return this.getLocation(a,!0)}if(2===arguments.length){var a=arguments[0],b=arguments[1],c=a;if(a<0){c=this._linearGeom.getLength()+a}var d=this.getLocationForward(c);return b?d:this.resolveHigher(d)}},getLocationForward:function(a){if(a<=0)return new sj;for(var b=0,c=new tj(this._linearGeom);c.hasNext();){if(c.isEndOfLine()){if(b===a){var d=c.getComponentIndex(),e=c.getVertexIndex();return new sj(d,e,0)}}else{var f=c.getSegmentStart(),g=c.getSegmentEnd(),h=g.distance(f);if(b+h>a){var i=(a-b)/h,d=c.getComponentIndex(),e=c.getVertexIndex();return new sj(d,e,i)}b+=h}c.next()}return sj.getEndLocation(this._linearGeom)},interfaces_:function(){return[]},getClass:function(){return Aj}}),Aj.getLength=function(a,b){return new Aj(a).getLength(b)},Aj.getLocation=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new Aj(a);return c.getLocation(b)}if(3===arguments.length){var a=arguments[0],b=arguments[1],d=arguments[2],c=new Aj(a);return c.getLocation(b,d)}},Bp(Bj.prototype,{clampIndex:function(a){var b=this.positiveIndex(a),c=this.getStartIndex();if(b<c)return c;var d=this.getEndIndex();return b>d?d:b},locationOf:function(){if(1===arguments.length){var a=arguments[0];return Aj.getLocation(this._linearGeom,a)}if(2===arguments.length){var a=arguments[0],b=arguments[1];return Aj.getLocation(this._linearGeom,a,b)}},project:function(a){return zj.indexOf(this._linearGeom,a)},positiveIndex:function(a){return a>=0?a:this._linearGeom.getLength()+a},extractPoint:function(){if(1===arguments.length){var a=arguments[0],b=Aj.getLocation(this._linearGeom,a);return b.getCoordinate(this._linearGeom)}if(2===arguments.length){var a=arguments[0],c=arguments[1],b=Aj.getLocation(this._linearGeom,a),d=b.toLowest(this._linearGeom);return d.getSegment(this._linearGeom).pointAlongOffset(d.getSegmentFraction(),c)}},isValidIndex:function(a){return a>=this.getStartIndex()&&a<=this.getEndIndex()},getEndIndex:function(){return this._linearGeom.getLength()},getStartIndex:function(){return 0},indexOfAfter:function(a,b){return zj.indexOfAfter(this._linearGeom,a,b)},extractLine:function(a,b){var c=(new yj(this._linearGeom),this.clampIndex(a)),d=this.clampIndex(b),e=c===d,f=this.locationOf(c,e),g=this.locationOf(d);return xj.extract(this._linearGeom,f,g)},indexOf:function(a){return zj.indexOf(this._linearGeom,a)},indicesOf:function(a){var b=vj.indicesOf(this._linearGeom,a);return[Aj.getLength(this._linearGeom,b[0]),Aj.getLength(this._linearGeom,b[1])]},interfaces_:function(){return[]},getClass:function(){return Bj}});var Up=function(){return new Mj};Mj.prototype={constructor:Mj,reset:function(){this.s=this.t=0},add:function(a){Nj(Vp,a,this.t),Nj(this,Vp.s,this.s),this.s?this.t+=Vp.t:this.s=Vp.t},valueOf:function(){return this.s}};var Vp=new Mj,Wp=1e-6,Xp=Math.PI,Yp=Xp/2,Zp=Xp/4,$p=2*Xp,_p=180/Xp,aq=Xp/180,bq=Math.abs,cq=Math.atan,dq=Math.atan2,eq=Math.cos,fq=Math.exp,gq=Math.log,hq=Math.sin,iq=Math.sqrt,jq=Math.tan,kq={Feature:function(a,b){Rj(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)Rj(c[d].geometry,b)}},lq={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){Sj(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Sj(c[d],b,0)},Polygon:function(a,b){Tj(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Tj(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)Rj(c[d],b)}},mq=function(a,b){a&&kq.hasOwnProperty(a.type)?kq[a.type](a,b):Rj(a,b)},nq=(Up(),Up(),Up(),function(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return(c=b.invert(c,d))&&a.invert(c[0],c[1])}),c});_j.invert=_j;var oq=function(a){function b(b){return b=a(b[0]*aq,b[1]*aq),b[0]*=_p,b[1]*=_p,b}return a=ak(a[0]*aq,a[1]*aq,a.length>2?a[2]*aq:0),b.invert=function(b){return b=a.invert(b[0]*aq,b[1]*aq),b[0]*=_p,b[1]*=_p,b},b},pq=function(){var a,b=[];return{point:function(b,c){a.push([b,c])},lineStart:function(){b.push(a=[])},lineEnd:Qj,rejoin:function(){b.length>1&&b.push(b.pop().concat(b.shift()))},result:function(){var c=b;return b=[],a=null,c}}},qq=function(a,b,c,d,e,f){var g,h=a[0],i=a[1],j=b[0],k=b[1],l=0,m=1,n=j-h,o=k-i;if(g=c-h,n||!(g>0)){if(g/=n,n<0){if(g<l)return;g<m&&(m=g)}else if(n>0){if(g>m)return;g>l&&(l=g)}if(g=e-h,n||!(g<0)){if(g/=n,n<0){if(g>m)return;g>l&&(l=g)}else if(n>0){if(g<l)return;g<m&&(m=g)}if(g=d-i,o||!(g>0)){if(g/=o,o<0){if(g<l)return;g<m&&(m=g)}else if(o>0){if(g>m)return;g>l&&(l=g)}if(g=f-i,o||!(g<0)){if(g/=o,o<0){if(g>m)return;g>l&&(l=g)}else if(o>0){if(g<l)return;g<m&&(m=g)}return l>0&&(a[0]=h+l*n,a[1]=i+l*o),m<1&&(b[0]=h+m*n,b[1]=i+m*o),!0}}}}},rq=function(a,b){return bq(a[0]-b[0])<Wp&&bq(a[1]-b[1])<Wp},sq=function(a,b,c,d,e){var f,g,h=[],i=[];if(a.forEach(function(a){if(!((b=a.length-1)<=0)){var b,c,d=a[0],g=a[b];if(rq(d,g)){for(e.lineStart(),f=0;f<b;++f)e.point((d=a[f])[0],d[1]);return void e.lineEnd()}h.push(c=new gk(d,a,null,!0)),i.push(c.o=new gk(d,null,c,!1)),h.push(c=new gk(g,a,null,!1)),i.push(c.o=new gk(g,null,c,!0))}}),h.length){for(i.sort(b),hk(h),hk(i),f=0,g=i.length;f<g;++f)i[f].e=c=!c;for(var j,k,l=h[0];;){for(var m=l,n=!0;m.v;)if((m=m.n)===l)return;j=m.z,e.lineStart();do{if(m.v=m.o.v=!0,m.e){if(n)for(f=0,g=j.length;f<g;++f)e.point((k=j[f])[0],k[1]);else d(m.x,m.n.x,1,e);m=m.n}else{if(n)for(j=m.p.z,f=j.length-1;f>=0;--f)e.point((k=j[f])[0],k[1]);else d(m.x,m.p.x,-1,e);m=m.p}m=m.o,j=m.z,n=!n}while(!m.v);e.lineEnd()}}},tq=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN},uq=function(a){return 1===a.length&&(a=ik(a)),{left:function(b,c,d,e){for(null==d&&(d=0),null==e&&(e=b.length);d<e;){var f=d+e>>>1;a(b[f],c)<0?d=f+1:e=f}return d},right:function(b,c,d,e){for(null==d&&(d=0),null==e&&(e=b.length);d<e;){var f=d+e>>>1;a(b[f],c)>0?e=f:d=f+1}return d}}},vq=(uq(tq),function(a){for(var b,c,d,e=a.length,f=-1,g=0;++f<e;)g+=a[f].length;for(c=new Array(g);--e>=0;)for(d=a[e],b=d.length;--b>=0;)c[--g]=d[b];return c}),wq=1e9,xq=-wq,yq=Up(),zq=function(a,b){var c=b[0],d=b[1],e=[hq(c),-eq(c),0],f=0,g=0;yq.reset();for(var h=0,i=a.length;h<i;++h)if(k=(j=a[h]).length)for(var j,k,l=j[k-1],m=l[0],n=l[1]/2+Zp,o=hq(n),p=eq(n),q=0;q<k;++q,m=s,o=u,p=v,l=r){var r=j[q],s=r[0],t=r[1]/2+Zp,u=hq(t),v=eq(t),w=s-m,x=w>=0?1:-1,y=x*w,z=y>Xp,A=o*u;if(yq.add(dq(A*x*hq(y),p*v+A*eq(y))),f+=z?w+x*$p:w,z^m>=c^s>=c){var B=Xj(Vj(l),Vj(r));$j(B);var C=Xj(e,B);$j(C);var D=(z^w>=0?-1:1)*Pj(C[2]);(d>D||d===D&&(B[0]||B[1]))&&(g+=z^w>=0?1:-1)}}return(f<-Wp||f<Wp&&yq<-Wp)^1&g},Aq=(Up(),function(a){return a}),Bq=(Up(),Up(),1/0),Cq=Bq,Dq=-Bq,Eq=Dq,Fq={point:kk,lineStart:Qj,lineEnd:Qj,polygonStart:Qj,polygonEnd:Qj,result:function(){var a=[[Bq,Cq],[Dq,Eq]];return Dq=Eq=-(Cq=Bq=1/0),a}},Gq=(Up(),function(a,b,c,d){return function(e,f){function g(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function h(a,b){var c=e(a,b);q.point(c[0],c[1])}function i(){v.point=h,q.lineStart()}function j(){v.point=g,q.lineEnd()}function k(a,b){p.push([a,b]);var c=e(a,b);t.point(c[0],c[1])}function l(){t.lineStart(),p=[]}function m(){k(p[0][0],p[0][1]),t.lineEnd();var a,b,c,d,e=t.clean(),g=s.result(),h=g.length;if(p.pop(),n.push(p),p=null,h)if(1&e){if(c=g[0],(b=c.length-1)>0){for(u||(f.polygonStart(),u=!0),f.lineStart(),a=0;a<b;++a)f.point((d=c[a])[0],d[1]);f.lineEnd()}}else h>1&&2&e&&g.push(g.pop().concat(g.shift())),o.push(g.filter(lk))}var n,o,p,q=b(f),r=e.invert(d[0],d[1]),s=pq(),t=b(s),u=!1,v={point:g,lineStart:i,lineEnd:j,polygonStart:function(){v.point=k,v.lineStart=l,v.lineEnd=m,o=[],n=[]},polygonEnd:function(){v.point=g,v.lineStart=i,v.lineEnd=j,o=vq(o);var a=zq(n,r);o.length?(u||(f.polygonStart(),u=!0),sq(o,mk,a,c,f)):a&&(u||(f.polygonStart(),u=!0),f.lineStart(),c(null,null,1,f),f.lineEnd()),u&&(f.polygonEnd(),u=!1),o=n=null},sphere:function(){f.polygonStart(),f.lineStart(),c(null,null,1,f),f.lineEnd(),f.polygonEnd()}};return v}}),Hq=Gq(function(){return!0},nk,pk,[-Xp,-Yp]),Iq=function(a,b){function c(c,d,e,f){ek(f,a,b,e,c,d)}function d(a,b){return eq(a)*eq(b)>h}function e(a){var b,c,e,h,k;return{lineStart:function(){h=e=!1,k=1},point:function(l,m){var n,o=[l,m],p=d(l,m),q=i?p?0:g(l,m):p?g(l+(l<0?Xp:-Xp),m):0;if(!b&&(h=e=p)&&a.lineStart(),p!==e&&(!(n=f(b,o))||rq(b,n)||rq(o,n))&&(o[0]+=Wp,o[1]+=Wp,p=d(o[0],o[1])),p!==e)k=0,p?(a.lineStart(),n=f(o,b),a.point(n[0],n[1])):(n=f(b,o),a.point(n[0],n[1]),a.lineEnd()),b=n;else if(j&&b&&i^p){var r;q&c||!(r=f(o,b,!0))||(k=0,i?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1])))}!p||b&&rq(b,o)||a.point(o[0],o[1]),b=o,e=p,c=q},lineEnd:function(){e&&a.lineEnd(),b=null},clean:function(){return k|(h&&e)<<1}}}function f(a,b,c){var d=Vj(a),e=Vj(b),f=[1,0,0],g=Xj(d,e),i=Wj(g,g),j=g[0],k=i-j*j;if(!k)return!c&&a;var l=h*i/k,m=-h*j/k,n=Xj(f,g),o=Zj(f,l);Yj(o,Zj(g,m));var p=n,q=Wj(o,p),r=Wj(p,p),s=q*q-r*(Wj(o,o)-1);if(!(s<0)){var t=iq(s),u=Zj(p,(-q-t)/r);if(Yj(u,o),u=Uj(u),!c)return u;var v,w=a[0],x=b[0],y=a[1],z=b[1];x<w&&(v=w,w=x,x=v);var A=x-w,B=bq(A-Xp)<Wp,C=B||A<Wp;if(!B&&z<y&&(v=y,y=z,z=v),C?B?y+z>0^u[1]<(bq(u[0]-w)<Wp?y:z):y<=u[1]&&u[1]<=z:A>Xp^(w<=u[0]&&u[0]<=x)){var D=Zj(p,(-q+t)/r);return Yj(D,o),[u,Uj(D)]}}}function g(b,c){var d=i?a:Xp-a,e=0;return b<-d?e|=1:b>d&&(e|=2),c<-d?e|=4:c>d&&(e|=8),e}var h=eq(a),i=h>0,j=bq(h)>Wp;return Gq(d,e,c,i?[0,-a]:[-Xp,a-Xp])};rk.prototype={constructor:rk,point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Jq=16,Kq=eq(30*aq),Lq=function(a,b){return+b?vk(a,b):uk(a)},Mq=qk({point:function(a,b){this.stream.point(a*aq,b*aq)}});yk.invert=function(a,b){return[a,2*cq(fq(b))-Yp]},Ak.invert=function(a,b){return[-b,2*cq(fq(a))-Yp]};var Nq=function(){var a=zk(Ak),b=a.center,c=a.rotate;return a.center=function(a){return arguments.length?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return arguments.length?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90]).scale(159.155)},Oq=Pk,Pq=Sk;Sk.prototype={all:function(){return this._all(this.data,[])},search:function(a){var b=this.data,c=[],d=this.toBBox;if(!cl(a,b))return c;for(var e,f,g,h,i=[];b;){for(e=0,f=b.children.length;e<f;e++)g=b.children[e],h=b.leaf?d(g):g,cl(a,h)&&(b.leaf?c.push(g):bl(a,h)?this._all(g,c):i.push(g));b=i.pop()}return c},collides:function(a){var b=this.data,c=this.toBBox;if(!cl(a,b))return!1;for(var d,e,f,g,h=[];b;){for(d=0,e=b.children.length;d<e;d++)if(f=b.children[d],g=b.leaf?c(f):f,cl(a,g)){if(b.leaf||bl(a,g))return!0;h.push(f)}b=h.pop()}return!1},load:function(a){if(!a||!a.length)return this;if(a.length<this._minEntries){for(var b=0,c=a.length;b<c;b++)this.insert(a[b]);return this}var d=this._build(a.slice(),0,a.length-1,0);if(this.data.children.length)if(this.data.height===d.height)this._splitRoot(this.data,d);else{if(this.data.height<d.height){var e=this.data;this.data=d,d=e}this._insert(d,this.data.height-d.height-1,!0)}else this.data=d;return this},insert:function(a){return a&&this._insert(a,this.data.height-1),this},clear:function(){return this.data=dl([]),this},remove:function(a,b){if(!a)return this;for(var c,d,e,f,g=this.data,h=this.toBBox(a),i=[],j=[];g||i.length;){if(g||(g=i.pop(),d=i[i.length-1],c=j.pop(),f=!0),g.leaf&&-1!==(e=Tk(a,g.children,b)))return g.children.splice(e,1),i.push(g),this._condense(i),this;f||g.leaf||!bl(g,h)?d?(c++,g=d.children[c],f=!1):g=null:(i.push(g),j.push(c),c=0,d=g,g=g.children[0])}return this},toBBox:function(a){return a},compareMinX:Xk,compareMinY:Yk,toJSON:function(){return this.data},fromJSON:function(a){return this.data=a,this},_all:function(a,b){for(var c=[];a;)a.leaf?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},_build:function(a,b,c,d){var e,f=c-b+1,g=this._maxEntries;if(f<=g)return e=dl(a.slice(b,c+1)),Uk(e,this.toBBox),e;d||(d=Math.ceil(Math.log(f)/Math.log(g)),g=Math.ceil(f/Math.pow(g,d-1))),e=dl([]),e.leaf=!1,e.height=d;var h,i,j,k,l=Math.ceil(f/g),m=l*Math.ceil(Math.sqrt(g));for(el(a,b,c,m,this.compareMinX),h=b;h<=c;h+=m)for(j=Math.min(h+m-1,c),el(a,h,j,l,this.compareMinY),i=h;i<=j;i+=l)k=Math.min(i+l-1,j),e.children.push(this._build(a,i,k,d-1));return Uk(e,this.toBBox),e},_chooseSubtree:function(a,b,c,d){for(var e,f,g,h,i,j,k,l;;){if(d.push(b),b.leaf||d.length-1===c)break;for(k=l=1/0,e=0,f=b.children.length;e<f;e++)g=b.children[e],i=Zk(g),j=_k(a,g)-i,j<l?(l=j,k=i<k?i:k,h=g):j===l&&i<k&&(k=i,h=g);b=h||b.children[0]}return b},_insert:function(a,b,c){var d=this.toBBox,e=c?a:d(a),f=[],g=this._chooseSubtree(e,this.data,b,f);for(g.children.push(a),Wk(g,e);b>=0&&f[b].children.length>this._maxEntries;)this._split(f,b),b--;this._adjustParentBBoxes(e,f,b)},_split:function(a,b){var c=a[b],d=c.children.length,e=this._minEntries;this._chooseSplitAxis(c,e,d);var f=this._chooseSplitIndex(c,e,d),g=dl(c.children.splice(f,c.children.length-f));g.height=c.height,g.leaf=c.leaf,Uk(c,this.toBBox),Uk(g,this.toBBox),b?a[b-1].children.push(g):this._splitRoot(c,g)},_splitRoot:function(a,b){this.data=dl([a,b]),this.data.height=a.height+1,this.data.leaf=!1,Uk(this.data,this.toBBox)},_chooseSplitIndex:function(a,b,c){var d,e,f,g,h,i,j,k;for(i=j=1/0,d=b;d<=c-b;d++)e=Vk(a,0,d,this.toBBox),f=Vk(a,d,c,this.toBBox),g=al(e,f),h=Zk(e)+Zk(f),g<i?(i=g,k=d,j=h<j?h:j):g===i&&h<j&&(j=h,k=d);return k},_chooseSplitAxis:function(a,b,c){var d=a.leaf?this.compareMinX:Xk,e=a.leaf?this.compareMinY:Yk;this._allDistMargin(a,b,c,d)<this._allDistMargin(a,b,c,e)&&a.children.sort(d)},_allDistMargin:function(a,b,c,d){a.children.sort(d);var e,f,g=this.toBBox,h=Vk(a,0,b,g),i=Vk(a,c-b,c,g),j=$k(h)+$k(i);for(e=b;e<c-b;e++)f=a.children[e],Wk(h,a.leaf?g(f):f),j+=$k(h);for(e=c-b-1;e>=b;e--)f=a.children[e],Wk(i,a.leaf?g(f):f),j+=$k(i);return j},_adjustParentBBoxes:function(a,b,c){for(var d=c;d>=0;d--)Wk(b[d],a)},_condense:function(a){for(var b,c=a.length-1;c>=0;c--)0===a[c].children.length?c>0?(b=a[c-1].children,b.splice(b.indexOf(a[c]),1)):this.clear():Uk(a[c],this.toBBox)},_initFormat:function(a){var b=["return a"," - b",";"];this.compareMinX=new Function("a","b",b.join(a[0])),this.compareMinY=new Function("a","b",b.join(a[1])),this.toBBox=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}};var Qq=function(a,b,c){function d(a,c,d,e){var i=f[a][c],j=f[a][c+1],k=f[d][e],l=f[d][e+1],m=fl(i,j,k,l);if(null!==m){var n,o;if(n=j[0]!==i[0]?(m[0]-i[0])/(j[0]-i[0]):(m[1]-i[1])/(j[1]-i[1]),o=l[0]!==k[0]?(m[0]-k[0])/(l[0]-k[0]):(m[1]-k[1])/(l[1]-k[1]),!(n>=1||n<=0||o>=1||o<=0)){var p=m,q=!h[p];q&&(h[p]=!0),b?g.push(b(m,a,c,i,j,n,d,e,k,l,o,q)):g.push(m)}}}function e(a,b){var c,d,e,g,h=f[a][b],i=f[a][b+1];return h[0]<i[0]?(c=h[0],d=i[0]):(c=i[0],d=h[0]),h[1]<i[1]?(e=h[1],g=i[1]):(e=i[1],g=h[1]),{minX:c,minY:e,maxX:d,maxY:g,ring:a,edge:b}}if("Polygon"!==a.geometry.type)throw new Error("The input feature must be a Polygon");void 0===c&&(c=1);var f=a.geometry.coordinates,g=[],h={};if(c){for(var i=[],j=0;j<f.length;j++)for(var k=0;k<f[j].length-1;k++)i.push(e(j,k));var l=Pq();l.load(i)}for(var m=0;m<f.length;m++)for(var n=0;n<f[m].length-1;n++)if(c){var o=l.search(e(m,n));o.forEach(function(a){var b=a.ring,c=a.edge;d(m,n,b,c)})}else for(var p=0;p<f.length;p++)for(var q=0;q<f[p].length-1;q++)d(m,n,p,q);return b||(g={type:"Feature",geometry:{type:"MultiPoint",coordinates:g}}),g},Rq=6378137,Sq=function(a){function b(){for(var a=[],b=0;b<m.features.length;b++)-1==m.features[b].properties.parent&&a.push(b);if(a.length>1)for(var b=0;b<a.length;b++){for(var c=-1,d=1/0,e=0;e<m.features.length;e++)a[b]!=e&&Ik(m.features[a[b]].geometry.coordinates[0][0],m.features[e],{ignoreBoundary:!0})&&hl(m.features[e])<d&&(c=e);m.features[a[b]].properties.parent=c}}function c(){for(var a=0;a<m.features.length;a++)if(-1==m.features[a].properties.parent){var b=m.features[a].properties.winding;m.features[a].properties.netWinding=b,d(a,b)}}function d(a,b){for(var c=0;c<m.features.length;c++)if(m.features[c].properties.parent==a){var e=b+m.features[c].properties.winding;m.features[c].properties.netWinding=e,d(c,e)}}if("Feature"!=a.type)throw new Error("The input must a geojson object of type Feature");if(void 0===a.geometry||null==a.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=a.geometry.type)throw new Error("The input must be a geojson Polygon");for(var e=a.geometry.coordinates.length,f=[],g=0;g<e;g++){var h=a.geometry.coordinates[g];pl(h[0],h[h.length-1])||h.push(h[0]),f.push.apply(f,h.slice(0,h.length-1))}if(!ql(f))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var i=f.length,j=Qq(a,function(a,b,c,d,e,f,g,h,i,j,k,l){return[a,b,c,d,e,f,g,h,i,j,k,l]}),k=j.length;if(0==k){for(var l=[],g=0;g<e;g++)l.push(cb([a.geometry.coordinates[g]],{parent:-1,winding:nl(a.geometry.coordinates[g])}));var m=eb(l);return b(),c(),m}for(var n=[],o=[],g=0;g<e;g++){n.push([]);for(var p=0;p<a.geometry.coordinates[g].length-1;p++)n[g].push([new Tq(a.geometry.coordinates[g][(p+1).modulo(a.geometry.coordinates[g].length-1)],1,[g,p],[g,(p+1).modulo(a.geometry.coordinates[g].length-1)],void 0)]),o.push(new Uq(a.geometry.coordinates[g][p],[g,(p-1).modulo(a.geometry.coordinates[g].length-1)],[g,p],void 0,void 0,!1,!0))}for(var g=0;g<k;g++)n[j[g][1]][j[g][2]].push(new Tq(j[g][0],j[g][5],[j[g][1],j[g][2]],[j[g][6],j[g][7]],void 0)),j[g][11]&&o.push(new Uq(j[g][0],[j[g][1],j[g][2]],[j[g][6],j[g][7]],void 0,void 0,!0,!0));for(var q=o.length,g=0;g<n.length;g++)for(var p=0;p<n[g].length;p++)n[g][p].sort(function(a,b){return a.param<b.param?-1:1});for(var r=[],g=0;g<q;g++)r.push({minX:o[g].coord[0],minY:o[g].coord[1],maxX:o[g].coord[0],maxY:o[g].coord[1],index:g});var s=Pq();s.load(r);for(var g=0;g<n.length;g++)for(var p=0;p<n[g].length;p++)for(var t=0;t<n[g][p].length;t++){var u;u=t==n[g][p].length-1?n[g][(p+1).modulo(a.geometry.coordinates[g].length-1)][0].coord:n[g][p][t+1].coord;var v=s.search({minX:u[0],minY:u[1],maxX:u[0],maxY:u[1]})[0];n[g][p][t].nxtIsectAlongEdgeIn=v.index}for(var g=0;g<n.length;g++)for(var p=0;p<n[g].length;p++)for(var t=0;t<n[g][p].length;t++){var u=n[g][p][t].coord,v=s.search({minX:u[0],minY:u[1],maxX:u[0],maxY:u[1]})[0],w=v.index;w<i?o[w].nxtIsectAlongRingAndEdge2=n[g][p][t].nxtIsectAlongEdgeIn:pl(o[w].ringAndEdge1,n[g][p][t].ringAndEdgeIn)?o[w].nxtIsectAlongRingAndEdge1=n[g][p][t].nxtIsectAlongEdgeIn:o[w].nxtIsectAlongRingAndEdge2=n[g][p][t].nxtIsectAlongEdgeIn}for(var x=[],g=0,p=0;p<e;p++){for(var y=g,t=0;t<a.geometry.coordinates[p].length-1;t++)o[g].coord[0]<o[y].coord[0]&&(y=g),g++;for(var z=o[y].nxtIsectAlongRingAndEdge2,t=0;t<o.length;t++)if(o[t].nxtIsectAlongRingAndEdge1==y||o[t].nxtIsectAlongRingAndEdge2==y){var A=t;break}var B=ml([o[A].coord,o[y].coord,o[z].coord],!0)?1:-1;x.push({isect:y,parent:-1,winding:B})}x.sort(function(a,b){return o[a.isect].coord>o[b.isect].coord?-1:1});for(var l=[];x.length>0;){var C=x.pop(),D=C.isect,E=C.parent,F=C.winding,G=l.length,H=[o[D].coord],I=D;if(o[D].ringAndEdge1Walkable)var J=o[D].ringAndEdge1,K=o[D].nxtIsectAlongRingAndEdge1;else var J=o[D].ringAndEdge2,K=o[D].nxtIsectAlongRingAndEdge2;for(;!pl(o[D].coord,o[K].coord);){H.push(o[K].coord);for(var L=void 0,g=0;g<x.length;g++)if(x[g].isect==K){L=g;break}if(void 0!=L&&x.splice(L,1),pl(J,o[K].ringAndEdge1)){if(J=o[K].ringAndEdge2,o[K].ringAndEdge2Walkable=!1,o[K].ringAndEdge1Walkable){var M={isect:K};ml([o[I].coord,o[K].coord,o[o[K].nxtIsectAlongRingAndEdge2].coord],1==F)?(M.parent=E,M.winding=-F):(M.parent=G,M.winding=F),x.push(M)}I=K,K=o[K].nxtIsectAlongRingAndEdge2}else{if(J=o[K].ringAndEdge1,o[K].ringAndEdge1Walkable=!1,o[K].ringAndEdge2Walkable){var M={isect:K};ml([o[I].coord,o[K].coord,o[o[K].nxtIsectAlongRingAndEdge1].coord],1==F)?(M.parent=E,M.winding=-F):(M.parent=G,M.winding=F),x.push(M)}I=K,K=o[K].nxtIsectAlongRingAndEdge1}}H.push(o[K].coord),l.push(cb([H],{index:G,parent:E,winding:F,netWinding:void 0}))}var m=eb(l);return b(),c(),m},Tq=function(a,b,c,d,e){this.coord=a,this.param=b,this.ringAndEdgeIn=c,this.ringAndEdgeOut=d,this.nxtIsectAlongEdgeIn=e},Uq=function(a,b,c,d,e,f,g){this.coord=a,this.ringAndEdge1=b,this.ringAndEdge2=c,this.nxtIsectAlongRingAndEdge1=d,this.nxtIsectAlongRingAndEdge2=e,this.ringAndEdge1Walkable=f,this.ringAndEdge2Walkable=g};Number.prototype.modulo=function(a){return(this%a+a)%a},El.prototype={all:function(){return this._all(this.data,[])},search:function(a){var b=this.data,c=[],d=this.toBBox;if(!Ql(a,b))return c;for(var e,f,g,h,i=[];b;){for(e=0,f=b.children.length;e<f;e++)g=b.children[e],h=b.leaf?d(g):g,Ql(a,h)&&(b.leaf?c.push(g):Pl(a,h)?this._all(g,c):i.push(g));b=i.pop()}return c},collides:function(a){var b=this.data,c=this.toBBox;if(!Ql(a,b))return!1;for(var d,e,f,g,h=[];b;){for(d=0,e=b.children.length;d<e;d++)if(f=b.children[d],g=b.leaf?c(f):f,Ql(a,g)){if(b.leaf||Pl(a,g))return!0;h.push(f)}b=h.pop()}return!1},load:function(a){if(!a||!a.length)return this;if(a.length<this._minEntries){for(var b=0,c=a.length;b<c;b++)this.insert(a[b]);return this}var d=this._build(a.slice(),0,a.length-1,0);if(this.data.children.length)if(this.data.height===d.height)this._splitRoot(this.data,d);else{if(this.data.height<d.height){var e=this.data;this.data=d,d=e}this._insert(d,this.data.height-d.height-1,!0)}else this.data=d;return this},insert:function(a){return a&&this._insert(a,this.data.height-1),this},clear:function(){return this.data=Rl([]),this},remove:function(a,b){if(!a)return this;for(var c,d,e,f,g=this.data,h=this.toBBox(a),i=[],j=[];g||i.length;){if(g||(g=i.pop(),d=i[i.length-1],c=j.pop(),f=!0),g.leaf&&-1!==(e=Fl(a,g.children,b)))return g.children.splice(e,1),i.push(g),this._condense(i),this;f||g.leaf||!Pl(g,h)?d?(c++,g=d.children[c],f=!1):g=null:(i.push(g),j.push(c),c=0,d=g,g=g.children[0])}return this},toBBox:function(a){return a},compareMinX:Jl,compareMinY:Kl,toJSON:function(){return this.data},fromJSON:function(a){return this.data=a,this},_all:function(a,b){for(var c=[];a;)a.leaf?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},_build:function(a,b,c,d){var e,f=c-b+1,g=this._maxEntries;if(f<=g)return e=Rl(a.slice(b,c+1)),Gl(e,this.toBBox),e;d||(d=Math.ceil(Math.log(f)/Math.log(g)),g=Math.ceil(f/Math.pow(g,d-1))),e=Rl([]),e.leaf=!1,e.height=d;var h,i,j,k,l=Math.ceil(f/g),m=l*Math.ceil(Math.sqrt(g));for(Sl(a,b,c,m,this.compareMinX),h=b;h<=c;h+=m)for(j=Math.min(h+m-1,c),Sl(a,h,j,l,this.compareMinY),i=h;i<=j;i+=l)k=Math.min(i+l-1,j),e.children.push(this._build(a,i,k,d-1));return Gl(e,this.toBBox),e},_chooseSubtree:function(a,b,c,d){for(var e,f,g,h,i,j,k,l;;){if(d.push(b),b.leaf||d.length-1===c)break;for(k=l=1/0,e=0,f=b.children.length;e<f;e++)g=b.children[e],i=Ll(g),j=Nl(a,g)-i,j<l?(l=j,k=i<k?i:k,h=g):j===l&&i<k&&(k=i,h=g);b=h||b.children[0]}return b},_insert:function(a,b,c){var d=this.toBBox,e=c?a:d(a),f=[],g=this._chooseSubtree(e,this.data,b,f);for(g.children.push(a),Il(g,e);b>=0&&f[b].children.length>this._maxEntries;)this._split(f,b),b--;this._adjustParentBBoxes(e,f,b)},_split:function(a,b){var c=a[b],d=c.children.length,e=this._minEntries;this._chooseSplitAxis(c,e,d);var f=this._chooseSplitIndex(c,e,d),g=Rl(c.children.splice(f,c.children.length-f));g.height=c.height,g.leaf=c.leaf,Gl(c,this.toBBox),Gl(g,this.toBBox),b?a[b-1].children.push(g):this._splitRoot(c,g)},_splitRoot:function(a,b){this.data=Rl([a,b]),this.data.height=a.height+1,this.data.leaf=!1,Gl(this.data,this.toBBox)},_chooseSplitIndex:function(a,b,c){var d,e,f,g,h,i,j,k;for(i=j=1/0,d=b;d<=c-b;d++)e=Hl(a,0,d,this.toBBox),f=Hl(a,d,c,this.toBBox),g=Ol(e,f),h=Ll(e)+Ll(f),g<i?(i=g,k=d,j=h<j?h:j):g===i&&h<j&&(j=h,k=d);return k},_chooseSplitAxis:function(a,b,c){var d=a.leaf?this.compareMinX:Jl,e=a.leaf?this.compareMinY:Kl;this._allDistMargin(a,b,c,d)<this._allDistMargin(a,b,c,e)&&a.children.sort(d)},_allDistMargin:function(a,b,c,d){a.children.sort(d);var e,f,g=this.toBBox,h=Hl(a,0,b,g),i=Hl(a,c-b,c,g),j=Ml(h)+Ml(i);for(e=b;e<c-b;e++)f=a.children[e],Il(h,a.leaf?g(f):f),j+=Ml(h);for(e=c-b-1;e>=b;e--)f=a.children[e],Il(i,a.leaf?g(f):f),j+=Ml(i);return j},_adjustParentBBoxes:function(a,b,c){for(var d=c;d>=0;d--)Il(b[d],a)},_condense:function(a){for(var b,c=a.length-1;c>=0;c--)0===a[c].children.length?c>0?(b=a[c-1].children,b.splice(b.indexOf(a[c]),1)):this.clear():Gl(a[c],this.toBBox)},_initFormat:function(a){var b=["return a"," - b",";"];this.compareMinX=new Function("a","b",b.join(a[0])),this.compareMinY=new Function("a","b",b.join(a[1])),this.toBBox=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}};var Vq={along:xc,arrayToFeaturePoints:rb,createbuffer:Hk,pointInPolygon:Lk,polygonToFeaturePolygon:qb,polylineToFeatureLinestring:pb,simplifyFeature:sc,simplifyPointArray:rc,toLatLngs:Za,toCoords:_a,trimPaths:gm,union:Dj,kinks:Ok,unkink:sl,concave:gc};a.along=xc,a.arrayToFeaturePoints=rb,a.createbuffer=Hk,a.pointInPolygon=Lk,a.polygonToFeaturePolygon=qb,a.polylineToFeatureLinestring=pb,a.simplifyFeature=sc,a.simplifyPointArray=rc,a.toLatLngs=Za,a.toCoords=_a,a.trimPaths=gm,a.kinks=Ok,a.unkink=sl,a.union=Dj,a.concave=gc,a.default=Vq,Object.defineProperty(a,"__esModule",{value:!0})}),Object.defineProperty(a,"__esModule",{value:!0})});
//# sourceMappingURL=ig_turfhelper.min.js.map